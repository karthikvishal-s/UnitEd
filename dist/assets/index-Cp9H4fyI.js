(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Qd={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Hw(){if(qv)return Sl;qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Sl.Fragment=e,Sl.jsx=n,Sl.jsxs=n,Sl}var Fv;function qw(){return Fv||(Fv=1,Qd.exports=Hw()),Qd.exports}var E=qw(),Yd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function Fw(){if(Gv)return Re;Gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,Q={};function L(M,ie,de){this.props=M,this.context=ie,this.refs=Q,this.updater=de||O}L.prototype.isReactComponent={},L.prototype.setState=function(M,ie){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ie,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=L.prototype;function te(M,ie,de){this.props=M,this.context=ie,this.refs=Q,this.updater=de||O}var Z=te.prototype=new G;Z.constructor=te,U(Z,L.prototype),Z.isPureReactComponent=!0;var ae=Array.isArray,ce={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function D(M,ie,de,oe,le,xe){return de=xe.ref,{$$typeof:r,type:M,key:ie,ref:de!==void 0?de:null,props:xe}}function R(M,ie){return D(M.type,ie,void 0,void 0,void 0,M.props)}function w(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function I(M){var ie={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return ie[de]})}var k=/\/+/g;function j(M,ie){return typeof M=="object"&&M!==null&&M.key!=null?I(""+M.key):ie.toString(36)}function N(){}function $e(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(N,N):(M.status="pending",M.then(function(ie){M.status==="pending"&&(M.status="fulfilled",M.value=ie)},function(ie){M.status==="pending"&&(M.status="rejected",M.reason=ie)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function dt(M,ie,de,oe,le){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Ae=!1;if(M===null)Ae=!0;else switch(xe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(M.$$typeof){case r:case e:Ae=!0;break;case T:return Ae=M._init,dt(Ae(M._payload),ie,de,oe,le)}}if(Ae)return le=le(M),Ae=oe===""?"."+j(M,0):oe,ae(le)?(de="",Ae!=null&&(de=Ae.replace(k,"$&/")+"/"),dt(le,ie,de,"",function(st){return st})):le!=null&&(w(le)&&(le=R(le,de+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(k,"$&/")+"/")+Ae)),ie.push(le)),1;Ae=0;var mt=oe===""?".":oe+":";if(ae(M))for(var je=0;je<M.length;je++)oe=M[je],xe=mt+j(oe,je),Ae+=dt(oe,ie,de,xe,le);else if(je=x(M),typeof je=="function")for(M=je.call(M),je=0;!(oe=M.next()).done;)oe=oe.value,xe=mt+j(oe,je++),Ae+=dt(oe,ie,de,xe,le);else if(xe==="object"){if(typeof M.then=="function")return dt($e(M),ie,de,oe,le);throw ie=String(M),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function se(M,ie,de){if(M==null)return M;var oe=[],le=0;return dt(M,oe,"","",function(xe){return ie.call(de,xe,le++)}),oe}function Ee(M){if(M._status===-1){var ie=M._result;ie=ie(),ie.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=ie)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function qe(){}return Re.Children={map:se,forEach:function(M,ie,de){se(M,function(){ie.apply(this,arguments)},de)},count:function(M){var ie=0;return se(M,function(){ie++}),ie},toArray:function(M){return se(M,function(ie){return ie})||[]},only:function(M){if(!w(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Re.Component=L,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=te,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cloneElement=function(M,ie,de){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=U({},M.props),le=M.key,xe=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(xe=void 0),ie.key!==void 0&&(le=""+ie.key),ie)!ne.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(oe[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)oe.children=de;else if(1<Ae){for(var mt=Array(Ae),je=0;je<Ae;je++)mt[je]=arguments[je+2];oe.children=mt}return D(M.type,le,void 0,void 0,xe,oe)},Re.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Re.createElement=function(M,ie,de){var oe,le={},xe=null;if(ie!=null)for(oe in ie.key!==void 0&&(xe=""+ie.key),ie)ne.call(ie,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=ie[oe]);var Ae=arguments.length-2;if(Ae===1)le.children=de;else if(1<Ae){for(var mt=Array(Ae),je=0;je<Ae;je++)mt[je]=arguments[je+2];le.children=mt}if(M&&M.defaultProps)for(oe in Ae=M.defaultProps,Ae)le[oe]===void 0&&(le[oe]=Ae[oe]);return D(M,xe,void 0,void 0,null,le)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:m,render:M}},Re.isValidElement=w,Re.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:Ee}},Re.memo=function(M,ie){return{$$typeof:y,type:M,compare:ie===void 0?null:ie}},Re.startTransition=function(M){var ie=ce.T,de={};ce.T=de;try{var oe=M(),le=ce.S;le!==null&&le(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(qe,ge)}catch(xe){ge(xe)}finally{ce.T=ie}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(M){return ce.H.use(M)},Re.useActionState=function(M,ie,de){return ce.H.useActionState(M,ie,de)},Re.useCallback=function(M,ie){return ce.H.useCallback(M,ie)},Re.useContext=function(M){return ce.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,ie){return ce.H.useDeferredValue(M,ie)},Re.useEffect=function(M,ie){return ce.H.useEffect(M,ie)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(M,ie,de){return ce.H.useImperativeHandle(M,ie,de)},Re.useInsertionEffect=function(M,ie){return ce.H.useInsertionEffect(M,ie)},Re.useLayoutEffect=function(M,ie){return ce.H.useLayoutEffect(M,ie)},Re.useMemo=function(M,ie){return ce.H.useMemo(M,ie)},Re.useOptimistic=function(M,ie){return ce.H.useOptimistic(M,ie)},Re.useReducer=function(M,ie,de){return ce.H.useReducer(M,ie,de)},Re.useRef=function(M){return ce.H.useRef(M)},Re.useState=function(M){return ce.H.useState(M)},Re.useSyncExternalStore=function(M,ie,de){return ce.H.useSyncExternalStore(M,ie,de)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.0.0",Re}var Kv;function zm(){return Kv||(Kv=1,Yd.exports=Fw()),Yd.exports}var B=zm(),$d={exports:{}},Al={},Xd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function Gw(){return Qv||(Qv=1,function(r){function e(se,Ee){var ge=se.length;se.push(Ee);e:for(;0<ge;){var qe=ge-1>>>1,M=se[qe];if(0<o(M,Ee))se[qe]=Ee,se[ge]=M,ge=qe;else break e}}function n(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var Ee=se[0],ge=se.pop();if(ge!==Ee){se[0]=ge;e:for(var qe=0,M=se.length,ie=M>>>1;qe<ie;){var de=2*(qe+1)-1,oe=se[de],le=de+1,xe=se[le];if(0>o(oe,ge))le<M&&0>o(xe,oe)?(se[qe]=xe,se[le]=ge,qe=le):(se[qe]=oe,se[de]=ge,qe=de);else if(le<M&&0>o(xe,ge))se[qe]=xe,se[le]=ge,qe=le;else break e}}return Ee}function o(se,Ee){var ge=se.sortIndex-Ee.sortIndex;return ge!==0?ge:se.id-Ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,A=null,x=3,O=!1,U=!1,Q=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function Z(se){for(var Ee=n(y);Ee!==null;){if(Ee.callback===null)s(y);else if(Ee.startTime<=se)s(y),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=n(y)}}function ae(se){if(Q=!1,Z(se),!U)if(n(p)!==null)U=!0,$e();else{var Ee=n(y);Ee!==null&&dt(ae,Ee.startTime-se)}}var ce=!1,ne=-1,D=5,R=-1;function w(){return!(r.unstable_now()-R<D)}function I(){if(ce){var se=r.unstable_now();R=se;var Ee=!0;try{e:{U=!1,Q&&(Q=!1,G(ne),ne=-1),O=!0;var ge=x;try{t:{for(Z(se),A=n(p);A!==null&&!(A.expirationTime>se&&w());){var qe=A.callback;if(typeof qe=="function"){A.callback=null,x=A.priorityLevel;var M=qe(A.expirationTime<=se);if(se=r.unstable_now(),typeof M=="function"){A.callback=M,Z(se),Ee=!0;break t}A===n(p)&&s(p),Z(se)}else s(p);A=n(p)}if(A!==null)Ee=!0;else{var ie=n(y);ie!==null&&dt(ae,ie.startTime-se),Ee=!1}}break e}finally{A=null,x=ge,O=!1}Ee=void 0}}finally{Ee?k():ce=!1}}}var k;if(typeof te=="function")k=function(){te(I)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,N=j.port2;j.port1.onmessage=I,k=function(){N.postMessage(null)}}else k=function(){L(I,0)};function $e(){ce||(ce=!0,k())}function dt(se,Ee){ne=L(function(){se(r.unstable_now())},Ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(se){se.callback=null},r.unstable_continueExecution=function(){U||O||(U=!0,$e())},r.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<se?Math.floor(1e3/se):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(se){switch(x){case 1:case 2:case 3:var Ee=3;break;default:Ee=x}var ge=x;x=Ee;try{return se()}finally{x=ge}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(se,Ee){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ge=x;x=se;try{return Ee()}finally{x=ge}},r.unstable_scheduleCallback=function(se,Ee,ge){var qe=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?qe+ge:qe):ge=qe,se){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,se={id:T++,callback:Ee,priorityLevel:se,startTime:ge,expirationTime:M,sortIndex:-1},ge>qe?(se.sortIndex=ge,e(y,se),n(p)===null&&se===n(y)&&(Q?(G(ne),ne=-1):Q=!0,dt(ae,ge-qe))):(se.sortIndex=M,e(p,se),U||O||(U=!0,$e())),se},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(se){var Ee=x;return function(){var ge=x;x=Ee;try{return se.apply(this,arguments)}finally{x=ge}}}}(Wd)),Wd}var Yv;function Kw(){return Yv||(Yv=1,Xd.exports=Gw()),Xd.exports}var Zd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function Qw(){if($v)return Kt;$v=1;var r=zm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,T)},Kt.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Kt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,A=m(T,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:O}):T==="script"&&s.d.X(p,{crossOrigin:A,integrity:x,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Kt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Kt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Kt.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,y){return p(y)},Kt.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.0.0",Kt}var Xv;function Yw(){if(Xv)return Zd.exports;Xv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zd.exports=Qw(),Zd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function $w(){if(Wv)return Al;Wv=1;var r=Kw(),e=zm(),n=Yw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),ae=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ne(t){return t===null||typeof t!="object"?null:(t=ce&&t[ce]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case Q:return"Suspense";case L:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O:return(t.displayName||"Context")+".Provider";case x:return(t._context.displayName||"Context")+".Consumer";case U:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return i=t.displayName||null,i!==null?i:R(t.type)||"Memo";case te:i=t._payload,t=t._init;try{return R(t(i))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,k,j;function N(t){if(k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+t+j}var $e=!1;function dt(t,i){if(!t||$e)return"";$e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var F=Y}Reflect.construct(t,[],J)}else{try{J.call()}catch(Y){F=Y}t.call(J.prototype)}}else{try{throw Error()}catch(Y){F=Y}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var C=_.split(`
`),P=b.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===P.length)for(l=C.length-1,h=P.length-1;1<=l&&0<=h&&C[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==P[h]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{$e=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function se(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=dt(t.type,!1),t;case 11:return t=dt(t.type.render,!1),t;case 1:return t=dt(t.type,!0),t;default:return""}}function Ee(t){try{var i="";do i+=se(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ge(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function qe(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function M(t){if(ge(t)!==t)throw Error(s(188))}function ie(t){var i=t.alternate;if(!i){if(i=ge(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return M(h),t;if(d===l)return M(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function de(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=de(t),i!==null)return i;t=t.sibling}return null}var oe=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ae=[],mt=-1;function je(t){return{current:t}}function st(t){0>mt||(t.current=Ae[mt],Ae[mt]=null,mt--)}function Ke(t,i){mt++,Ae[mt]=t.current,t.current=i}var Wt=je(null),Ei=je(null),Tn=je(null),sr=je(null);function ar(t,i){switch(Ke(Tn,i),Ke(Ei,t),Ke(Wt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?vv(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=vv(t),i=_v(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}st(Wt),Ke(Wt,i)}function Ti(){st(Wt),st(Ei),st(Tn)}function _o(t){t.memoizedState!==null&&Ke(sr,t);var i=Wt.current,a=_v(i,t.type);i!==a&&(Ke(Ei,t),Ke(Wt,a))}function na(t){Ei.current===t&&(st(Wt),st(Ei)),sr.current===t&&(st(sr),_l._currentValue=xe)}var ia=Object.prototype.hasOwnProperty,fs=r.unstable_scheduleCallback,ra=r.unstable_cancelCallback,Yh=r.unstable_shouldYield,Eo=r.unstable_requestPaint,an=r.unstable_now,fu=r.unstable_getCurrentPriorityLevel,_t=r.unstable_ImmediatePriority,Ct=r.unstable_UserBlockingPriority,bi=r.unstable_NormalPriority,du=r.unstable_LowPriority,To=r.unstable_IdlePriority,$h=r.log,ds=r.unstable_setDisableYieldValue,or=null,Ft=null;function bo(t){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(or,t,void 0,(t.current.flags&128)===128)}catch{}}function Yn(t){if(typeof $h=="function"&&ds(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(or,t)}catch{}}var Zt=Math.clz32?Math.clz32:pu,wo=Math.log,mu=Math.LN2;function pu(t){return t>>>=0,t===0?32:31-(wo(t)/mu|0)|0}var $n=128,lr=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~h,a!==0?l=jn(a):(d&=b,d!==0?l=jn(d):t||(_=b&~_,_!==0&&(l=jn(_))))):(b=a&~h,b!==0?l=jn(b):d!==0?l=jn(d):t||(_=a&~_,_!==0&&(l=jn(_)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,_=i&-i,h>=_||h===32&&(_&4194176)!==0)?i:l}function ur(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function sa(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=$n;return $n<<=1,($n&4194176)===0&&($n=128),t}function cr(){var t=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),t}function aa(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ct(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gu(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-Zt(a),J=1<<$;b[$]=0,C[$]=-1;var F=P[$];if(F!==null)for(P[$]=null,$=0;$<F.length;$++){var Y=F[$];Y!==null&&(Y.lane&=-536870913)}a&=~J}l!==0&&hr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function hr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function fr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Zt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function yu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Lv(t.type))}function dr(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var Xn=Math.random().toString(36).slice(2),It="__reactFiber$"+Xn,Et="__reactProps$"+Xn,wi="__reactContainer$"+Xn,ms="__reactEvents$"+Xn,oa="__reactListeners$"+Xn,Wn="__reactHandles$"+Xn,Ao="__reactResources$"+Xn,mr="__reactMarker$"+Xn;function ps(t){delete t[It],delete t[Et],delete t[ms],delete t[oa],delete t[Wn]}function zn(t){var i=t[It];if(i)return i;for(var a=t.parentNode;a;){if(i=a[wi]||a[It]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=bv(t);t!==null;){if(a=t[It])return a;t=bv(t)}return i}t=a,a=t.parentNode}return null}function Si(t){if(t=t[It]||t[wi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function pr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function gr(t){var i=t[Ao];return i||(i=t[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(t){t[mr]=!0}var Ro=new Set,la={};function hn(t,i){on(t,i),on(t+"Capture",i)}function on(t,i){for(la[t]=i,t=0;t<i.length;t++)Ro.add(i[t])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Co={};function _u(t){return ia.call(Co,t)?!0:ia.call(xo,t)?!1:Xh.test(t)?Co[t]=!0:(xo[t]=!0,!1)}function yr(t,i,a){if(_u(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Eu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wh(t){var i=Eu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function gs(t){t._valueTracker||(t._valueTracker=Wh(t))}function Io(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Eu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ua(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ai=/[\n"\\]/g;function at(t){return t.replace(Ai,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _r(t,i,a,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?ca(t,_,Jt(i)):a!=null?ca(t,_,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Jt(b):t.removeAttribute("name")}function ys(t,i,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function ca(t,i,a){i==="number"&&ua(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ze(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function vs(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function Er(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Zh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Zh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Tu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&No(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&No(t,d,i[d])}function Do(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zn(t){return ef.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var An=null;function ha(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ri=null,xi=null;function Ci(t){var i=Si(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(_r(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+at(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));_r(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Io(l)}break e;case"textarea":vs(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ze(t,!!a.multiple,i,!1)}}}var Oo=!1;function bu(t,i,a){if(Oo)return t(i,a);Oo=!0;try{var l=t(i);return l}finally{if(Oo=!1,(Ri!==null||xi!==null)&&(dc(),Ri&&(i=Ri,t=xi,xi=Ri=null,Ci(i),t)))for(i=0;i<t.length;i++)Ci(t[i])}}function _s(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Rn=!1;if(fn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Rn=!1}var Jn=null,Tr=null,Ii=null;function ko(){if(Ii)return Ii;var t,i=Tr,a=i.length,l,h="value"in Jn?Jn.value:Jn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ii=h.slice(t,1<l?1-l:void 0)}function ei(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ti(){return!0}function Mo(){return!1}function Nt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ti:Mo,this.isPropagationStopped=Mo,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Nt(Fe),Ts=I({},Fe,{view:0,detail:0}),wu=Nt(Ts),da,ma,ni,bs=I({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ni&&(ni&&t.type==="mousemove"?(da=t.screenX-ni.screenX,ma=t.screenY-ni.screenY):ma=da=0,ni=t),da)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),xn=Nt(bs),Su=I({},bs,{dataTransfer:0}),tf=Nt(Su),ws=I({},Ts,{relatedTarget:0}),pa=Nt(ws),Vo=I({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ga=Nt(Vo),Au=I({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ya=Nt(Au),nf=I({},Fe,{data:0}),Po=Nt(nf),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=xu[t])?!!i[t]:!1}function As(){return Lo}var Cu=I({},Ts,{key:function(t){if(t.key){var i=Ss[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(t){return t.type==="keypress"?ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),va=Nt(Cu),Iu=I({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uo=Nt(Iu),Ni=I({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Nu=Nt(Ni),Du=I({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ou=Nt(Du),ku=I({},bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_a=Nt(ku),en=I({},Fe,{newState:0,oldState:0}),Mu=Nt(en),Vu=[9,13,27,32],ii=fn&&"CompositionEvent"in window,c=null;fn&&"documentMode"in document&&(c=document.documentMode);var g=fn&&"TextEvent"in window&&!c,v=fn&&(!ii||c&&8<c&&11>=c),S=" ",H=!1;function K(t,i){switch(t){case"keyup":return Vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Tt(t,i){switch(t){case"compositionend":return re(i);case"keypress":return i.which!==32?null:(H=!0,S);case"textInput":return t=i.data,t===S&&H?null:t;default:return null}}function Pe(t,i){if(Ve)return t==="compositionend"||!ii&&K(t,i)?(t=ko(),Ii=Tr=Jn=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dt[t.type]:i==="textarea"}function Di(t,i,a,l){Ri?xi?xi.push(l):xi=[l]:Ri=l,i=vc(i,"onChange"),0<i.length&&(a=new fa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Pt=null,ri=null;function jo(t){dv(t,0)}function Pu(t){var i=pr(t);if(Io(i))return t}function Hp(t,i){if(t==="change")return i}var qp=!1;if(fn){var rf;if(fn){var sf="oninput"in document;if(!sf){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),sf=typeof Fp.oninput=="function"}rf=sf}else rf=!1;qp=rf&&(!document.documentMode||9<document.documentMode)}function Gp(){Pt&&(Pt.detachEvent("onpropertychange",Kp),ri=Pt=null)}function Kp(t){if(t.propertyName==="value"&&Pu(ri)){var i=[];Di(i,ri,t,ha(t)),bu(jo,i)}}function vb(t,i,a){t==="focusin"?(Gp(),Pt=i,ri=a,Pt.attachEvent("onpropertychange",Kp)):t==="focusout"&&Gp()}function _b(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pu(ri)}function Eb(t,i){if(t==="click")return Pu(i)}function Tb(t,i){if(t==="input"||t==="change")return Pu(i)}function bb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:bb;function zo(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ia.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function Qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yp(t,i){var a=Qp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qp(a)}}function $p(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?$p(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ua(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ua(t.document)}return i}function af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function wb(t,i){var a=Xp(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&$p(i.ownerDocument.documentElement,i)){if(l!==null&&af(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Yp(i,d);var _=Yp(i,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Sb=fn&&"documentMode"in document&&11>=document.documentMode,Ea=null,of=null,Bo=null,lf=!1;function Wp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||Ea==null||Ea!==ua(l)||(l=Ea,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&zo(Bo,l)||(Bo=l,l=vc(of,"onSelect"),0<l.length&&(i=new fa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ea)))}function Rs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ta={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},uf={},Zp={};fn&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function xs(t){if(uf[t])return uf[t];if(!Ta[t])return t;var i=Ta[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zp)return uf[t]=i[a];return t}var Jp=xs("animationend"),eg=xs("animationiteration"),tg=xs("animationstart"),Ab=xs("transitionrun"),Rb=xs("transitionstart"),xb=xs("transitioncancel"),ng=xs("transitionend"),ig=new Map,rg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bn(t,i){ig.set(t,i),hn(i,[t])}var Cn=[],ba=0,cf=0;function Lu(){for(var t=ba,i=cf=ba=0;i<t;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&sg(a,h,d)}}function Uu(t,i,a,l){Cn[ba++]=t,Cn[ba++]=i,Cn[ba++]=a,Cn[ba++]=l,cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hf(t,i,a,l){return Uu(t,i,a,l),ju(t)}function br(t,i){return Uu(t,null,null,i),ju(t)}function sg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-Zt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function ju(t){if(50<fl)throw fl=0,yd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var wa={},ag=new WeakMap;function In(t,i){if(typeof t=="object"&&t!==null){var a=ag.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ee(i)},ag.set(t,i),i)}return{value:t,source:i,stack:Ee(i)}}var Sa=[],Aa=0,zu=null,Bu=0,Nn=[],Dn=0,Cs=null,Oi=1,ki="";function Is(t,i){Sa[Aa++]=Bu,Sa[Aa++]=zu,zu=t,Bu=i}function og(t,i,a){Nn[Dn++]=Oi,Nn[Dn++]=ki,Nn[Dn++]=Cs,Cs=t;var l=Oi;t=ki;var h=32-Zt(l)-1;l&=~(1<<h),a+=1;var d=32-Zt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Oi=1<<32-Zt(i)+h|a<<h|l,ki=d+t}else Oi=1<<d|a<<h|l,ki=t}function ff(t){t.return!==null&&(Is(t,1),og(t,1,0))}function df(t){for(;t===zu;)zu=Sa[--Aa],Sa[Aa]=null,Bu=Sa[--Aa],Sa[Aa]=null;for(;t===Cs;)Cs=Nn[--Dn],Nn[Dn]=null,ki=Nn[--Dn],Nn[Dn]=null,Oi=Nn[--Dn],Nn[Dn]=null}var tn=null,Lt=null,Be=!1,Hn=null,si=!1,mf=Error(s(519));function Ns(t){var i=Error(s(418,""));throw Fo(In(i,t)),mf}function lg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[It]=t,i[Et]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<ml.length;a++)ke(ml[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),ys(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),gs(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),Er(i,l.value,l.defaultValue,l.children),gs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||yv(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=_c),i=!0):i=!1,i||Ns(t)}function ug(t){for(tn=t.return;tn;)switch(tn.tag){case 3:case 27:si=!0;return;case 5:case 13:si=!1;return;default:tn=tn.return}}function Ho(t){if(t!==tn)return!1;if(!Be)return ug(t),Be=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Lt&&Ns(t),ug(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Lt=Fn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Lt=null}}else Lt=tn?Fn(t.stateNode.nextSibling):null;return!0}function qo(){Lt=tn=null,Be=!1}function Fo(t){Hn===null?Hn=[t]:Hn.push(t)}var Go=Error(s(460)),cg=Error(s(474)),pf={then:function(){}};function hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hu(){}function fg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Hu,Hu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Go?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Hu,Hu);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Go?Error(s(483)):t}throw Ko=i,Go}}var Ko=null;function dg(){if(Ko===null)throw Error(s(459));var t=Ko;return Ko=null,t}var Ra=null,Qo=0;function qu(t){var i=Qo;return Qo+=1,Ra===null&&(Ra=[]),fg(Ra,t,i)}function Yo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Fu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function mg(t){var i=t._init;return i(t._payload)}function pg(t){function i(z,V){if(t){var q=z.deletions;q===null?(z.deletions=[V],z.flags|=16):q.push(V)}}function a(z,V){if(!t)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=Mr(z,V),z.index=0,z.sibling=null,z}function d(z,V,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<V?(z.flags|=33554434,V):q):(z.flags|=33554434,V)):(z.flags|=1048576,V)}function _(z){return t&&z.alternate===null&&(z.flags|=33554434),z}function b(z,V,q,X){return V===null||V.tag!==6?(V=ud(q,z.mode,X),V.return=z,V):(V=h(V,q),V.return=z,V)}function C(z,V,q,X){var he=q.type;return he===p?$(z,V,q.props.children,X,q.key):V!==null&&(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===te&&mg(he)===V.type)?(V=h(V,q.props),Yo(V,q),V.return=z,V):(V=lc(q.type,q.key,q.props,null,z.mode,X),Yo(V,q),V.return=z,V)}function P(z,V,q,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=cd(q,z.mode,X),V.return=z,V):(V=h(V,q.children||[]),V.return=z,V)}function $(z,V,q,X,he){return V===null||V.tag!==7?(V=zs(q,z.mode,X,he),V.return=z,V):(V=h(V,q),V.return=z,V)}function J(z,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ud(""+V,z.mode,q),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case f:return q=lc(V.type,V.key,V.props,null,z.mode,q),Yo(q,V),q.return=z,q;case m:return V=cd(V,z.mode,q),V.return=z,V;case te:var X=V._init;return V=X(V._payload),J(z,V,q)}if(oe(V)||ne(V))return V=zs(V,z.mode,q,null),V.return=z,V;if(typeof V.then=="function")return J(z,qu(V),q);if(V.$$typeof===O)return J(z,sc(z,V),q);Fu(z,V)}return null}function F(z,V,q,X){var he=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:b(z,V,""+q,X);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===he?C(z,V,q,X):null;case m:return q.key===he?P(z,V,q,X):null;case te:return he=q._init,q=he(q._payload),F(z,V,q,X)}if(oe(q)||ne(q))return he!==null?null:$(z,V,q,X,null);if(typeof q.then=="function")return F(z,V,qu(q),X);if(q.$$typeof===O)return F(z,V,sc(z,q),X);Fu(z,q)}return null}function Y(z,V,q,X,he){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return z=z.get(q)||null,b(V,z,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return z=z.get(X.key===null?q:X.key)||null,C(V,z,X,he);case m:return z=z.get(X.key===null?q:X.key)||null,P(V,z,X,he);case te:var Ie=X._init;return X=Ie(X._payload),Y(z,V,q,X,he)}if(oe(X)||ne(X))return z=z.get(q)||null,$(V,z,X,he,null);if(typeof X.then=="function")return Y(z,V,q,qu(X),he);if(X.$$typeof===O)return Y(z,V,q,sc(V,X),he);Fu(V,X)}return null}function fe(z,V,q,X){for(var he=null,Ie=null,pe=V,ve=V=0,Mt=null;pe!==null&&ve<q.length;ve++){pe.index>ve?(Mt=pe,pe=null):Mt=pe.sibling;var He=F(z,pe,q[ve],X);if(He===null){pe===null&&(pe=Mt);break}t&&pe&&He.alternate===null&&i(z,pe),V=d(He,V,ve),Ie===null?he=He:Ie.sibling=He,Ie=He,pe=Mt}if(ve===q.length)return a(z,pe),Be&&Is(z,ve),he;if(pe===null){for(;ve<q.length;ve++)pe=J(z,q[ve],X),pe!==null&&(V=d(pe,V,ve),Ie===null?he=pe:Ie.sibling=pe,Ie=pe);return Be&&Is(z,ve),he}for(pe=l(pe);ve<q.length;ve++)Mt=Y(pe,z,ve,q[ve],X),Mt!==null&&(t&&Mt.alternate!==null&&pe.delete(Mt.key===null?ve:Mt.key),V=d(Mt,V,ve),Ie===null?he=Mt:Ie.sibling=Mt,Ie=Mt);return t&&pe.forEach(function(Br){return i(z,Br)}),Be&&Is(z,ve),he}function we(z,V,q,X){if(q==null)throw Error(s(151));for(var he=null,Ie=null,pe=V,ve=V=0,Mt=null,He=q.next();pe!==null&&!He.done;ve++,He=q.next()){pe.index>ve?(Mt=pe,pe=null):Mt=pe.sibling;var Br=F(z,pe,He.value,X);if(Br===null){pe===null&&(pe=Mt);break}t&&pe&&Br.alternate===null&&i(z,pe),V=d(Br,V,ve),Ie===null?he=Br:Ie.sibling=Br,Ie=Br,pe=Mt}if(He.done)return a(z,pe),Be&&Is(z,ve),he;if(pe===null){for(;!He.done;ve++,He=q.next())He=J(z,He.value,X),He!==null&&(V=d(He,V,ve),Ie===null?he=He:Ie.sibling=He,Ie=He);return Be&&Is(z,ve),he}for(pe=l(pe);!He.done;ve++,He=q.next())He=Y(pe,z,ve,He.value,X),He!==null&&(t&&He.alternate!==null&&pe.delete(He.key===null?ve:He.key),V=d(He,V,ve),Ie===null?he=He:Ie.sibling=He,Ie=He);return t&&pe.forEach(function(Bw){return i(z,Bw)}),Be&&Is(z,ve),he}function ut(z,V,q,X){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:e:{for(var he=q.key;V!==null;){if(V.key===he){if(he=q.type,he===p){if(V.tag===7){a(z,V.sibling),X=h(V,q.props.children),X.return=z,z=X;break e}}else if(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===te&&mg(he)===V.type){a(z,V.sibling),X=h(V,q.props),Yo(X,q),X.return=z,z=X;break e}a(z,V);break}else i(z,V);V=V.sibling}q.type===p?(X=zs(q.props.children,z.mode,X,q.key),X.return=z,z=X):(X=lc(q.type,q.key,q.props,null,z.mode,X),Yo(X,q),X.return=z,z=X)}return _(z);case m:e:{for(he=q.key;V!==null;){if(V.key===he)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(z,V.sibling),X=h(V,q.children||[]),X.return=z,z=X;break e}else{a(z,V);break}else i(z,V);V=V.sibling}X=cd(q,z.mode,X),X.return=z,z=X}return _(z);case te:return he=q._init,q=he(q._payload),ut(z,V,q,X)}if(oe(q))return fe(z,V,q,X);if(ne(q)){if(he=ne(q),typeof he!="function")throw Error(s(150));return q=he.call(q),we(z,V,q,X)}if(typeof q.then=="function")return ut(z,V,qu(q),X);if(q.$$typeof===O)return ut(z,V,sc(z,q),X);Fu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(z,V.sibling),X=h(V,q),X.return=z,z=X):(a(z,V),X=ud(q,z.mode,X),X.return=z,z=X),_(z)):a(z,V)}return function(z,V,q,X){try{Qo=0;var he=ut(z,V,q,X);return Ra=null,he}catch(pe){if(pe===Go)throw pe;var Ie=Vn(29,pe,null,z.mode);return Ie.lanes=X,Ie.return=z,Ie}finally{}}}var Ds=pg(!0),gg=pg(!1),xa=je(null),Gu=je(0);function yg(t,i){t=Fi,Ke(Gu,t),Ke(xa,i),Fi=t|i.baseLanes}function gf(){Ke(Gu,Fi),Ke(xa,xa.current)}function yf(){Fi=Gu.current,st(xa),st(Gu)}var On=je(null),ai=null;function wr(t){var i=t.alternate;Ke(wt,wt.current&1),Ke(On,t),ai===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(ai=t)}function vg(t){if(t.tag===22){if(Ke(wt,wt.current),Ke(On,t),ai===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ai=t)}}else Sr()}function Sr(){Ke(wt,wt.current),Ke(On,On.current)}function Mi(t){st(On),ai===t&&(ai=null),st(wt)}var wt=je(0);function Ku(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Cb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Ib=r.unstable_scheduleCallback,Nb=r.unstable_NormalPriority,St={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new Cb,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&Ib(Nb,function(){t.controller.abort()})}var Xo=null,_f=0,Ca=0,Ia=null;function Db(t,i){if(Xo===null){var a=Xo=[];_f=0,Ca=Ad(),Ia={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _f++,i.then(_g,_g),i}function _g(){if(--_f===0&&Xo!==null){Ia!==null&&(Ia.status="fulfilled");var t=Xo;Xo=null,Ca=0,Ia=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Ob(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Eg=w.S;w.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Db(t,i),Eg!==null&&Eg(t,i)};var Os=je(null);function Ef(){var t=Os.current;return t!==null?t:We.pooledCache}function Qu(t,i){i===null?Ke(Os,Os.current):Ke(Os,i.pool)}function Tg(){var t=Ef();return t===null?null:{parent:St._currentValue,pool:t}}var Ar=0,Ce=null,Qe=null,pt=null,Yu=!1,Na=!1,ks=!1,$u=0,Wo=0,Da=null,kb=0;function ht(){throw Error(s(321))}function Tf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function bf(t,i,a,l,h,d){return Ar=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=t===null||t.memoizedState===null?Ms:Rr,ks=!1,d=a(l,h),ks=!1,Na&&(d=wg(i,a,l,h)),bg(t),d}function bg(t){w.H=oi;var i=Qe!==null&&Qe.next!==null;if(Ar=0,pt=Qe=Ce=null,Yu=!1,Wo=0,Da=null,i)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&rc(t)&&(Ot=!0))}function wg(t,i,a,l){Ce=t;var h=0;do{if(Na&&(Da=null),Wo=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,pt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=Vs,d=i(a,l)}while(Na);return d}function Mb(){var t=w.H,i=t.useState()[0];return i=typeof i.then=="function"?Zo(i):i,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ce.flags|=1024),i}function wf(){var t=$u!==0;return $u=0,t}function Sf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Af(t){if(Yu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Yu=!1}Ar=0,pt=Qe=Ce=null,Na=!1,Wo=$u=0,Da=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ce.memoizedState=pt=t:pt=pt.next=t,pt}function gt(){if(Qe===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=pt===null?Ce.memoizedState:pt.next;if(i!==null)pt=i,Qe=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},pt===null?Ce.memoizedState=pt=t:pt=pt.next=t}return pt}var Xu;Xu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Zo(t){var i=Wo;return Wo+=1,Da===null&&(Da=[]),t=fg(Da,t,i),i=Ce,(pt===null?i.memoizedState:pt.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?Ms:Rr),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===O)return Gt(t)}throw Error(s(438,String(t)))}function Rf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Xu(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=ae;return i.index++,a}function Vi(t,i){return typeof i=="function"?i(t):i}function Zu(t){var i=gt();return xf(i,Qe,t)}function xf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=_=null,C=null,P=i,$=!1;do{var J=P.lane&-536870913;if(J!==P.lane?(Le&J)===J:(Ar&J)===J){var F=P.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),J===Ca&&($=!0);else if((Ar&F)===F){P=P.next,F===Ca&&($=!0);continue}else J={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(b=C=J,_=d):C=C.next=J,Ce.lanes|=F,Vr|=F;J=P.action,ks&&a(d,J),d=P.hasEagerState?P.eagerState:a(d,J)}else F={lane:J,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(b=C=F,_=d):C=C.next=F,Ce.lanes|=J,Vr|=J;P=P.next}while(P!==null&&P!==i);if(C===null?_=d:C.next=b,!dn(d,t.memoizedState)&&(Ot=!0,$&&(a=Ia,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);dn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Sg(t,i,a){var l=Ce,h=gt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!dn((Qe||h).memoizedState,a);if(_&&(h.memoizedState=a,Ot=!0),h=h.queue,Df(xg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,Oa(9,Rg.bind(null,l,h,a,i),{destroy:void 0},null),We===null)throw Error(s(349));d||(Ar&60)!==0||Ag(l,i,a)}return a}function Ag(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=Xu(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Rg(t,i,a,l){i.value=a,i.getSnapshot=l,Cg(i)&&Ig(t)}function xg(t,i,a){return a(function(){Cg(i)&&Ig(t)})}function Cg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function Ig(t){var i=br(t,2);i!==null&&nn(i,t,2)}function If(t){var i=ln();if(typeof t=="function"){var a=t;if(t=a(),ks){Yn(!0);try{a()}finally{Yn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},i}function Ng(t,i,a,l){return t.baseState=a,xf(t,Qe,typeof l=="function"?l:Vi)}function Vb(t,i,a,l,h){if(tc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Dg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Dg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=w.T,_={};w.T=_;try{var b=a(h,l),C=w.S;C!==null&&C(_,b),Og(t,i,b)}catch(P){Nf(t,i,P)}finally{w.T=d}}else try{d=a(h,l),Og(t,i,d)}catch(P){Nf(t,i,P)}}function Og(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kg(t,i,l)},function(l){return Nf(t,i,l)}):kg(t,i,a)}function kg(t,i,a){i.status="fulfilled",i.value=a,Mg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Dg(t,a)))}function Nf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Mg(i),i=i.next;while(i!==l)}t.action=null}function Mg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Vg(t,i){return i}function Pg(t,i){if(Be){var a=We.formState;if(a!==null){e:{var l=Ce;if(Be){if(Lt){t:{for(var h=Lt,d=si;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Lt=Fn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:i},a.queue=l,a=ey.bind(null,Ce,l),l.dispatch=a,l=If(!1),d=Pf.bind(null,Ce,!1,l.queue),l=ln(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Vb.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Lg(t){var i=gt();return Ug(i,Qe,t)}function Ug(t,i,a){i=xf(t,i,Vg)[0],t=Zu(Vi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Zo(i):i;var l=gt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ce.flags|=2048,Oa(9,Pb.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function Pb(t,i){t.action=i}function jg(t){var i=gt(),a=Qe;if(a!==null)return Ug(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Oa(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Ce.updateQueue,i===null&&(i=Xu(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function zg(){return gt().memoizedState}function Ju(t,i,a,l){var h=ln();Ce.flags|=t,h.memoizedState=Oa(1|i,a,{destroy:void 0},l===void 0?null:l)}function ec(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&Tf(l,Qe.memoizedState.deps)?h.memoizedState=Oa(i,a,d,l):(Ce.flags|=t,h.memoizedState=Oa(1|i,a,d,l))}function Bg(t,i){Ju(8390656,8,t,i)}function Df(t,i){ec(2048,8,t,i)}function Hg(t,i){return ec(4,2,t,i)}function qg(t,i){return ec(4,4,t,i)}function Fg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Gg(t,i,a){a=a!=null?a.concat([t]):null,ec(4,4,Fg.bind(null,i,t),a)}function Of(){}function Kg(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Tf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Qg(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Tf(i,l[1]))return l[0];if(l=t(),ks){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,i],l}function kf(t,i,a){return a===void 0||(Ar&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=$y(),Ce.lanes|=t,Vr|=t,a)}function Yg(t,i,a,l){return dn(a,i)?a:xa.current!==null?(t=kf(t,a,l),dn(t,i)||(Ot=!0),t):(Ar&42)===0?(Ot=!0,t.memoizedState=a):(t=$y(),Ce.lanes|=t,Vr|=t,i)}function $g(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var _=w.T,b={};w.T=b,Pf(t,!1,i,a);try{var C=h(),P=w.S;if(P!==null&&P(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=Ob(C,l);Jo(t,i,$,yn(t))}else Jo(t,i,l,yn(t))}catch(J){Jo(t,i,{then:function(){},status:"rejected",reason:J},yn())}finally{le.p=d,w.T=_}}function Lb(){}function Mf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Xg(t).queue;$g(t,h,i,xe,a===null?Lb:function(){return Wg(t),a(l)})}function Xg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:xe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Wg(t){var i=Xg(t).next.queue;Jo(t,i,{},yn())}function Vf(){return Gt(_l)}function Zg(){return gt().memoizedState}function Jg(){return gt().memoizedState}function Ub(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();t=Ir(a);var l=Nr(i,t,a);l!==null&&(nn(l,i,a),nl(l,i,a)),i={cache:vf()},t.payload=i;return}i=i.return}}function jb(t,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},tc(t)?ty(i,a):(a=hf(t,i,a,l),a!==null&&(nn(a,t,l),ny(a,i,l)))}function ey(t,i,a){var l=yn();Jo(t,i,a,l)}function Jo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(t))ty(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,dn(b,_))return Uu(t,i,h,0),We===null&&Lu(),!1}catch{}finally{}if(a=hf(t,i,h,l),a!==null)return nn(a,t,l),ny(a,i,l),!0}return!1}function Pf(t,i,a,l){if(l={lane:2,revertLane:Ad(),action:l,hasEagerState:!1,eagerState:null,next:null},tc(t)){if(i)throw Error(s(479))}else i=hf(t,a,l,2),i!==null&&nn(i,t,2)}function tc(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function ty(t,i){Na=Yu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ny(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,fr(t,a)}}var oi={readContext:Gt,use:Wu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht};oi.useCacheRefresh=ht,oi.useMemoCache=ht,oi.useHostTransitionStatus=ht,oi.useFormState=ht,oi.useActionState=ht,oi.useOptimistic=ht;var Ms={readContext:Gt,use:Wu,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Bg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ju(4194308,4,Fg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ju(4194308,4,t,i)},useInsertionEffect:function(t,i){Ju(4,2,t,i)},useMemo:function(t,i){var a=ln();i=i===void 0?null:i;var l=t();if(ks){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=ln();if(a!==void 0){var h=a(i);if(ks){Yn(!0);try{a(i)}finally{Yn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=jb.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:function(t){t=If(t);var i=t.queue,a=ey.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Of,useDeferredValue:function(t,i){var a=ln();return kf(a,t,i)},useTransition:function(){var t=If(!1);return t=$g.bind(null,Ce,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=ln();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(Le&60)!==0||Ag(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Bg(xg.bind(null,l,d,t),[t]),l.flags|=2048,Oa(9,Rg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=ln(),i=We.identifierPrefix;if(Be){var a=ki,l=Oi;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=$u++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=kb++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return ln().memoizedState=Ub.bind(null,Ce)}};Ms.useMemoCache=Rf,Ms.useHostTransitionStatus=Vf,Ms.useFormState=Pg,Ms.useActionState=Pg,Ms.useOptimistic=function(t){var i=ln();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pf.bind(null,Ce,!0,a),a.dispatch=i,[t,i]};var Rr={readContext:Gt,use:Wu,useCallback:Kg,useContext:Gt,useEffect:Df,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:Zu,useRef:zg,useState:function(){return Zu(Vi)},useDebugValue:Of,useDeferredValue:function(t,i){var a=gt();return Yg(a,Qe.memoizedState,t,i)},useTransition:function(){var t=Zu(Vi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:Sg,useId:Zg};Rr.useCacheRefresh=Jg,Rr.useMemoCache=Rf,Rr.useHostTransitionStatus=Vf,Rr.useFormState=Lg,Rr.useActionState=Lg,Rr.useOptimistic=function(t,i){var a=gt();return Ng(a,Qe,t,i)};var Vs={readContext:Gt,use:Wu,useCallback:Kg,useContext:Gt,useEffect:Df,useImperativeHandle:Gg,useInsertionEffect:Hg,useLayoutEffect:qg,useMemo:Qg,useReducer:Cf,useRef:zg,useState:function(){return Cf(Vi)},useDebugValue:Of,useDeferredValue:function(t,i){var a=gt();return Qe===null?kf(a,t,i):Yg(a,Qe.memoizedState,t,i)},useTransition:function(){var t=Cf(Vi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:Sg,useId:Zg};Vs.useCacheRefresh=Jg,Vs.useMemoCache=Rf,Vs.useHostTransitionStatus=Vf,Vs.useFormState=jg,Vs.useActionState=jg,Vs.useOptimistic=function(t,i){var a=gt();return Qe!==null?Ng(a,Qe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Lf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Uf={isMounted:function(t){return(t=t._reactInternals)?ge(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=yn(),h=Ir(l);h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,l),i!==null&&(nn(i,t,l),nl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=yn(),h=Ir(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,l),i!==null&&(nn(i,t,l),nl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=yn(),l=Ir(a);l.tag=2,i!=null&&(l.callback=i),i=Nr(t,l,a),i!==null&&(nn(i,t,a),nl(i,t,a))}};function iy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!zo(a,l)||!zo(h,d):!0}function ry(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Uf.enqueueReplaceState(i,i.state,null)}function Ps(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function sy(t){nc(t)}function ay(t){console.error(t)}function oy(t){nc(t)}function ic(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ly(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,i,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(t,i)},a}function uy(t){return t=Ir(t),t.tag=3,t}function cy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ly(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ly(i,a,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function zb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&tl(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return ai===null?Ed():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===pf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),bd(t,l,h)),!1;case 22:return a.flags|=65536,l===pf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),bd(t,l,h)),!1}throw Error(s(435,a.tag))}return bd(t,l,h),Ed(),!1}if(Be)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==mf&&(t=Error(s(422),{cause:l}),Fo(In(t,a)))):(l!==mf&&(i=Error(s(423),{cause:l}),Fo(In(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=jf(t.stateNode,l,h),ed(t,h),lt!==4&&(lt=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),cl===null?cl=[d]:cl.push(d),lt!==4&&(lt=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=jf(a.stateNode,l,t),ed(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,t,a,l),ed(a,h),!1}a=a.return}while(a!==null);return!1}var hy=Error(s(461)),Ot=!1;function Ut(t,i,a,l){i.child=t===null?gg(i,null,a,l):Ds(i,t.child,a,l)}function fy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Us(i),l=bf(t,i,a,_,d,h),b=wf(),t!==null&&!Ot?(Sf(t,i,h),Pi(t,i,h)):(Be&&b&&ff(i),i.flags|=1,Ut(t,i,l,h),i.child)}function dy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!ld(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,my(t,i,d,l,h)):(t=lc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Yf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(_,l)&&t.ref===i.ref)return Pi(t,i,h)}return i.flags|=1,t=Mr(d,l),t.ref=i.ref,t.return=i,i.child=t}function my(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(zo(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,Yf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,Pi(t,i,h)}return zf(t,i,a,l,h)}function py(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(el(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return gy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(i,_!==null?_.cachePool:null),_!==null?yg(i,_):gf(),vg(i);else return i.lanes=i.childLanes=536870912,gy(t,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(Qu(i,_.cachePool),yg(i,_),Sr(),i.memoizedState=null):(t!==null&&Qu(i,null),gf(),Sr());return Ut(t,i,h,a),i.child}function gy(t,i,a,l){var h=Ef();return h=h===null?null:{parent:St._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Qu(i,null),gf(),vg(i),t!==null&&tl(t,i,l,!0),null}function el(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function zf(t,i,a,l,h){return Us(i),a=bf(t,i,a,l,void 0,h),l=wf(),t!==null&&!Ot?(Sf(t,i,h),Pi(t,i,h)):(Be&&l&&ff(i),i.flags|=1,Ut(t,i,a,h),i.child)}function yy(t,i,a,l,h,d){return Us(i),i.updateQueue=null,a=wg(i,l,a,h),bg(t),l=wf(),t!==null&&!Ot?(Sf(t,i,d),Pi(t,i,d)):(Be&&l&&ff(i),i.flags|=1,Ut(t,i,a,d),i.child)}function vy(t,i,a,l,h){if(Us(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Uf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Zf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Lf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Uf.enqueueReplaceState(d,d.state,null),rl(i,l,d,h),il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,C=Ps(a,b);d.props=C;var P=d.context,$=a.contextType;_=wa,typeof $=="object"&&$!==null&&(_=Gt($));var J=a.getDerivedStateFromProps;$=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||P!==_)&&ry(i,d,l,_),Cr=!1;var F=i.memoizedState;d.state=F,rl(i,l,d,h),il(),P=i.memoizedState,b||F!==P||Cr?(typeof J=="function"&&(Lf(i,a,J,l),P=i.memoizedState),(C=Cr||iy(i,a,C,l,F,P,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Jf(t,i),_=i.memoizedProps,$=Ps(a,_),d.props=$,J=i.pendingProps,F=d.context,P=a.contextType,C=wa,typeof P=="object"&&P!==null&&(C=Gt(P)),b=a.getDerivedStateFromProps,(P=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||F!==C)&&ry(i,d,l,C),Cr=!1,F=i.memoizedState,d.state=F,rl(i,l,d,h),il();var Y=i.memoizedState;_!==J||F!==Y||Cr||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof b=="function"&&(Lf(i,a,b,l),Y=i.memoizedState),($=Cr||iy(i,a,$,l,F,Y,C)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=C,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,el(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ds(i,t.child,null,h),i.child=Ds(i,null,a,h)):Ut(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Pi(t,i,h),t}function _y(t,i,a,l){return qo(),i.flags|=256,Ut(t,i,a,l),i.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function Hf(t){return{baseLanes:t,cachePool:Tg()}}function qf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Pn),t}function Ey(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?wr(i):Sr(),Be){var b=Lt,C;if(C=b){e:{for(C=b,b=si;C.nodeType!==8;){if(!b){b=null;break e}if(C=Fn(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(i.memoizedState={dehydrated:b,treeContext:Cs!==null?{id:Oi,overflow:ki}:null,retryLane:536870912},C=Vn(18,null,null,0),C.stateNode=b,C.return=i,i.child=C,tn=i,Lt=null,C=!0):C=!1}C||Ns(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?i.lanes=16:i.lanes=536870912,null;Mi(i)}return b=l.children,l=l.fallback,h?(Sr(),h=i.mode,b=Gf({mode:"hidden",children:b},h),l=zs(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,h=i.child,h.memoizedState=Hf(a),h.childLanes=qf(t,_,a),i.memoizedState=Bf,l):(wr(i),Ff(i,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)i.flags&256?(wr(i),i.flags&=-257,i=Kf(t,i,a)):i.memoizedState!==null?(Sr(),i.child=t.child,i.flags|=128,i=null):(Sr(),h=l.fallback,b=i.mode,l=Gf({mode:"visible",children:l.children},b),h=zs(h,b,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ds(i,t.child,null,a),l=i.child,l.memoizedState=Hf(a),l.childLanes=qf(t,_,a),i.memoizedState=Bf,i=h);else if(wr(i),b.data==="$!"){if(_=b.nextSibling&&b.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(s(419)),l.stack="",l.digest=_,Fo({value:l,source:null,stack:null}),i=Kf(t,i,a)}else if(Ot||tl(t,i,a,!1),_=(a&t.childLanes)!==0,Ot||_){if(_=We,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,br(t,l),nn(_,t,l),hy}b.data==="$?"||Ed(),i=Kf(t,i,a)}else b.data==="$?"?(i.flags|=128,i.child=t.child,i=tw.bind(null,t),b._reactRetry=i,i=null):(t=C.treeContext,Lt=Fn(b.nextSibling),tn=i,Be=!0,Hn=null,si=!1,t!==null&&(Nn[Dn++]=Oi,Nn[Dn++]=ki,Nn[Dn++]=Cs,Oi=t.id,ki=t.overflow,Cs=i),i=Ff(i,l.children),i.flags|=4096);return i}return h?(Sr(),h=l.fallback,b=i.mode,C=t.child,P=C.sibling,l=Mr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,P!==null?h=Mr(P,h):(h=zs(h,b,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,b=t.child.memoizedState,b===null?b=Hf(a):(C=b.cachePool,C!==null?(P=St._currentValue,C=C.parent!==P?{parent:P,pool:P}:C):C=Tg(),b={baseLanes:b.baseLanes|a,cachePool:C}),h.memoizedState=b,h.childLanes=qf(t,_,a),i.memoizedState=Bf,l):(wr(i),a=t.child,t=a.sibling,a=Mr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Ff(t,i){return i=Gf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Gf(t,i){return Ky(t,i,0,null)}function Kf(t,i,a){return Ds(i,t.child,null,a),t=Ff(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ty(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Xf(t.return,i,a)}function Qf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function by(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,i,l.children,a),l=wt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,i);else if(t.tag===19)Ty(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ke(wt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ku(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Qf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ku(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Qf(i,!0,a,null,d);break;case"together":Qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Vr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(tl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Mr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Mr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Yf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function Bb(t,i,a){switch(i.tag){case 3:ar(i,i.stateNode.containerInfo),xr(i,St,t.memoizedState.cache),qo();break;case 27:case 5:_o(i);break;case 4:ar(i,i.stateNode.containerInfo);break;case 10:xr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(wr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ey(t,i,a):(wr(i),t=Pi(t,i,a),t!==null?t.sibling:null);wr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(tl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return by(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ke(wt,wt.current),l)break;return null;case 22:case 23:return i.lanes=0,py(t,i,a);case 24:xr(i,St,t.memoizedState.cache)}return Pi(t,i,a)}function wy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!Yf(t,a)&&(i.flags&128)===0)return Ot=!1,Bb(t,i,a);Ot=(t.flags&131072)!==0}else Ot=!1,Be&&(i.flags&1048576)!==0&&og(i,Bu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")ld(l)?(t=Ps(l,t),i.tag=1,i=vy(null,i,l,t,a)):(i.tag=0,i=zf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===U){i.tag=11,i=fy(null,i,l,t,a);break e}else if(h===G){i.tag=14,i=dy(null,i,l,t,a);break e}}throw i=R(l)||l,Error(s(306,i,""))}}return i;case 0:return zf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ps(l,i.pendingProps),vy(t,i,l,h,a);case 3:e:{if(ar(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Jf(t,i),rl(i,d,null,a);var _=i.memoizedState;if(d=_.cache,xr(i,St,d),d!==h.cache&&Wf(i,[St],a,!0),il(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=_y(t,i,d,a);break e}else if(d!==l){l=In(Error(s(424)),i),Fo(l),i=_y(t,i,d,a);break e}else for(Lt=Fn(i.stateNode.containerInfo.firstChild),tn=i,Be=!0,Hn=null,si=!0,a=gg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qo(),d===l){i=Pi(t,i,a);break e}Ut(t,i,d,a)}i=i.child}return i;case 26:return el(t,i),t===null?(a=Rv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Ec(Tn.current).createElement(a),l[It]=i,l[Et]=t,jt(l,a,t),et(l),i.stateNode=l):i.memoizedState=Rv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _o(i),t===null&&Be&&(l=i.stateNode=wv(i.type,i.pendingProps,Tn.current),tn=i,si=!0,Lt=Fn(l.firstChild)),l=i.pendingProps.children,t!==null||Be?Ut(t,i,l,a):i.child=Ds(i,null,l,a),el(t,i),i.child;case 5:return t===null&&Be&&((h=l=Lt)&&(l=yw(l,i.type,i.pendingProps,si),l!==null?(i.stateNode=l,tn=i,Lt=Fn(l.firstChild),si=!1,h=!0):h=!1),h||Ns(i)),_o(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Md(h,d)?l=null:_!==null&&Md(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=bf(t,i,Mb,null,null,a),_l._currentValue=h),el(t,i),Ut(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=Lt)&&(a=vw(a,i.pendingProps,si),a!==null?(i.stateNode=a,tn=i,Lt=null,t=!0):t=!1),t||Ns(i)),null;case 13:return Ey(t,i,a);case 4:return ar(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ds(i,null,l,a):Ut(t,i,l,a),i.child;case 11:return fy(t,i,i.type,i.pendingProps,a);case 7:return Ut(t,i,i.pendingProps,a),i.child;case 8:return Ut(t,i,i.pendingProps.children,a),i.child;case 12:return Ut(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xr(i,i.type,l.value),Ut(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Us(i),h=Gt(h),l=l(h),i.flags|=1,Ut(t,i,l,a),i.child;case 14:return dy(t,i,i.type,i.pendingProps,a);case 15:return my(t,i,i.type,i.pendingProps,a);case 19:return by(t,i,a);case 22:return py(t,i,a);case 24:return Us(i),l=Gt(St),t===null?(h=Ef(),h===null&&(h=We,d=vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Zf(i),xr(i,St,h)):((t.lanes&a)!==0&&(Jf(t,i),rl(i,null,null,a),il()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),xr(i,St,l)):(l=d.cache,xr(i,St,l),l!==h.cache&&Wf(i,[St],a,!0))),Ut(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var $f=je(null),Ls=null,Li=null;function xr(t,i,a){Ke($f,i._currentValue),i._currentValue=a}function Ui(t){t._currentValue=$f.current,st($f)}function Xf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Wf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var C=0;C<i.length;C++)if(b.context===i[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Xf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Xf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function tl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;dn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===sr.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&Wf(i,t,a,l),i.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Ls=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Sy(Ls,t)}function sc(t,i){return Ls===null&&Us(t),Sy(t,i)}function Sy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Li=Li.next=i;return a}var Cr=!1;function Zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ju(t),sg(t,null,a),i}return Uu(t,l,i,a),ju(t)}function nl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,fr(t,a)}}function ed(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var td=!1;function il(){if(td){var t=Ia;if(t!==null)throw t}}function rl(t,i,a,l){td=!1;var h=t.updateQueue;Cr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,P=C.next;C.next=null,_===null?d=P:_.next=P,_=C;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==_&&(b===null?$.firstBaseUpdate=P:b.next=P,$.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;_=0,$=P=C=null,b=d;do{var F=b.lane&-536870913,Y=F!==b.lane;if(Y?(Le&F)===F:(l&F)===F){F!==0&&F===Ca&&(td=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=t,we=b;F=i;var ut=a;switch(we.tag){case 1:if(fe=we.payload,typeof fe=="function"){J=fe.call(ut,J,F);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=we.payload,F=typeof fe=="function"?fe.call(ut,J,F):fe,F==null)break e;J=I({},J,F);break e;case 2:Cr=!0}}F=b.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(P=$=Y,C=J):$=$.next=Y,_|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(C=J),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Vr|=_,t.lanes=_,t.memoizedState=J}}function Ay(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ry(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ay(a[t],i)}function sl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Xe(i,i.return,b)}}function Dr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=i;var C=a;try{b()}catch(P){Xe(h,C,P)}}}l=l.next}while(l!==d)}}catch(P){Xe(i,i.return,P)}}function xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ry(i,a)}catch(l){Xe(t,t.return,l)}}}function Cy(t,i,a){a.props=Ps(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function js(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Xe(t,i,d)}}function mn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function Iy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function Ny(t,i,a){try{var l=t.stateNode;fw(l,t.type,a,i),l[Et]=i}catch(h){Xe(t,t.return,h)}}function Dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=_c));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(id(t,i,a),t=t.sibling;t!==null;)id(t,i,a),t=t.sibling}function ac(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(ac(t,i,a),t=t.sibling;t!==null;)ac(t,i,a),t=t.sibling}var ji=!1,ot=!1,rd=!1,Oy=typeof WeakSet=="function"?WeakSet:Set,kt=null,ky=!1;function Hb(t,i){if(t=t.containerInfo,Od=Rc,t=Xp(t),af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,C=-1,P=0,$=0,J=t,F=null;t:for(;;){for(var Y;J!==a||h!==0&&J.nodeType!==3||(b=_+h),J!==d||l!==0&&J.nodeType!==3||(C=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(Y=J.firstChild)!==null;)F=J,J=Y;for(;;){if(J===t)break t;if(F===a&&++P===h&&(b=_),F===d&&++$===l&&(C=_),(Y=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=Y}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(kd={focusedElem:t,selectionRange:a},Rc=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Ps(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){Xe(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ld(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}return fe=ky,ky=!1,fe}function My(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(t,a),l&4&&sl(5,a);break;case 1:if(Bi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(b){Xe(a,a.return,b)}else{var h=Ps(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Xe(a,a.return,b)}}l&64&&xy(a),l&512&&js(a,a.return);break;case 3:if(Bi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ry(l,t)}catch(b){Xe(a,a.return,b)}}break;case 26:Bi(t,a),l&512&&js(a,a.return);break;case 27:case 5:Bi(t,a),i===null&&l&4&&Iy(a),l&512&&js(a,a.return);break;case 12:Bi(t,a);break;case 13:Bi(t,a),l&4&&Ly(t,a);break;case 22:if(h=a.memoizedState!==null||ji,!h){i=i!==null&&i.memoizedState!==null||ot;var d=ji,_=ot;ji=h,(ot=i)&&!_?Or(t,a,(a.subtreeFlags&8772)!==0):Bi(t,a),ji=d,ot=_}l&512&&(a.memoizedProps.mode==="manual"?js(a,a.return):mn(a,a.return));break;default:Bi(t,a)}}function Vy(t){var i=t.alternate;i!==null&&(t.alternate=null,Vy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ps(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,pn=!1;function zi(t,i,a){for(a=a.child;a!==null;)Py(t,i,a),a=a.sibling}function Py(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(or,a)}catch{}switch(a.tag){case 26:ot||mn(a,i),zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ot||mn(a,i);var l=yt,h=pn;for(yt=a.stateNode,zi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ps(a),yt=l,pn=h;break;case 5:ot||mn(a,i);case 6:h=yt;var d=pn;if(yt=null,zi(t,i,a),yt=h,pn=d,yt!==null)if(pn)try{t=yt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Xe(a,i,_)}else try{yt.removeChild(a.stateNode)}catch(_){Xe(a,i,_)}break;case 18:yt!==null&&(pn?(i=yt,a=a.stateNode,i.nodeType===8?Pd(i.parentNode,a):i.nodeType===1&&Pd(i,a),wl(i)):Pd(yt,a.stateNode));break;case 4:l=yt,h=pn,yt=a.stateNode.containerInfo,pn=!0,zi(t,i,a),yt=l,pn=h;break;case 0:case 11:case 14:case 15:ot||Dr(2,a,i),ot||Dr(4,a,i),zi(t,i,a);break;case 1:ot||(mn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cy(a,i,l)),zi(t,i,a);break;case 21:zi(t,i,a);break;case 22:ot||mn(a,i),ot=(l=ot)||a.memoizedState!==null,zi(t,i,a),ot=l;break;default:zi(t,i,a)}}function Ly(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wl(t)}catch(a){Xe(i,i.return,a)}}function qb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Oy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Oy),i;default:throw Error(s(435,t.tag))}}function sd(t,i){var a=qb(t);i.forEach(function(l){var h=nw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function kn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:case 5:yt=b.stateNode,pn=!1;break e;case 3:yt=b.stateNode.containerInfo,pn=!0;break e;case 4:yt=b.stateNode.containerInfo,pn=!0;break e}b=b.return}if(yt===null)throw Error(s(160));Py(d,_,h),yt=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Uy(i,t),i=i.sibling}var qn=null;function Uy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:kn(i,t),Mn(t),l&4&&(Dr(3,t,t.return),sl(3,t),Dr(5,t,t.return));break;case 1:kn(i,t),Mn(t),l&512&&(ot||a===null||mn(a,a.return)),l&64&&ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(kn(i,t),Mn(t),l&512&&(ot||a===null||mn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[mr]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),jt(d,l,a),d[It]=t,et(d),l=d;break e;case"link":var _=Iv("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Iv("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,et(d),l=d}t.stateNode=l}else Nv(h,t.type,t.stateNode);else t.stateNode=Cv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Nv(h,t.type,t.stateNode):Cv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ny(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var C=h.firstChild;C;){var P=C.nextSibling,$=C.nodeName;C[mr]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=P}for(var J=t.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);jt(h,J,d),h[It]=t,h[Et]=d}catch(fe){Xe(t,t.return,fe)}}case 5:if(kn(i,t),Mn(t),l&512&&(ot||a===null||mn(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(fe){Xe(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ny(t,h,a!==null?a.memoizedProps:h)),l&1024&&(rd=!0);break;case 6:if(kn(i,t),Mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Xe(t,t.return,fe)}}break;case 3:if(wc=null,h=qn,qn=Tc(i.containerInfo),kn(i,t),qn=h,Mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wl(i.containerInfo)}catch(fe){Xe(t,t.return,fe)}rd&&(rd=!1,jy(t));break;case 4:l=qn,qn=Tc(t.stateNode.containerInfo),kn(i,t),Mn(t),qn=l;break;case 12:kn(i,t),Mn(t);break;case 13:kn(i,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(md=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sd(t,l)));break;case 22:if(l&512&&(ot||a===null||mn(a,a.return)),C=t.memoizedState!==null,P=a!==null&&a.memoizedState!==null,$=ji,J=ot,ji=$||C,ot=J||P,kn(i,t),ot=J,ji=$,Mn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=ji||ot,a===null||P||i||ka(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(h=P.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=P.stateNode,b=P.memoizedProps.style;var Y=b!=null&&b.hasOwnProperty("display")?b.display:null;_.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){Xe(P,P.return,fe)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=C?"":P.memoizedProps}catch(fe){Xe(P,P.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sd(t,a))));break;case 19:kn(i,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sd(t,l)));break;case 21:break;default:kn(i,t),Mn(t)}}function Mn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Dy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=nd(t);ac(t,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(Sn(_,""),l.flags&=-33);var b=nd(t);ac(t,b,_);break;case 3:case 4:var C=l.stateNode.containerInfo,P=nd(t);id(t,P,C);break;default:throw Error(s(161))}}}catch($){Xe(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;jy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Bi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)My(t,i.alternate,i),i=i.sibling}function ka(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Dr(4,i,i.return),ka(i);break;case 1:mn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cy(i,i.return,a),ka(i);break;case 26:case 27:case 5:mn(i,i.return),ka(i);break;case 22:mn(i,i.return),i.memoizedState===null&&ka(i);break;default:ka(i)}t=t.sibling}}function Or(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Or(h,d,a),sl(4,d);break;case 1:if(Or(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Xe(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ay(C[h],b)}catch(P){Xe(l,l.return,P)}}a&&_&64&&xy(d),js(d,d.return);break;case 26:case 27:case 5:Or(h,d,a),a&&l===null&&_&4&&Iy(d),js(d,d.return);break;case 12:Or(h,d,a);break;case 13:Or(h,d,a),a&&_&4&&Ly(h,d);break;case 22:d.memoizedState===null&&Or(h,d,a),js(d,d.return);break;default:Or(h,d,a)}i=i.sibling}}function ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$o(a))}function od(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t))}function kr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zy(t,i,a,l),i=i.sibling}function zy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:kr(t,i,a,l),h&2048&&sl(9,i);break;case 3:kr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){kr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Xe(i,i.return,C)}}else kr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?kr(t,i,a,l):al(t,i):d._visibility&4?kr(t,i,a,l):(d._visibility|=4,Ma(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ad(i.alternate,i);break;case 24:kr(t,i,a,l),h&2048&&od(i.alternate,i);break;default:kr(t,i,a,l)}}function Ma(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,b=a,C=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:Ma(d,_,b,C,h),sl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&4?Ma(d,_,b,C,h):al(d,_):($._visibility|=4,Ma(d,_,b,C,h)),h&&P&2048&&ad(_.alternate,_);break;case 24:Ma(d,_,b,C,h),h&&P&2048&&od(_.alternate,_);break;default:Ma(d,_,b,C,h)}i=i.sibling}}function al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:al(a,l),h&2048&&ad(l.alternate,l);break;case 24:al(a,l),h&2048&&od(l.alternate,l);break;default:al(a,l)}i=i.sibling}}var ol=8192;function Va(t){if(t.subtreeFlags&ol)for(t=t.child;t!==null;)By(t),t=t.sibling}function By(t){switch(t.tag){case 26:Va(t),t.flags&ol&&t.memoizedState!==null&&Dw(qn,t.memoizedState,t.memoizedProps);break;case 5:Va(t);break;case 3:case 4:var i=qn;qn=Tc(t.stateNode.containerInfo),Va(t),qn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ol,ol=16777216,Va(t),ol=i):Va(t));break;default:Va(t)}}function Hy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ll(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,Fy(l,t)}Hy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 0:case 11:case 15:ll(t),t.flags&2048&&Dr(9,t,t.return);break;case 3:ll(t);break;case 12:ll(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,oc(t)):ll(t);break;default:ll(t)}}function oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,Fy(l,t)}Hy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Dr(8,i,i.return),oc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,oc(i));break;default:oc(i)}t=t.sibling}}function Fy(t,i){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(Vy(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}function Fb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,i,a,l){return new Fb(t,i,a,l)}function ld(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mr(t,i){var a=t.alternate;return a===null?(a=Vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gy(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function lc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")ld(t)&&(_=1);else if(typeof t=="string")_=Iw(t,a,Wt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return zs(a.children,h,d,i);case y:_=8,h|=24;break;case T:return t=Vn(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case Q:return t=Vn(13,a,i,h),t.elementType=Q,t.lanes=d,t;case L:return t=Vn(19,a,i,h),t.elementType=L,t.lanes=d,t;case Z:return Ky(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case O:_=10;break e;case x:_=9;break e;case U:_=11;break e;case G:_=14;break e;case te:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Vn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=Vn(7,t,l,i),t.lanes=a,t}function Ky(t,i,a,l){t=Vn(22,t,l,i),t.elementType=Z,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var _=br(d,2);_!==null&&(h._pendingVisibility|=2,nn(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var _=br(d,2);_!==null&&(h._pendingVisibility&=-3,nn(_,d,2))}}};return t.stateNode=h,t}function ud(t,i,a){return t=Vn(6,t,null,i),t.lanes=a,t}function cd(t,i,a){return i=Vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Hi(t){t.flags|=4}function Qy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dv(i)){if(i=On.current,i!==null&&((Le&4194176)===Le?ai!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ai))throw Ko=pf,cg;t.flags|=8192}}function uc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?cr():536870912,t.lanes|=i,La|=i)}function ul(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Gb(t,i,a){var l=i.pendingProps;switch(df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(i),null;case 1:return tt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ui(St),Ti(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ho(i)?Hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hn!==null&&(vd(Hn),Hn=null))),tt(i),null;case 26:return a=i.memoizedState,t===null?(Hi(i),a!==null?(tt(i),Qy(i,a)):(tt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Hi(i),tt(i),Qy(i,a)):(tt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Hi(i),tt(i),i.flags&=-16777217),null;case 27:na(i),a=Tn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return tt(i),null}t=Wt.current,Ho(i)?lg(i):(t=wv(h,l,a),i.stateNode=t,Hi(i))}return tt(i),null;case 5:if(na(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return tt(i),null}if(t=Wt.current,Ho(i))lg(i);else{switch(h=Ec(Tn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hi(i)}}return tt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Tn.current,Ho(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||yv(t.nodeValue,a)),t||Ns(i)}else t=Ec(t).createTextNode(l),t[It]=i,i.stateNode=t}return tt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ho(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=i}else qo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tt(i),h=!1}else Hn!==null&&(vd(Hn),Hn=null),h=!0;if(!h)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),uc(i,i.updateQueue),tt(i),null;case 4:return Ti(),t===null&&Id(i.stateNode.containerInfo),tt(i),null;case 10:return Ui(i.type),tt(i),null;case 19:if(st(wt),h=i.memoizedState,h===null)return tt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ul(h,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ku(t),d!==null){for(i.flags|=128,ul(h,!1),t=d.updateQueue,i.updateQueue=t,uc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Gy(a,t),a=a.sibling;return Ke(wt,wt.current&1|2),i.child}t=t.sibling}h.tail!==null&&an()>cc&&(i.flags|=128,l=!0,ul(h,!1),i.lanes=4194304)}else{if(!l)if(t=Ku(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,uc(i,t),ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return tt(i),null}else 2*an()-h.renderingStartTime>cc&&a!==536870912&&(i.flags|=128,l=!0,ul(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=an(),i.sibling=null,t=wt.current,Ke(wt,l?t&1|2:t&1),i):(tt(i),null);case 22:case 23:return Mi(i),yf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(tt(i),i.subtreeFlags&6&&(i.flags|=8192)):tt(i),a=i.updateQueue,a!==null&&uc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&st(Os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ui(St),tt(i),null;case 25:return null}throw Error(s(156,i.tag))}function Kb(t,i){switch(df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ui(St),Ti(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return na(i),null;case 13:if(Mi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));qo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return st(wt),null;case 4:return Ti(),null;case 10:return Ui(i.type),null;case 22:case 23:return Mi(i),yf(),t!==null&&st(Os),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ui(St),null;case 25:return null;default:return null}}function Yy(t,i){switch(df(i),i.tag){case 3:Ui(St),Ti();break;case 26:case 27:case 5:na(i);break;case 4:Ti();break;case 13:Mi(i);break;case 19:st(wt);break;case 10:Ui(i.type);break;case 22:case 23:Mi(i),yf(),t!==null&&st(Os);break;case 24:Ui(St)}}var Qb={getCacheForType:function(t){var i=Gt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Yb=typeof WeakMap=="function"?WeakMap:Map,nt=0,We=null,Ne=null,Le=0,Ze=0,gn=null,qi=!1,Pa=!1,hd=!1,Fi=0,lt=0,Vr=0,Bs=0,fd=0,Pn=0,La=0,cl=null,li=null,dd=!1,md=0,cc=1/0,hc=null,Pr=null,fc=!1,Hs=null,hl=0,pd=0,gd=null,fl=0,yd=null;function yn(){if((nt&2)!==0&&Le!==0)return Le&-Le;if(w.T!==null){var t=Ca;return t!==0?t:Ad()}return vu()}function $y(){Pn===0&&(Pn=(Le&536870912)===0||Be?So():536870912);var t=On.current;return t!==null&&(t.flags|=32),Pn}function nn(t,i,a){(t===We&&Ze===2||t.cancelPendingCommit!==null)&&(Ua(t,0),Gi(t,Le,Pn,!1)),ct(t,a),((nt&2)===0||t!==We)&&(t===We&&((nt&2)===0&&(Bs|=a),lt===4&&Gi(t,Le,Pn,!1)),ui(t))}function Xy(t,i,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||ur(t,i),h=l?Wb(t,i):Td(t,i,!0),d=l;do{if(h===0){Pa&&!l&&Gi(t,i,0,!1);break}else if(h===6)Gi(t,i,0,!qi);else{if(a=t.current.alternate,d&&!$b(a)){h=Td(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;h=cl;var C=b.current.memoizedState.isDehydrated;if(C&&(Ua(b,_).flags|=256),_=Td(b,_,!1),_!==2){if(hd&&!C){b.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=li,li=h,d!==null&&vd(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){Ua(t,0),Gi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Gi(l,i,Pn,!qi);break e}break;case 2:li=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=md+300-an(),10<d)){if(Gi(l,i,Pn,!qi),bn(l,0)!==0)break e;l.timeoutHandle=Ev(Wy.bind(null,l,a,li,hc,dd,i,Pn,Bs,La,qi,2,-0,0),d);break e}Wy(l,a,li,hc,dd,i,Pn,Bs,La,qi,0,-0,0)}}break}while(!0);ui(t)}function vd(t){li===null?li=t:li.push.apply(li,t)}function Wy(t,i,a,l,h,d,_,b,C,P,$,J,F){var Y=i.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(vl={stylesheets:null,count:0,unsuspend:Nw},By(i),i=Ow(),i!==null)){t.cancelPendingCommit=i(rv.bind(null,t,a,l,h,_,b,C,1,J,F)),Gi(t,d,_,!P);return}rv(t,a,l,h,_,b,C,$,J,F)}function $b(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gi(t,i,a,l){i&=~fd,i&=~Bs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Zt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&hr(t,a,i)}function dc(){return(nt&6)===0?(dl(0),!1):!0}function _d(){if(Ne!==null){if(Ze===0)var t=Ne.return;else t=Ne,Li=Ls=null,Af(t),Ra=null,Qo=0,t=Ne;for(;t!==null;)Yy(t.alternate,t),t=t.return;Ne=null}}function Ua(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_d(),We=t,Ne=a=Mr(t.current,null),Le=i,Ze=0,gn=null,qi=!1,Pa=ur(t,i),hd=!1,La=Pn=fd=Bs=Vr=lt=0,li=cl=null,dd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Zt(l),d=1<<h;i|=t[h],l&=~d}return Fi=i,Lu(),a}function Zy(t,i){Ce=null,w.H=oi,i===Go?(i=dg(),Ze=3):i===cg?(i=dg(),Ze=4):Ze=i===hy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Ne===null&&(lt=1,ic(t,In(i,t.current)))}function Jy(){var t=w.H;return w.H=oi,t===null?oi:t}function ev(){var t=w.A;return w.A=Qb,t}function Ed(){lt=4,qi||(Le&4194176)!==Le&&On.current!==null||(Pa=!0),(Vr&134217727)===0&&(Bs&134217727)===0||We===null||Gi(We,Le,Pn,!1)}function Td(t,i,a){var l=nt;nt|=2;var h=Jy(),d=ev();(We!==t||Le!==i)&&(hc=null,Ua(t,i)),i=!1;var _=lt;e:do try{if(Ze!==0&&Ne!==null){var b=Ne,C=gn;switch(Ze){case 8:_d(),_=6;break e;case 3:case 2:case 6:On.current===null&&(i=!0);var P=Ze;if(Ze=0,gn=null,ja(t,b,C,P),a&&Pa){_=0;break e}break;default:P=Ze,Ze=0,gn=null,ja(t,b,C,P)}}Xb(),_=lt;break}catch($){Zy(t,$)}while(!0);return i&&t.shellSuspendCounter++,Li=Ls=null,nt=l,w.H=h,w.A=d,Ne===null&&(We=null,Le=0,Lu()),_}function Xb(){for(;Ne!==null;)tv(Ne)}function Wb(t,i){var a=nt;nt|=2;var l=Jy(),h=ev();We!==t||Le!==i?(hc=null,cc=an()+500,Ua(t,i)):Pa=ur(t,i);e:do try{if(Ze!==0&&Ne!==null){i=Ne;var d=gn;t:switch(Ze){case 1:Ze=0,gn=null,ja(t,i,d,1);break;case 2:if(hg(d)){Ze=0,gn=null,nv(i);break}i=function(){Ze===2&&We===t&&(Ze=7),ui(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:hg(d)?(Ze=0,gn=null,nv(i)):(Ze=0,gn=null,ja(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var b=Ne;if(!_||Dv(_)){Ze=0,gn=null;var C=b.sibling;if(C!==null)Ne=C;else{var P=b.return;P!==null?(Ne=P,mc(P)):Ne=null}break t}}Ze=0,gn=null,ja(t,i,d,5);break;case 6:Ze=0,gn=null,ja(t,i,d,6);break;case 8:_d(),lt=6;break e;default:throw Error(s(462))}}Zb();break}catch($){Zy(t,$)}while(!0);return Li=Ls=null,w.H=l,w.A=h,nt=a,Ne!==null?0:(We=null,Le=0,Lu(),lt)}function Zb(){for(;Ne!==null&&!Yh();)tv(Ne)}function tv(t){var i=wy(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,i===null?mc(t):Ne=i}function nv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=yy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=yy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Af(i);default:Yy(a,i),i=Ne=Gy(i,Fi),i=wy(a,i,Fi)}t.memoizedProps=t.pendingProps,i===null?mc(t):Ne=i}function ja(t,i,a,l){Li=Ls=null,Af(i),Ra=null,Qo=0;var h=i.return;try{if(zb(t,h,i,a,Le)){lt=1,ic(t,In(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;lt=1,ic(t,In(a,t.current)),Ne=null;return}i.flags&32768?(Be||l===1?t=!0:Pa||(Le&536870912)!==0?t=!1:(qi=t=!0,(l===2||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),iv(i,t)):mc(i)}function mc(t){var i=t;do{if((i.flags&32768)!==0){iv(i,qi);return}t=i.return;var a=Gb(i.alternate,i,Fi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);lt===0&&(lt=5)}function iv(t,i){do{var a=Kb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);lt=6,Ne=null}function rv(t,i,a,l,h,d,_,b,C,P){var $=w.T,J=le.p;try{le.p=2,w.T=null,Jb(t,i,a,l,J,h,d,_,b,C,P)}finally{w.T=$,le.p=J}}function Jb(t,i,a,l,h,d,_,b){do za();while(Hs!==null);if((nt&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=C.lanes|C.childLanes;if(P|=cf,gu(t,l,P,d,_,b),t===We&&(Ne=We=null,Le=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||fc||(fc=!0,pd=P,gd=a,iw(bi,function(){return za(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=w.T,w.T=null,d=le.p,le.p=2,_=nt,nt|=4,Hb(t,C),Uy(C,t),wb(kd,t.containerInfo),Rc=!!Od,kd=Od=null,t.current=C,My(t,C.alternate,C),Eo(),nt=_,le.p=d,w.T=a):t.current=C,fc?(fc=!1,Hs=t,hl=l):sv(t,P),P=t.pendingLanes,P===0&&(Pr=null),bo(C.stateNode),ui(t),i!==null)for(h=t.onRecoverableError,C=0;C<i.length;C++)P=i[C],h(P.value,{componentStack:P.stack});return(hl&3)!==0&&za(),P=t.pendingLanes,(l&4194218)!==0&&(P&42)!==0?t===yd?fl++:(fl=0,yd=t):fl=0,dl(0),null}function sv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,$o(i)))}function za(){if(Hs!==null){var t=Hs,i=pd;pd=0;var a=yu(hl),l=w.T,h=le.p;try{if(le.p=32>a?32:a,w.T=null,Hs===null)var d=!1;else{a=gd,gd=null;var _=Hs,b=hl;if(Hs=null,hl=0,(nt&6)!==0)throw Error(s(331));var C=nt;if(nt|=4,qy(_.current),zy(_,_.current,b,a),nt=C,dl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(or,_)}catch{}d=!0}return d}finally{le.p=h,w.T=l,sv(t,i)}}return!1}function av(t,i,a){i=In(a,i),i=jf(t.stateNode,i,2),t=Nr(t,i,2),t!==null&&(ct(t,2),ui(t))}function Xe(t,i,a){if(t.tag===3)av(t,t,a);else for(;i!==null;){if(i.tag===3){av(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){t=In(a,t),a=uy(2),l=Nr(i,a,2),l!==null&&(cy(a,l,i,t),ct(l,2),ui(l));break}}i=i.return}}function bd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Yb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(hd=!0,h.add(a),t=ew.bind(null,t,i,a),i.then(t,t))}function ew(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(Le&a)===a&&(lt===4||lt===3&&(Le&62914560)===Le&&300>an()-md?(nt&2)===0&&Ua(t,0):fd|=a,La===Le&&(La=0)),ui(t)}function ov(t,i){i===0&&(i=cr()),t=br(t,i),t!==null&&(ct(t,i),ui(t))}function tw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),ov(t,a)}function nw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ov(t,a)}function iw(t,i){return fs(t,i)}var pc=null,Ba=null,wd=!1,gc=!1,Sd=!1,qs=0;function ui(t){t!==Ba&&t.next===null&&(Ba===null?pc=Ba=t:Ba=Ba.next=t),gc=!0,wd||(wd=!0,sw(rw))}function dl(t,i){if(!Sd&&gc){Sd=!0;do for(var a=!1,l=pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Zt(42|t)+1)-1,d&=h&~(_&~b),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,cv(l,d))}else d=Le,d=bn(l,l===We?d:0),(d&3)===0||ur(l,d)||(a=!0,cv(l,d));l=l.next}while(a);Sd=!1}}function rw(){gc=wd=!1;var t=0;qs!==0&&(dw()&&(t=qs),qs=0);for(var i=an(),a=null,l=pc;l!==null;){var h=l.next,d=lv(l,i);d===0?(l.next=null,a===null?pc=h:a.next=h,h===null&&(Ba=a)):(a=l,(t!==0||(d&3)!==0)&&(gc=!0)),l=h}dl(t)}function lv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Zt(d),b=1<<_,C=h[_];C===-1?((b&a)===0||(b&l)!==0)&&(h[_]=sa(b,i)):C<=i&&(t.expiredLanes|=b),d&=~b}if(i=We,a=Le,a=bn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&Ze===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ra(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ur(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ra(l),yu(a)){case 2:case 8:a=Ct;break;case 32:a=bi;break;case 268435456:a=To;break;default:a=bi}return l=uv.bind(null,t),a=fs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ra(l),t.callbackPriority=2,t.callbackNode=null,2}function uv(t,i){var a=t.callbackNode;if(za()&&t.callbackNode!==a)return null;var l=Le;return l=bn(t,t===We?l:0),l===0?null:(Xy(t,l,i),lv(t,an()),t.callbackNode!=null&&t.callbackNode===a?uv.bind(null,t):null)}function cv(t,i){if(za())return null;Xy(t,i,!0)}function sw(t){pw(function(){(nt&6)!==0?fs(_t,t):t()})}function Ad(){return qs===0&&(qs=So()),qs}function hv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zn(""+t)}function fv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function aw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=hv((h[Et]||null).action),_=l.submitter;_&&(i=(i=_[Et]||null)?hv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new fa("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var C=_?fv(h,_):new FormData(h);Mf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=_?fv(h,_):new FormData(h),Mf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Rd=0;Rd<rg.length;Rd++){var xd=rg[Rd],ow=xd.toLowerCase(),lw=xd[0].toUpperCase()+xd.slice(1);Bn(ow,"on"+lw)}Bn(Jp,"onAnimationEnd"),Bn(eg,"onAnimationIteration"),Bn(tg,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Ab,"onTransitionRun"),Bn(Rb,"onTransitionStart"),Bn(xb,"onTransitionCancel"),Bn(ng,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function dv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],C=b.instance,P=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=P;try{d(h)}catch($){nc($)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(b=l[_],C=b.instance,P=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=P;try{d(h)}catch($){nc($)}h.currentTarget=null,d=C}}}}function ke(t,i){var a=i[ms];a===void 0&&(a=i[ms]=new Set);var l=t+"__bubble";a.has(l)||(mv(i,t,2,!1),a.add(l))}function Cd(t,i,a){var l=0;i&&(l|=4),mv(a,t,l,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[yc]){t[yc]=!0,Ro.forEach(function(a){a!=="selectionchange"&&(uw.has(a)||Cd(a,!1,t),Cd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[yc]||(i[yc]=!0,Cd("selectionchange",!1,i))}}function mv(t,i,a,l){switch(Lv(i)){case 2:var h=Vw;break;case 8:h=Pw;break;default:h=Hd}a=h.bind(null,i,a,t),h=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Nd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h||b.nodeType===8&&b.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;b!==null;){if(_=zn(b),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}b=b.parentNode}}l=l.return}bu(function(){var P=d,$=ha(a),J=[];e:{var F=ig.get(t);if(F!==void 0){var Y=fa,fe=t;switch(t){case"keypress":if(ei(a)===0)break e;case"keydown":case"keyup":Y=va;break;case"focusin":fe="focus",Y=pa;break;case"focusout":fe="blur",Y=pa;break;case"beforeblur":case"afterblur":Y=pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Nu;break;case Jp:case eg:case tg:Y=ga;break;case ng:Y=Ou;break;case"scroll":case"scrollend":Y=wu;break;case"wheel":Y=_a;break;case"copy":case"cut":case"paste":Y=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Uo;break;case"toggle":case"beforetoggle":Y=Mu}var we=(i&4)!==0,ut=!we&&(t==="scroll"||t==="scrollend"),z=we?F!==null?F+"Capture":null:F;we=[];for(var V=P,q;V!==null;){var X=V;if(q=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||q===null||z===null||(X=_s(V,z),X!=null&&we.push(pl(V,X,q))),ut)break;V=V.return}0<we.length&&(F=new Y(F,fe,null,a,$),J.push({event:F,listeners:we}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==An&&(fe=a.relatedTarget||a.fromElement)&&(zn(fe)||fe[wi]))break e;if((Y||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=P,fe=fe?zn(fe):null,fe!==null&&(ut=ge(fe),we=fe.tag,fe!==ut||we!==5&&we!==27&&we!==6)&&(fe=null)):(Y=null,fe=P),Y!==fe)){if(we=xn,X="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(we=Uo,X="onPointerLeave",z="onPointerEnter",V="pointer"),ut=Y==null?F:pr(Y),q=fe==null?F:pr(fe),F=new we(X,V+"leave",Y,a,$),F.target=ut,F.relatedTarget=q,X=null,zn($)===P&&(we=new we(z,V+"enter",fe,a,$),we.target=q,we.relatedTarget=ut,X=we),ut=X,Y&&fe)t:{for(we=Y,z=fe,V=0,q=we;q;q=Ha(q))V++;for(q=0,X=z;X;X=Ha(X))q++;for(;0<V-q;)we=Ha(we),V--;for(;0<q-V;)z=Ha(z),q--;for(;V--;){if(we===z||z!==null&&we===z.alternate)break t;we=Ha(we),z=Ha(z)}we=null}else we=null;Y!==null&&pv(J,F,Y,we,!1),fe!==null&&ut!==null&&pv(J,ut,fe,we,!0)}}e:{if(F=P?pr(P):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var he=Hp;else if(bt(F))if(qp)he=Tb;else{he=_b;var Ie=vb}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&Do(P.elementType)&&(he=Hp):he=Eb;if(he&&(he=he(t,P))){Di(J,he,a,$);break e}Ie&&Ie(t,F,P),t==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&ca(F,"number",F.value)}switch(Ie=P?pr(P):window,t){case"focusin":(bt(Ie)||Ie.contentEditable==="true")&&(Ea=Ie,of=P,Bo=null);break;case"focusout":Bo=of=Ea=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,Wp(J,a,$);break;case"selectionchange":if(Sb)break;case"keydown":case"keyup":Wp(J,a,$)}var pe;if(ii)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?K(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(v&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(pe=ko()):(Jn=$,Tr="value"in Jn?Jn.value:Jn.textContent,Ve=!0)),Ie=vc(P,ve),0<Ie.length&&(ve=new Po(ve,t,null,a,$),J.push({event:ve,listeners:Ie}),pe?ve.data=pe:(pe=re(a),pe!==null&&(ve.data=pe)))),(pe=g?Tt(t,a):Pe(t,a))&&(ve=vc(P,"onBeforeInput"),0<ve.length&&(Ie=new Po("onBeforeInput","beforeinput",null,a,$),J.push({event:Ie,listeners:ve}),Ie.data=pe)),aw(J,t,P,a,$)}dv(J,i)})}function pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=_s(t,a),h!=null&&l.unshift(pl(t,h,d)),h=_s(t,i),h!=null&&l.push(pl(t,h,d))),t=t.return}return l}function Ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,C=b.alternate,P=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||P===null||(C=P,h?(P=_s(a,d),P!=null&&_.unshift(pl(a,P,C))):h||(P=_s(a,d),P!=null&&_.push(pl(a,P,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var cw=/\r\n?/g,hw=/\u0000|\uFFFD/g;function gv(t){return(typeof t=="string"?t:""+t).replace(cw,`
`).replace(hw,"")}function yv(t,i){return i=gv(i),gv(t)===i}function _c(){}function Ye(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(t,""+l);break;case"className":vr(t,"class",l);break;case"tabIndex":vr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(t,a,l);break;case"style":Tu(t,l,d);break;case"data":if(i!=="object"){vr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=_c);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Zn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),yr(t,"popover",l);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jh.get(a)||a,yr(t,a,l))}}function Dd(t,i,a,l,h,d){switch(a){case"style":Tu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=_c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):yr(t,a,l)}}}function jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,d,_,a,null)}}h&&Ye(t,i,"srcSet",a.srcSet,a,null),l&&Ye(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var b=d=_=h=null,C=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":C=$;break;case"defaultChecked":P=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Ye(t,i,l,$,a,null)}}ys(t,d,b,C,P,_,h,!1),gs(t);return;case"select":ke("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Ye(t,i,h,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?ze(t,!!l,i,!1):a!=null&&ze(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ye(t,i,_,b,a,null)}Er(t,l,h,d),gs(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,i,C,l,a,null)}return;case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<ml.length;l++)ke(ml[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,P,l,a,null)}return;default:if(Do(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Dd(t,i,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ye(t,i,b,l,a,null))}function fw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,C=null,P=null,$=null;for(Y in a){var J=a[Y];if(a.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(Y)||Ye(t,i,Y,null,l,J)}}for(var F in l){var Y=l[F];if(J=a[F],l.hasOwnProperty(F)&&(Y!=null||J!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":P=Y;break;case"defaultChecked":$=Y;break;case"value":_=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==J&&Ye(t,i,F,Y,l,J)}}_r(t,_,b,C,P,$,d,h);return;case"select":Y=_=b=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(d)||Ye(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==C&&Ye(t,i,h,d,l,C)}i=b,a=_,l=Y,F!=null?ze(t,!!a,F,!1):!!l!=!!a&&(i!=null?ze(t,!!a,i,!0):ze(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ye(t,i,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,i,_,h,l,d)}vs(t,F,Y);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Ye(t,i,fe,null,l,F)}for(C in l)if(F=l[C],Y=a[C],l.hasOwnProperty(C)&&F!==Y&&(F!=null||Y!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ye(t,i,C,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)F=a[we],a.hasOwnProperty(we)&&F!=null&&!l.hasOwnProperty(we)&&Ye(t,i,we,null,l,F);for(P in l)if(F=l[P],Y=a[P],l.hasOwnProperty(P)&&F!==Y&&(F!=null||Y!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Ye(t,i,P,F,l,Y)}return;default:if(Do(i)){for(var ut in a)F=a[ut],a.hasOwnProperty(ut)&&F!==void 0&&!l.hasOwnProperty(ut)&&Dd(t,i,ut,void 0,l,F);for($ in l)F=l[$],Y=a[$],!l.hasOwnProperty($)||F===Y||F===void 0&&Y===void 0||Dd(t,i,$,F,l,Y);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&Ye(t,i,z,null,l,F);for(J in l)F=l[J],Y=a[J],!l.hasOwnProperty(J)||F===Y||F==null&&Y==null||Ye(t,i,J,F,l,Y)}var Od=null,kd=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function vv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _v(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Md(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Vd=null;function dw(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var Ev=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,pw=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(t){return Tv.resolve(null).then(t).catch(gw)}:Ev;function gw(t){setTimeout(function(){throw t})}function Pd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),wl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);wl(i)}function Ld(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[mr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function vw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function bv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function wv(t,i,a){switch(i=Ec(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Ln=new Map,Sv=new Set;function Tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ki=le.d;le.d={f:_w,r:Ew,D:Tw,C:bw,L:ww,m:Sw,X:Rw,S:Aw,M:xw};function _w(){var t=Ki.f(),i=dc();return t||i}function Ew(t){var i=Si(t);i!==null&&i.tag===5&&i.type==="form"?Wg(i):Ki.r(t)}var qa=typeof document>"u"?null:document;function Av(t,i,a){var l=qa;if(l&&typeof i=="string"&&i){var h=at(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Sv.has(h)||(Sv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),jt(i,"link",t),et(i),l.head.appendChild(i)))}}function Tw(t){Ki.D(t),Av("dns-prefetch",t,null)}function bw(t,i){Ki.C(t,i),Av("preconnect",t,i)}function ww(t,i,a){Ki.L(t,i,a);var l=qa;if(l&&t&&i){var h='link[rel="preload"][as="'+at(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+at(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+at(a.imageSizes)+'"]')):h+='[href="'+at(t)+'"]';var d=h;switch(i){case"style":d=Fa(t);break;case"script":d=Ga(t)}Ln.has(d)||(t=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(gl(d))||i==="script"&&l.querySelector(yl(d))||(i=l.createElement("link"),jt(i,"link",t),et(i),l.head.appendChild(i)))}}function Sw(t,i){Ki.m(t,i);var a=qa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+at(l)+'"][href="'+at(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ga(t)}if(!Ln.has(d)&&(t=I({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yl(d)))return}l=a.createElement("link"),jt(l,"link",t),et(l),a.head.appendChild(l)}}}function Aw(t,i,a){Ki.S(t,i,a);var l=qa;if(l&&t){var h=gr(l).hoistableStyles,d=Fa(t);i=i||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(gl(d)))b.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&Ud(t,a);var C=_=l.createElement("link");et(C),jt(C,"link",t),C._p=new Promise(function(P,$){C.onload=P,C.onerror=$}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function Rw(t,i){Ki.X(t,i);var a=qa;if(a&&t){var l=gr(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(t=I({src:t,async:!0},i),(i=Ln.get(h))&&jd(t,i),d=a.createElement("script"),et(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xw(t,i){Ki.M(t,i);var a=qa;if(a&&t){var l=gr(a).hoistableScripts,h=Ga(t),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(t=I({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&jd(t,i),d=a.createElement("script"),et(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Rv(t,i,a,l){var h=(h=Tn.current)?Tc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=gr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Fa(a.href);var d=gr(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(gl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||Cw(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=gr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Fa(t){return'href="'+at(t)+'"'}function gl(t){return'link[rel="stylesheet"]['+t+"]"}function xv(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function Cw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),jt(i,"link",a),et(i),t.head.appendChild(i))}function Ga(t){return'[src="'+at(t)+'"]'}function yl(t){return"script[async]"+t}function Cv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+at(a.href)+'"]');if(l)return i.instance=l,et(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),jt(l,"style",h),bc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Fa(a.href);var d=t.querySelector(gl(h));if(d)return i.state.loading|=4,i.instance=d,et(d),d;l=xv(a),(h=Ln.get(h))&&Ud(l,h),d=(t.ownerDocument||t).createElement("link"),et(d);var _=d;return _._p=new Promise(function(b,C){_.onload=b,_.onerror=C}),jt(d,"link",l),i.state.loading|=4,bc(d,a.precedence,t),i.instance=d;case"script":return d=Ga(a.src),(h=t.querySelector(yl(d)))?(i.instance=h,et(h),h):(l=a,(h=Ln.get(d))&&(l=I({},a),jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),et(h),jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,t));return i.instance}function bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ud(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var wc=null;function Iv(t,i,a){if(wc===null){var l=new Map,h=wc=new Map;h.set(a,l)}else h=wc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[mr]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function Nv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Iw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Dv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var vl=null;function Nw(){}function Dw(t,i,a){if(vl===null)throw Error(s(475));var l=vl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Fa(a.href),d=t.querySelector(gl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Sc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,et(d);return}d=t.ownerDocument||t,a=xv(a),(h=Ln.get(h))&&Ud(a,h),d=d.createElement("link"),et(d);var _=d;_._p=new Promise(function(b,C){_.onload=b,_.onerror=C}),jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Sc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Ow(){if(vl===null)throw Error(s(475));var t=vl;return t.stylesheets&&t.count===0&&zd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&zd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Sc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function zd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,i.forEach(kw,t),Ac=null,Sc.call(t))}function kw(t,i){if(!(i.state.loading&4)){var a=Ac.get(t);if(a)var l=a.get(null);else{a=new Map,Ac.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var _l={$$typeof:O,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function Mw(t,i,a,l,h,d,_,b){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.hiddenUpdates=aa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Ov(t,i,a,l,h,d,_,b,C,P,$,J){return t=new Mw(t,i,a,_,b,C,P,J),i=1,d===!0&&(i|=24),d=Vn(3,null,null,i),t.current=d,d.stateNode=t,i=vf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Zf(d),t}function kv(t){return t?(t=wa,t):wa}function Mv(t,i,a,l,h,d){h=kv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ir(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Nr(t,l,i),a!==null&&(nn(a,t,i),nl(a,t,i))}function Vv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Bd(t,i){Vv(t,i),(t=t.alternate)&&Vv(t,i)}function Pv(t){if(t.tag===13){var i=br(t,67108864);i!==null&&nn(i,t,67108864),Bd(t,67108864)}}var Rc=!0;function Vw(t,i,a,l){var h=w.T;w.T=null;var d=le.p;try{le.p=2,Hd(t,i,a,l)}finally{le.p=d,w.T=h}}function Pw(t,i,a,l){var h=w.T;w.T=null;var d=le.p;try{le.p=8,Hd(t,i,a,l)}finally{le.p=d,w.T=h}}function Hd(t,i,a,l){if(Rc){var h=qd(l);if(h===null)Nd(t,i,l,xc,a),Uv(t,l);else if(Uw(h,t,i,a,l))l.stopPropagation();else if(Uv(t,l),i&4&&-1<Lw.indexOf(t)){for(;h!==null;){var d=Si(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=jn(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var C=1<<31-Zt(_);b.entanglements[1]|=C,_&=~C}ui(d),(nt&6)===0&&(cc=an()+500,dl(0))}}break;case 13:b=br(d,2),b!==null&&nn(b,d,2),dc(),Bd(d,2)}if(d=qd(l),d===null&&Nd(t,i,l,xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Nd(t,i,l,null,a)}}function qd(t){return t=ha(t),Fd(t)}var xc=null;function Fd(t){if(xc=null,t=zn(t),t!==null){var i=ge(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=qe(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return xc=t,null}function Lv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fu()){case _t:return 2;case Ct:return 8;case bi:case du:return 32;case To:return 268435456;default:return 32}default:return 32}}var Gd=!1,Lr=null,Ur=null,jr=null,El=new Map,Tl=new Map,zr=[],Lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uv(t,i){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function bl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Si(i),i!==null&&Pv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Uw(t,i,a,l,h){switch(i){case"focusin":return Lr=bl(Lr,t,i,a,l,h),!0;case"dragenter":return Ur=bl(Ur,t,i,a,l,h),!0;case"mouseover":return jr=bl(jr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,bl(El.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,bl(Tl.get(d)||null,t,i,a,l,h)),!0}return!1}function jv(t){var i=zn(t.target);if(i!==null){var a=ge(i);if(a!==null){if(i=a.tag,i===13){if(i=qe(a),i!==null){t.blockedOn=i,dr(t.priority,function(){if(a.tag===13){var l=yn(),h=br(a,l);h!==null&&nn(h,a,l),Bd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);An=l,a.target.dispatchEvent(l),An=null}else return i=Si(a),i!==null&&Pv(i),t.blockedOn=a,!1;i.shift()}return!0}function zv(t,i,a){Cc(t)&&a.delete(i)}function jw(){Gd=!1,Lr!==null&&Cc(Lr)&&(Lr=null),Ur!==null&&Cc(Ur)&&(Ur=null),jr!==null&&Cc(jr)&&(jr=null),El.forEach(zv),Tl.forEach(zv)}function Ic(t,i){t.blockedOn===i&&(t.blockedOn=null,Gd||(Gd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jw)))}var Nc=null;function Bv(t){Nc!==t&&(Nc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var d=Si(a);d!==null&&(t.splice(i,3),i-=3,Mf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function wl(t){function i(C){return Ic(C,t)}Lr!==null&&Ic(Lr,t),Ur!==null&&Ic(Ur,t),jr!==null&&Ic(jr,t),El.forEach(i),Tl.forEach(i);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)jv(a),a.blockedOn===null&&zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Et]||null;if(typeof d=="function")_||Bv(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Et]||null)b=_.formAction;else if(Fd(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Bv(a)}}}function Kd(t){this._internalRoot=t}Dc.prototype.render=Kd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();Mv(a,l,t,i,null,null)},Dc.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&za(),Mv(t.current,2,null,t,null,null),dc(),i[wi]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var i=vu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,t),a===0&&jv(t)}};var Hv=e.version;if(Hv!=="19.0.0")throw Error(s(527,Hv,"19.0.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ie(i),t=t!==null?de(t):null,t=t===null?null:t.stateNode,t};var zw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{or=Oc.inject(zw),Ft=Oc}catch{}}return Al.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=sy,d=ay,_=oy,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=Ov(t,1,!1,null,null,a,l,h,d,_,b,null),t[wi]=i.current,Id(t.nodeType===8?t.parentNode:t),new Kd(i)},Al.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=sy,_=ay,b=oy,C=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=Ov(t,1,!0,i,a??null,l,h,d,_,b,C,P),i.context=kv(null),a=i.current,l=yn(),h=Ir(l),h.callback=null,Nr(a,h,l),i.current.lanes=l,ct(i,l),ui(i),t[wi]=i.current,Id(t),new Dc(i)},Al.version="19.0.0",Al}var Zv;function Xw(){if(Zv)return $d.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$d.exports=$w(),$d.exports}var Ww=Xw(),Rl={},Jv;function Zw(){if(Jv)return Rl;Jv=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=f,Rl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function f(x,O){const U=new u,Q=x.length;if(Q<2)return U;const L=(O==null?void 0:O.decode)||T;let G=0;do{const te=x.indexOf("=",G);if(te===-1)break;const Z=x.indexOf(";",G),ae=Z===-1?Q:Z;if(te>ae){G=x.lastIndexOf(";",te-1)+1;continue}const ce=m(x,G,te),ne=p(x,te,ce),D=x.slice(ce,ne);if(U[D]===void 0){let R=m(x,te+1,ae),w=p(x,ae,R);const I=L(x.slice(R,w));U[D]=I}G=ae+1}while(G<Q);return U}function m(x,O,U){do{const Q=x.charCodeAt(O);if(Q!==32&&Q!==9)return O}while(++O<U);return U}function p(x,O,U){for(;O>U;){const Q=x.charCodeAt(--O);if(Q!==32&&Q!==9)return O+1}return U}function y(x,O,U){const Q=(U==null?void 0:U.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const L=Q(O);if(!e.test(L))throw new TypeError(`argument val is invalid: ${O}`);let G=x+"="+L;if(!U)return G;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);G+="; Max-Age="+U.maxAge}if(U.domain){if(!n.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);G+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);G+="; Path="+U.path}if(U.expires){if(!A(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);G+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(G+="; HttpOnly"),U.secure&&(G+="; Secure"),U.partitioned&&(G+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return G}function T(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function A(x){return o.call(x)==="[object Date]"}return Rl}Zw();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e_="popstate";function Jw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return dm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Bl(o)}return tS(e,n,null,r)}function it(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function pi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eS(){return Math.random().toString(36).substring(2,10)}function t_(r,e){return{usr:r.state,key:r.key,idx:e}}function dm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:n,key:e&&e.key||s||eS()}}function Bl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function tS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function A(){m="POP";let L=T(),G=L==null?null:L-y;y=L,p&&p({action:m,location:Q.location,delta:G})}function x(L,G){m="PUSH";let te=dm(Q.location,L,G);y=T()+1;let Z=t_(te,y),ae=Q.createHref(te);try{f.pushState(Z,"",ae)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ae)}u&&p&&p({action:m,location:Q.location,delta:1})}function O(L,G){m="REPLACE";let te=dm(Q.location,L,G);y=T();let Z=t_(te,y),ae=Q.createHref(te);f.replaceState(Z,"",ae),u&&p&&p({action:m,location:Q.location,delta:0})}function U(L){let G=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof L=="string"?L:Bl(L);return te=te.replace(/ $/,"%20"),it(G,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,G)}let Q={get action(){return m},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(e_,A),p=L,()=>{o.removeEventListener(e_,A),p=null}},createHref(L){return e(o,L)},createURL:U,encodeLocation(L){let G=U(L);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:x,replace:O,go(L){return f.go(L)}};return Q}function N0(r,e,n="/"){return nS(r,e,n,!1)}function nS(r,e,n,s){let o=typeof e=="string"?co(e):e,u=ts(o.pathname||"/",n);if(u==null)return null;let f=D0(r);iS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=mS(u);m=fS(f[p],y,s)}return m}function D0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Xi([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),D0(u.children,e,T,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:cS(y,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of O0(u.path))o(u,f,p)}),e}function O0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=O0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function iS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:hS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var rS=/^:[\w-]+$/,sS=3,aS=2,oS=1,lS=10,uS=-2,n_=r=>r==="*";function cS(r,e){let n=r.split("/"),s=n.length;return n.some(n_)&&(s+=uS),e&&(s+=aS),n.filter(o=>!n_(o)).reduce((o,u)=>o+(rS.test(u)?sS:u===""?oS:lS),s)}function hS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function fS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",A=Jc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),x=p.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=Jc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Xi([u,A.pathname]),pathnameBase:vS(Xi([u,A.pathnameBase])),route:x}),A.pathnameBase!=="/"&&(u=Xi([u,A.pathnameBase]))}return f}function Jc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=dS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:A},x)=>{if(T==="*"){let U=m[x]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const O=m[x];return A&&!O?y[T]=void 0:y[T]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function dS(r,e=!1,n=!0){pi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function mS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ts(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function pS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?co(r):r;return{pathname:n?n.startsWith("/")?n:gS(n,e):e,search:_S(s),hash:ES(o)}}function gS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Jd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function k0(r){let e=yS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function M0(r,e,n,s=!1){let o;typeof r=="string"?o=co(r):(o={...r},it(!o.pathname||!o.pathname.includes("?"),Jd("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Jd("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Jd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),A-=1;o.pathname=x.join("/")}m=A>=0?e[A]:"/"}let p=pS(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var Xi=r=>r.join("/").replace(/\/\/+/g,"/"),vS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_S=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ES=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function TS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var V0=["POST","PUT","PATCH","DELETE"];new Set(V0);var bS=["GET",...V0];new Set(bS);var ho=B.createContext(null);ho.displayName="DataRouter";var _h=B.createContext(null);_h.displayName="DataRouterState";var P0=B.createContext({isTransitioning:!1});P0.displayName="ViewTransition";var wS=B.createContext(new Map);wS.displayName="Fetchers";var SS=B.createContext(null);SS.displayName="Await";var vi=B.createContext(null);vi.displayName="Navigation";var Wl=B.createContext(null);Wl.displayName="Location";var _i=B.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var Bm=B.createContext(null);Bm.displayName="RouteError";function AS(r,{relative:e}={}){it(Zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(vi),{hash:o,pathname:u,search:f}=Jl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Zl(){return B.useContext(Wl)!=null}function Zs(){return it(Zl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Wl).location}var L0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U0(r){B.useContext(vi).static||B.useLayoutEffect(r)}function Eh(){let{isDataRoute:r}=B.useContext(_i);return r?zS():RS()}function RS(){it(Zl(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(ho),{basename:e,navigator:n}=B.useContext(vi),{matches:s}=B.useContext(_i),{pathname:o}=Zs(),u=JSON.stringify(k0(s)),f=B.useRef(!1);return U0(()=>{f.current=!0}),B.useCallback((p,y={})=>{if(pi(f.current,L0),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=M0(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Xi([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,o,r])}var xS=B.createContext(null);function CS(r){let e=B.useContext(_i).outlet;return e&&B.createElement(xS.Provider,{value:r},e)}function Jl(r,{relative:e}={}){let{matches:n}=B.useContext(_i),{pathname:s}=Zs(),o=JSON.stringify(k0(n));return B.useMemo(()=>M0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function IS(r,e){return j0(r,e)}function j0(r,e,n,s){var te;it(Zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=B.useContext(vi),{matches:f}=B.useContext(_i),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",A=m&&m.route;{let Z=A&&A.path||"";z0(y,!A||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let x=Zs(),O;if(e){let Z=typeof e=="string"?co(e):e;it(T==="/"||((te=Z.pathname)==null?void 0:te.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),O=Z}else O=x;let U=O.pathname||"/",Q=U;if(T!=="/"){let Z=T.replace(/^\//,"").split("/");Q="/"+U.replace(/^\//,"").split("/").slice(Z.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:N0(r,{pathname:Q});pi(A||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),pi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=MS(L&&L.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:Xi([T,o.encodeLocation?o.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?T:Xi([T,o.encodeLocation?o.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,n,s);return e&&G?B.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},G):G}function NS(){let r=jS(),e=TS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var DS=B.createElement(NS,null),OS=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(_i.Provider,{value:this.props.routeContext},B.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kS({routeContext:r,match:e,children:n}){let s=B.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(_i.Provider,{value:r},n)}function MS(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:T,errors:A}=n,x=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||x){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let A,x=!1,O=null,U=null;n&&(A=u&&y.route.id?u[y.route.id]:void 0,O=y.route.errorElement||DS,f&&(m<0&&T===0?(z0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,U=null):m===T&&(x=!0,U=y.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,T+1)),L=()=>{let G;return A?G=O:x?G=U:y.route.Component?G=B.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=p,B.createElement(kS,{match:y,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?B.createElement(OS,{location:n.location,revalidation:n.revalidation,component:O,error:A,children:L(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):L()},null)}function Hm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VS(r){let e=B.useContext(ho);return it(e,Hm(r)),e}function PS(r){let e=B.useContext(_h);return it(e,Hm(r)),e}function LS(r){let e=B.useContext(_i);return it(e,Hm(r)),e}function qm(r){let e=LS(r),n=e.matches[e.matches.length-1];return it(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function US(){return qm("useRouteId")}function jS(){var s;let r=B.useContext(Bm),e=PS("useRouteError"),n=qm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function zS(){let{router:r}=VS("useNavigate"),e=qm("useNavigate"),n=B.useRef(!1);return U0(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{pi(n.current,L0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var i_={};function z0(r,e,n){!e&&!i_[r]&&(i_[r]=!0,pi(!1,n))}B.memo(BS);function BS({routes:r,future:e,state:n}){return j0(r,void 0,n,e)}function HS(r){return CS(r.context)}function Gn(r){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!Zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=co(n));let{pathname:p="/",search:y="",hash:T="",state:A=null,key:x="default"}=n,O=B.useMemo(()=>{let U=ts(p,f);return U==null?null:{location:{pathname:U,search:y,hash:T,state:A,key:x},navigationType:s}},[f,p,y,T,A,x,s]);return pi(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:B.createElement(vi.Provider,{value:m},B.createElement(Wl.Provider,{children:e,value:O}))}function FS({children:r,location:e}){return IS(mm(r),e)}function mm(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,mm(s.props.children,u));return}it(s.type===Gn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=mm(s.props.children,u)),n.push(f)}),n}var zc="get",Bc="application/x-www-form-urlencoded";function Th(r){return r!=null&&typeof r.tagName=="string"}function GS(r){return Th(r)&&r.tagName.toLowerCase()==="button"}function KS(r){return Th(r)&&r.tagName.toLowerCase()==="form"}function QS(r){return Th(r)&&r.tagName.toLowerCase()==="input"}function YS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $S(r,e){return r.button===0&&(!e||e==="_self")&&!YS(r)}var kc=null;function XS(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var WS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function em(r){return r!=null&&!WS.has(r)?(pi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):r}function ZS(r,e){let n,s,o,u,f;if(KS(r)){let m=r.getAttribute("action");s=m?ts(m,e):null,n=r.getAttribute("method")||zc,o=em(r.getAttribute("enctype"))||Bc,u=new FormData(r)}else if(GS(r)||QS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ts(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||zc,o=em(r.getAttribute("formenctype"))||em(m.getAttribute("enctype"))||Bc,u=new FormData(m,r),!XS()){let{name:y,type:T,value:A}=r;if(T==="image"){let x=y?`${y}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else y&&u.append(y,A)}}else{if(Th(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zc,s=null,o=Bc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Fm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function JS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function tA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await JS(u,n);return f.links?f.links():[]}return[]}));return sA(s.flat(1).filter(eA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function r_(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var T;return n[y].pathname!==p.pathname||((T=n[y].route.path)==null?void 0:T.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var A;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function nA(r,e,{includeHydrateFallback:n}={}){return iA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function iA(r){return[...new Set(r)]}function rA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function sA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(rA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function aA(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function oA(){let r=B.useContext(ho);return Fm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function lA(){let r=B.useContext(_h);return Fm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gm=B.createContext(void 0);Gm.displayName="FrameworkContext";function B0(){let r=B.useContext(Gm);return Fm(r,"You must render this element inside a <HydratedRouter> element"),r}function uA(r,e){let n=B.useContext(Gm),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:A}=e,x=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=G=>{G.forEach(te=>{f(te.isIntersecting)})},L=new IntersectionObserver(Q,{threshold:.5});return x.current&&L.observe(x.current),()=>{L.disconnect()}}},[r]),B.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let O=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:xl(m,O),onBlur:xl(p,U),onMouseEnter:xl(y,O),onMouseLeave:xl(T,U),onTouchStart:xl(A,O)}]:[!1,x,{}]}function xl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function cA({page:r,...e}){let{router:n}=oA(),s=B.useMemo(()=>N0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(fA,{page:r,matches:s,...e}):null}function hA(r){let{manifest:e,routeModules:n}=B0(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return tA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function fA({page:r,matches:e,...n}){let s=Zs(),{manifest:o,routeModules:u}=B0(),{loaderData:f,matches:m}=lA(),p=B.useMemo(()=>r_(r,e,m,o,s,"data"),[r,e,m,o,s]),y=B.useMemo(()=>r_(r,e,m,o,s,"assets"),[r,e,m,o,s]),T=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,U=!1;if(e.forEach(L=>{var te;let G=o.routes[L.route.id];!G||!G.hasLoader||(!p.some(Z=>Z.route.id===L.route.id)&&L.route.id in f&&((te=u[L.route.id])!=null&&te.shouldRevalidate)||G.hasClientLoader?U=!0:O.add(L.route.id))}),O.size===0)return[];let Q=aA(r);return U&&O.size>0&&Q.searchParams.set("_routes",e.filter(L=>O.has(L.route.id)).map(L=>L.route.id).join(",")),[Q.pathname+Q.search]},[f,s,o,p,e,r,u]),A=B.useMemo(()=>nA(y,o),[y,o]),x=hA(y);return B.createElement(B.Fragment,null,T.map(O=>B.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),A.map(O=>B.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),x.map(({key:O,link:U})=>B.createElement("link",{key:O,...U})))}function dA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H0&&(window.__reactRouterVersion="7.2.0")}catch{}function mA({basename:r,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=Jw({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(qS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:T,viewTransition:A,...x},O){let{basename:U}=B.useContext(vi),Q=typeof y=="string"&&q0.test(y),L,G=!1;if(typeof y=="string"&&Q&&(L=y,H0))try{let w=new URL(window.location.href),I=y.startsWith("//")?new URL(w.protocol+y):new URL(y),k=ts(I.pathname,U);I.origin===w.origin&&k!=null?y=k+I.search+I.hash:G=!0}catch{pi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=AS(y,{relative:o}),[Z,ae,ce]=uA(s,x),ne=vA(y,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:A});function D(w){e&&e(w),w.defaultPrevented||ne(w)}let R=B.createElement("a",{...x,...ce,href:L||te,onClick:G||u?e:D,ref:dA(O,ae),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return Z&&!Q?B.createElement(B.Fragment,null,R,B.createElement(cA,{page:te})):R});vn.displayName="Link";var pA=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},T){let A=Jl(f,{relative:y.relative}),x=Zs(),O=B.useContext(_h),{navigator:U,basename:Q}=B.useContext(vi),L=O!=null&&wA(A)&&m===!0,G=U.encodeLocation?U.encodeLocation(A).pathname:A.pathname,te=x.pathname,Z=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(te=te.toLowerCase(),Z=Z?Z.toLowerCase():null,G=G.toLowerCase()),Z&&Q&&(Z=ts(Z,Q)||Z);const ae=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ce=te===G||!o&&te.startsWith(G)&&te.charAt(ae)==="/",ne=Z!=null&&(Z===G||!o&&Z.startsWith(G)&&Z.charAt(G.length)==="/"),D={isActive:ce,isPending:ne,isTransitioning:L},R=ce?e:void 0,w;typeof s=="function"?w=s(D):w=[s,ce?"active":null,ne?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(D):u;return B.createElement(vn,{...y,"aria-current":R,className:w,ref:T,style:I,to:f,viewTransition:m},typeof p=="function"?p(D):p)});pA.displayName="NavLink";var gA=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=zc,action:m,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:A,...x},O)=>{let U=TA(),Q=bA(m,{relative:y}),L=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&q0.test(m),te=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let ae=Z.nativeEvent.submitter,ce=(ae==null?void 0:ae.getAttribute("formmethod"))||f;U(ae||Z.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:A})};return B.createElement("form",{ref:O,method:L,action:Q,onSubmit:s?p:te,...x,"data-discover":!G&&r==="render"?"true":void 0})});gA.displayName="Form";function yA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F0(r){let e=B.useContext(ho);return it(e,yA(r)),e}function vA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Eh(),p=Zs(),y=Jl(r,{relative:u});return B.useCallback(T=>{if($S(T,e)){T.preventDefault();let A=n!==void 0?n:Bl(p)===Bl(y);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var _A=0,EA=()=>`__${String(++_A)}__`;function TA(){let{router:r}=F0("useSubmit"),{basename:e}=B.useContext(vi),n=US();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=ZS(s,e);if(o.navigate===!1){let T=o.fetcherKey||EA();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function bA(r,{relative:e}={}){let{basename:n}=B.useContext(vi),s=B.useContext(_i);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Jl(r||".",{relative:e})},f=Zs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xi([n,u.pathname])),Bl(u)}function wA(r,e={}){let n=B.useContext(P0);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=F0("useViewTransitionState"),o=Jl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ts(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ts(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jc(o.pathname,f)!=null||Jc(o.pathname,u)!=null}new TextEncoder;const SA=()=>{};var s_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},AA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=u>>2,A=(u&3)<<4|m>>4;let x=(m&15)<<2|y>>6,O=y&63;p||(O=64,f||(x=64)),s.push(n[T],n[A],n[x],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(G0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):AA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new RA;const x=u<<2|m>>4;if(s.push(x),y!==64){const O=m<<4&240|y>>2;if(s.push(O),A!==64){const U=y<<6&192|A;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xA=function(r){const e=G0(r);return K0.encodeByteArray(e,!0)},eh=function(r){return xA(r).replace(/\./g,"")},Q0=function(r){try{return K0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=()=>CA().__FIREBASE_DEFAULTS__,NA=()=>{if(typeof process>"u"||typeof s_>"u")return;const r=s_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Q0(r[1]);return e&&JSON.parse(e)},bh=()=>{try{return SA()||IA()||NA()||DA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Y0=r=>{var e,n;return(n=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},OA=r=>{const e=Y0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$0=()=>{var r;return(r=bh())===null||r===void 0?void 0:r.config},X0=r=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[eh(JSON.stringify(n)),eh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function PA(){var r;const e=(r=bh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function jA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zA(){const r=Xt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function BA(){return!PA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HA(){try{return typeof indexedDB=="object"}catch{return!1}}function qA(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="FirebaseError";class ir extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=FA,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?GA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ir(o,m,s)}}function GA(r,e){return r.replace(KA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const KA=/\{\$([^}]+)}/g;function QA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ks(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(a_(u)&&a_(f)){if(!Ks(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function a_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Il(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Nl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function YA(r,e){const n=new $A(r,e);return n.subscribe.bind(n)}class $A{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");XA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(r){return r&&r._delegate?r._delegate:r}class Qs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JA(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZA(r){return r===Fs?void 0:r}function JA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const tR={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},nR=De.INFO,iR={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},rR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=iR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Km{constructor(e){this.name=e,this._logLevel=nR,this._logHandler=rR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const sR=(r,e)=>e.some(n=>r instanceof n);let o_,l_;function aR(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oR(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const W0=new WeakMap,pm=new WeakMap,Z0=new WeakMap,nm=new WeakMap,Qm=new WeakMap;function lR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n($r(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&W0.set(n,r)}).catch(()=>{}),Qm.set(e,r),e}function uR(r){if(pm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});pm.set(r,e)}let gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Z0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function cR(r){gm=r(gm)}function hR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(im(this),e,...n);return Z0.set(s,e.sort?e.sort():[e]),$r(s)}:oR().includes(r)?function(...e){return r.apply(im(this),e),$r(W0.get(this))}:function(...e){return $r(r.apply(im(this),e))}}function fR(r){return typeof r=="function"?hR(r):(r instanceof IDBTransaction&&uR(r),sR(r,aR())?new Proxy(r,gm):r)}function $r(r){if(r instanceof IDBRequest)return lR(r);if(nm.has(r))return nm.get(r);const e=fR(r);return e!==r&&(nm.set(r,e),Qm.set(e,r)),e}const im=r=>Qm.get(r);function dR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=$r(f);return s&&f.addEventListener("upgradeneeded",p=>{s($r(f.result),p.oldVersion,p.newVersion,$r(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const mR=["get","getKey","getAll","getAllKeys","count"],pR=["put","add","delete","clear"],rm=new Map;function u_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=pR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||mR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return rm.set(e,u),u}cR(r=>({...r,get:(e,n,s)=>u_(e,n)||r.get(e,n,s),has:(e,n)=>!!u_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function yR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",c_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Km("@firebase/app"),vR="@firebase/app-compat",_R="@firebase/analytics-compat",ER="@firebase/analytics",TR="@firebase/app-check-compat",bR="@firebase/app-check",wR="@firebase/auth",SR="@firebase/auth-compat",AR="@firebase/database",RR="@firebase/data-connect",xR="@firebase/database-compat",CR="@firebase/functions",IR="@firebase/functions-compat",NR="@firebase/installations",DR="@firebase/installations-compat",OR="@firebase/messaging",kR="@firebase/messaging-compat",MR="@firebase/performance",VR="@firebase/performance-compat",PR="@firebase/remote-config",LR="@firebase/remote-config-compat",UR="@firebase/storage",jR="@firebase/storage-compat",zR="@firebase/firestore",BR="@firebase/vertexai",HR="@firebase/firestore-compat",qR="firebase",FR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="[DEFAULT]",GR={[ym]:"fire-core",[vR]:"fire-core-compat",[ER]:"fire-analytics",[_R]:"fire-analytics-compat",[bR]:"fire-app-check",[TR]:"fire-app-check-compat",[wR]:"fire-auth",[SR]:"fire-auth-compat",[AR]:"fire-rtdb",[RR]:"fire-data-connect",[xR]:"fire-rtdb-compat",[CR]:"fire-fn",[IR]:"fire-fn-compat",[NR]:"fire-iid",[DR]:"fire-iid-compat",[OR]:"fire-fcm",[kR]:"fire-fcm-compat",[MR]:"fire-perf",[VR]:"fire-perf-compat",[PR]:"fire-rc",[LR]:"fire-rc-compat",[UR]:"fire-gcs",[jR]:"fire-gcs-compat",[zR]:"fire-fst",[HR]:"fire-fst-compat",[BR]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,KR=new Map,_m=new Map;function h_(r,e){try{r.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function to(r){const e=r.name;if(_m.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,r);for(const n of th.values())h_(n,r);for(const n of KR.values())h_(n,r);return!0}function Ym(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new eu("app","Firebase",QR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=FR;function J0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:vm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Xr.create("bad-app-name",{appName:String(o)});if(n||(n=$0()),!n)throw Xr.create("no-options");const u=th.get(o);if(u){if(Ks(n,u.options)&&Ks(s,u.config))return u;throw Xr.create("duplicate-app",{appName:o})}const f=new eR(o);for(const p of _m.values())f.addComponent(p);const m=new YR(n,s,f);return th.set(o,m),m}function eE(r=vm){const e=th.get(r);if(!e&&r===vm&&$0())return J0();if(!e)throw Xr.create("no-app",{appName:r});return e}function Wr(r,e,n){var s;let o=(s=GR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}to(new Qs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="firebase-heartbeat-database",XR=1,Hl="firebase-heartbeat-store";let sm=null;function tE(){return sm||(sm=dR($R,XR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Xr.create("idb-open",{originalErrorMessage:r.message})})),sm}async function WR(r){try{const n=(await tE()).transaction(Hl),s=await n.objectStore(Hl).get(nE(r));return await n.done,s}catch(e){if(e instanceof ir)Ji.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function f_(r,e){try{const s=(await tE()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,nE(r)),await s.done}catch(n){if(n instanceof ir)Ji.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(s.message)}}}function nE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=1024,JR=30;class ex{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=d_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>JR){const f=ix(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d_(),{heartbeatsToSend:s,unsentEntries:o}=tx(this._heartbeatsCache.heartbeats),u=eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function d_(){return new Date().toISOString().substring(0,10)}function tx(r,e=ZR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),m_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),m_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HA()?qA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return f_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return f_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function m_(r){return eh(JSON.stringify({version:2,heartbeats:r})).length}function ix(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(r){to(new Qs("platform-logger",e=>new gR(e),"PRIVATE")),to(new Qs("heartbeat",e=>new ex(e),"PRIVATE")),Wr(ym,c_,r),Wr(ym,c_,"esm2017"),Wr("fire-js","")}rx("");function $m(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function iE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sx=iE,rE=new eu("auth","Firebase",iE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Km("@firebase/auth");function ax(r,...e){nh.logLevel<=De.WARN&&nh.warn(`Auth (${fo}): ${r}`,...e)}function Hc(r,...e){nh.logLevel<=De.ERROR&&nh.error(`Auth (${fo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...e){throw Xm(r,...e)}function hi(r,...e){return Xm(r,...e)}function sE(r,e,n){const s=Object.assign(Object.assign({},sx()),{[e]:n});return new eu("auth","Firebase",s).create(e,{appName:r.name})}function Wi(r){return sE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return rE.create(r,...e)}function _e(r,e,...n){if(!r)throw Xm(e,...n)}function Qi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Hc(e),new Error(e)}function er(r,e){r||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function ox(){return p_()==="http:"||p_()==="https:"}function p_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ox()||UA()||"connection"in navigator)?navigator.onLine:!0}function ux(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=VA()||jA()}get(){return lx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r,e){er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new nu(3e4,6e4);function us(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function rr(r,e,n,s,o={}){return oE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=tu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return LA()||(y.referrerPolicy="no-referrer"),aE.fetch()(lE(r,r.config.apiHost,n,m),y)})}async function oE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},cx),e);try{const o=new dx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Mc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Mc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw sE(r,T,y);Qn(r,T)}}catch(o){if(o instanceof ir)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function iu(r,e,n,s,o={}){const u=await rr(r,e,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function lE(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Wm(r.config,o):`${r.config.apiScheme}://${o}`}function fx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),hx.get())})}}function Mc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=hi(r,e,s);return o.customData._tokenResponse=n,o}function g_(r){return r!==void 0&&r.enterprise!==void 0}class mx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function px(r,e){return rr(r,"GET","/v2/recaptchaConfig",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(r,e){return rr(r,"POST","/v1/accounts:delete",e)}async function uE(r,e){return rr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yx(r,e=!1){const n=Ht(r),s=await n.getIdToken(e),o=Zm(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Vl(am(o.auth_time)),issuedAtTime:Vl(am(o.iat)),expirationTime:Vl(am(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function am(r){return Number(r)*1e3}function Zm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Q0(n);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function y_(r){const e=Zm(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ir&&vx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function vx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(r){var e;const n=r.auth,s=await r.getIdToken(),o=await no(r,uE(n,{idToken:s}));_e(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?cE(u.providerUserInfo):[],m=Tx(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Tm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,A)}async function Ex(r){const e=Ht(r);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Tx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function cE(r){return r.map(e=>{var{providerId:n}=e,s=$m(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(r,e){const n=await oE(r,{},async()=>{const s=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=lE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",aE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wx(r,e){return rr(r,"POST","/v2/accounts:revokeToken",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await bx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Wa;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=$m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _x(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Tm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await no(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yx(this,e)}reload(){return Ex(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await no(this,gx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,T;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,U=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(y=n.createdAt)!==null&&y!==void 0?y:void 0,te=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:Z,emailVerified:ae,isAnonymous:ce,providerData:ne,stsTokenManager:D}=n;_e(Z&&D,e,"internal-error");const R=Wa.fromJSON(this.name,D);_e(typeof Z=="string",e,"internal-error"),Hr(A,e.name),Hr(x,e.name),_e(typeof ae=="boolean",e,"internal-error"),_e(typeof ce=="boolean",e,"internal-error"),Hr(O,e.name),Hr(U,e.name),Hr(Q,e.name),Hr(L,e.name),Hr(G,e.name),Hr(te,e.name);const w=new Yi({uid:Z,auth:e,email:x,emailVerified:ae,displayName:A,isAnonymous:ce,photoURL:U,phoneNumber:O,tenantId:Q,stsTokenManager:R,createdAt:G,lastLoginAt:te});return ne&&Array.isArray(ne)&&(w.providerData=ne.map(I=>Object.assign({},I))),L&&(w._redirectEventId=L),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new Wa;o.updateFromServerResponse(n);const u=new Yi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?cE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Wa;m.updateFromIdToken(s);const p=new Yi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;function $i(r){er(r instanceof Function,"Expected a class definition");let e=v_.get(r);return e?(er(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,v_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hE.type="NONE";const __=hE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(r,e,n){return`firebase:${r}:${e}:${n}`}class Za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Za($i(__),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||$i(__);const f=qc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){const A=Yi._fromJSON(e,T);y!==u&&(m=A),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Za(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Za(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yE(e))return"Blackberry";if(vE(e))return"Webos";if(dE(e))return"Safari";if((e.includes("chrome/")||mE(e))&&!e.includes("edge/"))return"Chrome";if(gE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function fE(r=Xt()){return/firefox\//i.test(r)}function dE(r=Xt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mE(r=Xt()){return/crios\//i.test(r)}function pE(r=Xt()){return/iemobile/i.test(r)}function gE(r=Xt()){return/android/i.test(r)}function yE(r=Xt()){return/blackberry/i.test(r)}function vE(r=Xt()){return/webos/i.test(r)}function Jm(r=Xt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Sx(r=Xt()){var e;return Jm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ax(){return zA()&&document.documentMode===10}function _E(r=Xt()){return Jm(r)||gE(r)||vE(r)||yE(r)||/windows phone/i.test(r)||pE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r,e=[]){let n;switch(r){case"Browser":n=E_(Xt());break;case"Worker":n=`${E_(Xt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(r,e={}){return rr(r,"GET","/v2/passwordPolicy",us(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=6;class Ix{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:Cx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T_(this),this.idTokenSubscription=new T_(this),this.beforeStateQueue=new Rx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uE(this,{idToken:e}),s=await Yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ux()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Wi(this));const n=e?Ht(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xx(this),n=new Ix(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await wx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ax(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Js(r){return Ht(r)}class T_{constructor(e){this.auth=e,this.observer=null,this.addObserver=YA(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dx(r){wh=r}function TE(r){return wh.loadJS(r)}function Ox(){return wh.recaptchaEnterpriseScript}function kx(){return wh.gapiScript}function Mx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Vx{constructor(){this.enterprise=new Px}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Px{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Lx="recaptcha-enterprise",bE="NO_RECAPTCHA";class Ux{constructor(e){this.type=Lx,this.auth=Js(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{px(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new mx(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;g_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(bE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&g_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Ox();p.length!==0&&(p+=m),TE(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function b_(r,e,n,s=!1,o=!1){const u=new Ux(r);let f;if(o)f=bE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function bm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await b_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await b_(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(r,e){const n=Ym(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ks(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function zx(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map($i);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Bx(r,e,n){const s=Js(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=wE(e),{host:f,port:m}=Hx(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(Ks(y,s.config.emulator)&&Ks(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,qx()}function wE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Hx(r){const e=wE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:w_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:w_(f)}}}function w_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function qx(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function Fx(r,e){return rr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(r,e){return iu(r,"POST","/v1/accounts:signInWithPassword",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(r,e){return iu(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}async function Qx(r,e){return iu(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends ep{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ql(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ql(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,n,"signInWithPassword",Gx);case"emailLink":return Kx(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(e,s,"signUpPassword",Fx);case"emailLink":return Qx(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,e){return iu(r,"POST","/v1/accounts:signInWithIdp",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="http://localhost";class Ys extends ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=$m(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ys(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:Yx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Xx(r){const e=Il(Nl(r)).link,n=e?Il(Nl(e)).deep_link_id:null,s=Il(Nl(r)).deep_link_id;return(s?Il(Nl(s)).link:null)||s||n||e||r}class tp{constructor(e){var n,s,o,u,f,m;const p=Il(Nl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,A=$x((o=p.mode)!==null&&o!==void 0?o:null);_e(y&&T&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=Xx(e);try{return new tp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,n){return ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=tp.parseLink(n);return _e(s,"argument-error"),ql._fromEmailAndCode(e,s.code,s.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends SE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends ru{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends ru{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends ru{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(r,e){return iu(r,"POST","/v1/accounts:signUp",us(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Yi._fromIdTokenResponse(e,s,o),f=S_(s);return new $s({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=S_(s);return new $s({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function S_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends ir{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new rh(e,n,s,o)}}function AE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(r,u,e,s):u})}async function Zx(r,e,n=!1){const s=await no(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return $s._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(r,e,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(Wi(s));const o="reauthenticate";try{const u=await no(r,AE(s,o,e,r),n);_e(u.idToken,s,"internal-error");const f=Zm(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(r.uid===m,s,"user-mismatch"),$s._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RE(r,e,n=!1){if(Un(r.app))return Promise.reject(Wi(r));const s="signIn",o=await AE(r,s,e),u=await $s._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function e1(r,e){return RE(Js(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xE(r){const e=Js(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function t1(r,e,n){if(Un(r.app))return Promise.reject(Wi(r));const s=Js(r),f=await bm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&xE(r),p}),m=await $s._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function n1(r,e,n){return Un(r.app)?Promise.reject(Wi(r)):e1(Ht(r),mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xE(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(r,e){return rr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Ht(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await no(s,i1(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function s1(r,e,n,s){return Ht(r).onIdTokenChanged(e,n,s)}function a1(r,e,n){return Ht(r).beforeAuthStateChanged(e,n)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=1e3,l1=10;class IE extends CE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_E(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Ax()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,l1):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},o1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IE.type="LOCAL";const u1=IE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE extends CE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NE.type="SESSION";const DE=NE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Sh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await c1(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=np("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const x=A;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function f1(r){fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function d1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function p1(){return OE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="firebaseLocalStorageDb",g1=1,ah="firebaseLocalStorage",ME="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ah(r,e){return r.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function y1(){const r=indexedDB.deleteDatabase(kE);return new su(r).toPromise()}function wm(){const r=indexedDB.open(kE,g1);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ah,{keyPath:ME})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ah)?e(s):(s.close(),await y1(),e(await wm()))})})}async function A_(r,e,n){const s=Ah(r,!0).put({[ME]:e,value:n});return new su(s).toPromise()}async function v1(r,e){const n=Ah(r,!1).get(e),s=await new su(n).toPromise();return s===void 0?null:s.value}function R_(r,e){const n=Ah(r,!0).delete(e);return new su(n).toPromise()}const _1=800,E1=3;class VE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>E1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sh._getInstance(p1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await d1(),!this.activeServiceWorker)return;this.sender=new h1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||m1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await A_(e,sh,"1"),await R_(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>A_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>v1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>R_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ah(o,!1).getAll();return new su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VE.type="LOCAL";const T1=VE;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r,e){return e?$i(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w1(r){return RE(r.auth,new ip(r),r.bypassAuthState)}function S1(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),Jx(n,new ip(r),r.bypassAuthState)}async function A1(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),Zx(n,new ip(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w1;case"linkViaPopup":case"linkViaRedirect":return A1;case"reauthViaPopup":case"reauthViaRedirect":return S1;default:Qn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new nu(2e3,1e4);class Xa extends PE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R1.get())};e()}}Xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="pendingRedirect",Fc=new Map;class C1 extends PE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Fc.get(this.auth._key());if(!e){try{const s=await I1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Fc.set(this.auth._key(),e)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I1(r,e){const n=O1(e),s=D1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function N1(r,e){Fc.set(r._key(),e)}function D1(r){return $i(r._redirectPersistence)}function O1(r){return qc(x1,r.config.apiKey,r.name)}async function k1(r,e,n=!1){if(Un(r.app))return Promise.reject(Wi(r));const s=Js(r),o=b1(s,e),f=await new C1(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=10*60*1e3;class V1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!LE(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M1&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(e))}saveEventToCache(e){this.cachedEventUids.add(x_(e)),this.lastProcessedEventTime=Date.now()}}function x_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function LE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(r,e={}){return rr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j1=/^https?/;async function z1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await L1(r);for(const n of e)try{if(B1(n))return}catch{}Qn(r,"unauthorized-domain")}function B1(r){const e=Em(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!j1.test(n))return!1;if(U1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new nu(3e4,6e4);function C_(){const r=fi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function q1(r){return new Promise((e,n)=>{var s,o,u;function f(){C_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C_(),n(hi(r,"network-request-failed"))},timeout:H1.get()})}if(!((o=(s=fi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=fi().gapi)===null||u===void 0)&&u.load)f();else{const m=Mx("iframefcb");return fi()[m]=()=>{gapi.load?f():n(hi(r,"network-request-failed"))},TE(`${kx()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function F1(r){return Gc=Gc||q1(r),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new nu(5e3,15e3),K1="__/auth/iframe",Q1="emulator/auth/iframe",Y1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X1(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Wm(e,Q1):`https://${r.config.authDomain}/${K1}`,s={apiKey:e.apiKey,appName:r.name,v:fo},o=$1.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${tu(s).slice(1)}`}async function W1(r){const e=await F1(r),n=fi().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:X1(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=hi(r,"network-request-failed"),m=fi().setTimeout(()=>{u(f)},G1.get());function p(){fi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J1=500,eC=600,tC="_blank",nC="http://localhost";class I_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iC(r,e,n,s=J1,o=eC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Z1),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xt().toLowerCase();n&&(m=mE(y)?tC:n),fE(y)&&(e=e||nC,p.scrollbars="yes");const T=Object.entries(p).reduce((x,[O,U])=>`${x}${O}=${U},`,"");if(Sx(y)&&m!=="_self")return rC(e||"",m),new I_(null);const A=window.open(e||"",m,T);_e(A,r,"popup-blocked");try{A.focus()}catch{}return new I_(A)}function rC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="__/auth/handler",aC="emulator/auth/handler",oC=encodeURIComponent("fac");async function N_(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:fo,eventId:o};if(e instanceof SE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",QA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(e instanceof ru){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),y=p?`#${oC}=${encodeURIComponent(p)}`:"";return`${lC(r)}?${tu(m).slice(1)}${y}`}function lC({config:r}){return r.emulator?Wm(r,aC):`https://${r.authDomain}/${sC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="webStorageSupport";class uC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DE,this._completeRedirectFn=k1,this._overrideRedirectResult=N1}async _openPopup(e,n,s,o){var u;er((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await N_(e,n,s,Em(),o);return iC(e,f,np())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await N_(e,n,s,Em(),o);return f1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await W1(e),s=new V1(e);return n.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(om,{type:om},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[om];f!==void 0&&n(!!f),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _E()||dE()||Jm()}}const cC=uC;var D_="@firebase/auth",O_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dC(r){to(new Qs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EE(r)},y=new Nx(s,o,u,p);return zx(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),to(new Qs("auth-internal",e=>{const n=Js(e.getProvider("auth").getImmediate());return(s=>new hC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(D_,O_,fC(r)),Wr(D_,O_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=5*60,pC=X0("authIdTokenMaxAge")||mC;let k_=null;const gC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>pC)return;const o=n==null?void 0:n.token;k_!==o&&(k_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yC(r=eE()){const e=Ym(r,"auth");if(e.isInitialized())return e.getImmediate();const n=jx(r,{popupRedirectResolver:cC,persistence:[T1,u1,DE]}),s=X0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=gC(u.toString());a1(n,f,()=>f(n.currentUser)),s1(n,m=>f(m))}}const o=Y0("auth");return o&&Bx(n,`http://${o}`),n}function vC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Dx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=hi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",vC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dC("Browser");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,UE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function w(){}w.prototype=R.prototype,D.D=R.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(I,k,j){for(var N=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)N[$e-2]=arguments[$e];return R.prototype[k].apply(I,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,w){w||(w=0);var I=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)I[k]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(k=0;16>k;++k)I[k]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=D.g[0],w=D.g[1],k=D.g[2];var j=D.g[3],N=R+(j^w&(k^j))+I[0]+3614090360&4294967295;R=w+(N<<7&4294967295|N>>>25),N=j+(k^R&(w^k))+I[1]+3905402710&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(w^j&(R^w))+I[2]+606105819&4294967295,k=j+(N<<17&4294967295|N>>>15),N=w+(R^k&(j^R))+I[3]+3250441966&4294967295,w=k+(N<<22&4294967295|N>>>10),N=R+(j^w&(k^j))+I[4]+4118548399&4294967295,R=w+(N<<7&4294967295|N>>>25),N=j+(k^R&(w^k))+I[5]+1200080426&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(w^j&(R^w))+I[6]+2821735955&4294967295,k=j+(N<<17&4294967295|N>>>15),N=w+(R^k&(j^R))+I[7]+4249261313&4294967295,w=k+(N<<22&4294967295|N>>>10),N=R+(j^w&(k^j))+I[8]+1770035416&4294967295,R=w+(N<<7&4294967295|N>>>25),N=j+(k^R&(w^k))+I[9]+2336552879&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(w^j&(R^w))+I[10]+4294925233&4294967295,k=j+(N<<17&4294967295|N>>>15),N=w+(R^k&(j^R))+I[11]+2304563134&4294967295,w=k+(N<<22&4294967295|N>>>10),N=R+(j^w&(k^j))+I[12]+1804603682&4294967295,R=w+(N<<7&4294967295|N>>>25),N=j+(k^R&(w^k))+I[13]+4254626195&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(w^j&(R^w))+I[14]+2792965006&4294967295,k=j+(N<<17&4294967295|N>>>15),N=w+(R^k&(j^R))+I[15]+1236535329&4294967295,w=k+(N<<22&4294967295|N>>>10),N=R+(k^j&(w^k))+I[1]+4129170786&4294967295,R=w+(N<<5&4294967295|N>>>27),N=j+(w^k&(R^w))+I[6]+3225465664&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^w&(j^R))+I[11]+643717713&4294967295,k=j+(N<<14&4294967295|N>>>18),N=w+(j^R&(k^j))+I[0]+3921069994&4294967295,w=k+(N<<20&4294967295|N>>>12),N=R+(k^j&(w^k))+I[5]+3593408605&4294967295,R=w+(N<<5&4294967295|N>>>27),N=j+(w^k&(R^w))+I[10]+38016083&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^w&(j^R))+I[15]+3634488961&4294967295,k=j+(N<<14&4294967295|N>>>18),N=w+(j^R&(k^j))+I[4]+3889429448&4294967295,w=k+(N<<20&4294967295|N>>>12),N=R+(k^j&(w^k))+I[9]+568446438&4294967295,R=w+(N<<5&4294967295|N>>>27),N=j+(w^k&(R^w))+I[14]+3275163606&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^w&(j^R))+I[3]+4107603335&4294967295,k=j+(N<<14&4294967295|N>>>18),N=w+(j^R&(k^j))+I[8]+1163531501&4294967295,w=k+(N<<20&4294967295|N>>>12),N=R+(k^j&(w^k))+I[13]+2850285829&4294967295,R=w+(N<<5&4294967295|N>>>27),N=j+(w^k&(R^w))+I[2]+4243563512&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^w&(j^R))+I[7]+1735328473&4294967295,k=j+(N<<14&4294967295|N>>>18),N=w+(j^R&(k^j))+I[12]+2368359562&4294967295,w=k+(N<<20&4294967295|N>>>12),N=R+(w^k^j)+I[5]+4294588738&4294967295,R=w+(N<<4&4294967295|N>>>28),N=j+(R^w^k)+I[8]+2272392833&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^w)+I[11]+1839030562&4294967295,k=j+(N<<16&4294967295|N>>>16),N=w+(k^j^R)+I[14]+4259657740&4294967295,w=k+(N<<23&4294967295|N>>>9),N=R+(w^k^j)+I[1]+2763975236&4294967295,R=w+(N<<4&4294967295|N>>>28),N=j+(R^w^k)+I[4]+1272893353&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^w)+I[7]+4139469664&4294967295,k=j+(N<<16&4294967295|N>>>16),N=w+(k^j^R)+I[10]+3200236656&4294967295,w=k+(N<<23&4294967295|N>>>9),N=R+(w^k^j)+I[13]+681279174&4294967295,R=w+(N<<4&4294967295|N>>>28),N=j+(R^w^k)+I[0]+3936430074&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^w)+I[3]+3572445317&4294967295,k=j+(N<<16&4294967295|N>>>16),N=w+(k^j^R)+I[6]+76029189&4294967295,w=k+(N<<23&4294967295|N>>>9),N=R+(w^k^j)+I[9]+3654602809&4294967295,R=w+(N<<4&4294967295|N>>>28),N=j+(R^w^k)+I[12]+3873151461&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^w)+I[15]+530742520&4294967295,k=j+(N<<16&4294967295|N>>>16),N=w+(k^j^R)+I[2]+3299628645&4294967295,w=k+(N<<23&4294967295|N>>>9),N=R+(k^(w|~j))+I[0]+4096336452&4294967295,R=w+(N<<6&4294967295|N>>>26),N=j+(w^(R|~k))+I[7]+1126891415&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~w))+I[14]+2878612391&4294967295,k=j+(N<<15&4294967295|N>>>17),N=w+(j^(k|~R))+I[5]+4237533241&4294967295,w=k+(N<<21&4294967295|N>>>11),N=R+(k^(w|~j))+I[12]+1700485571&4294967295,R=w+(N<<6&4294967295|N>>>26),N=j+(w^(R|~k))+I[3]+2399980690&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~w))+I[10]+4293915773&4294967295,k=j+(N<<15&4294967295|N>>>17),N=w+(j^(k|~R))+I[1]+2240044497&4294967295,w=k+(N<<21&4294967295|N>>>11),N=R+(k^(w|~j))+I[8]+1873313359&4294967295,R=w+(N<<6&4294967295|N>>>26),N=j+(w^(R|~k))+I[15]+4264355552&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~w))+I[6]+2734768916&4294967295,k=j+(N<<15&4294967295|N>>>17),N=w+(j^(k|~R))+I[13]+1309151649&4294967295,w=k+(N<<21&4294967295|N>>>11),N=R+(k^(w|~j))+I[4]+4149444226&4294967295,R=w+(N<<6&4294967295|N>>>26),N=j+(w^(R|~k))+I[11]+3174756917&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~w))+I[2]+718787259&4294967295,k=j+(N<<15&4294967295|N>>>17),N=w+(j^(k|~R))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var w=R-this.blockSize,I=this.B,k=this.h,j=0;j<R;){if(k==0)for(;j<=w;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<R;)if(I[k++]=D.charCodeAt(j++),k==this.blockSize){o(this,I),k=0;break}}else for(;j<R;)if(I[k++]=D[j++],k==this.blockSize){o(this,I),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var w=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=w&255,w/=256;for(this.u(D),D=Array(16),R=w=0;4>R;++R)for(var I=0;32>I;I+=8)D[w++]=this.g[R]>>>I&255;return D};function u(D,R){var w=m;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=R(D)}function f(D,R){this.h=R;for(var w=[],I=!0,k=D.length-1;0<=k;k--){var j=D[k]|0;I&&j==R||(w[k]=j,I=!1)}this.g=w}var m={};function p(D){return-128<=D&&128>D?u(D,function(R){return new f([R|0],0>R?-1:0)}):new f([D|0],0>D?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return A;if(0>D)return L(y(-D));for(var R=[],w=1,I=0;D>=w;I++)R[I]=D/w|0,w*=4294967296;return new f(R,0)}function T(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return L(T(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),I=A,k=0;k<D.length;k+=8){var j=Math.min(8,D.length-k),N=parseInt(D.substring(k,k+j),R);8>j?(j=y(Math.pow(R,j)),I=I.j(j).add(y(N))):(I=I.j(w),I=I.add(y(N)))}return I}var A=p(0),x=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-L(this).m();for(var D=0,R=1,w=0;w<this.g.length;w++){var I=this.i(w);D+=(0<=I?I:4294967296+I)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(Q(this))return"-"+L(this).toString(D);for(var R=y(Math.pow(D,6)),w=this,I="";;){var k=ae(w,R).g;w=G(w,k.j(R));var j=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=k,U(w))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function Q(D){return D.h==-1}r.l=function(D){return D=G(this,D),Q(D)?-1:U(D)?0:1};function L(D){for(var R=D.g.length,w=[],I=0;I<R;I++)w[I]=~D.g[I];return new f(w,~D.h).add(x)}r.abs=function(){return Q(this)?L(this):this},r.add=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],I=0,k=0;k<=R;k++){var j=I+(this.i(k)&65535)+(D.i(k)&65535),N=(j>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);I=N>>>16,j&=65535,N&=65535,w[k]=N<<16|j}return new f(w,w[w.length-1]&-2147483648?-1:0)};function G(D,R){return D.add(L(R))}r.j=function(D){if(U(this)||U(D))return A;if(Q(this))return Q(D)?L(this).j(L(D)):L(L(this).j(D));if(Q(D))return L(this.j(L(D)));if(0>this.l(O)&&0>D.l(O))return y(this.m()*D.m());for(var R=this.g.length+D.g.length,w=[],I=0;I<2*R;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<D.g.length;k++){var j=this.i(I)>>>16,N=this.i(I)&65535,$e=D.i(k)>>>16,dt=D.i(k)&65535;w[2*I+2*k]+=N*dt,te(w,2*I+2*k),w[2*I+2*k+1]+=j*dt,te(w,2*I+2*k+1),w[2*I+2*k+1]+=N*$e,te(w,2*I+2*k+1),w[2*I+2*k+2]+=j*$e,te(w,2*I+2*k+2)}for(I=0;I<R;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=R;I<2*R;I++)w[I]=0;return new f(w,0)};function te(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function Z(D,R){this.g=D,this.h=R}function ae(D,R){if(U(R))throw Error("division by zero");if(U(D))return new Z(A,A);if(Q(D))return R=ae(L(D),R),new Z(L(R.g),L(R.h));if(Q(R))return R=ae(D,L(R)),new Z(L(R.g),R.h);if(30<D.g.length){if(Q(D)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var w=x,I=R;0>=I.l(D);)w=ce(w),I=ce(I);var k=ne(w,1),j=ne(I,1);for(I=ne(I,2),w=ne(w,2);!U(I);){var N=j.add(I);0>=N.l(D)&&(k=k.add(w),j=N),I=ne(I,1),w=ne(w,1)}return R=G(D,k.j(R)),new Z(k,R)}for(k=A;0<=D.l(R);){for(w=Math.max(1,Math.floor(D.m()/R.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=y(w),N=j.j(R);Q(N)||0<N.l(D);)w-=I,j=y(w),N=j.j(R);U(j)&&(j=x),k=k.add(j),D=G(D,N)}return new Z(k,D)}r.A=function(D){return ae(this,D).h},r.and=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)&D.i(I);return new f(w,this.h&D.h)},r.or=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)|D.i(I);return new f(w,this.h|D.h)},r.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)^D.i(I);return new f(w,this.h^D.h)};function ce(D){for(var R=D.g.length+1,w=[],I=0;I<R;I++)w[I]=D.i(I)<<1|D.i(I-1)>>>31;return new f(w,D.h)}function ne(D,R){var w=R>>5;R%=32;for(var I=D.g.length-w,k=[],j=0;j<I;j++)k[j]=0<R?D.i(j+w)>>>R|D.i(j+w+1)<<32-R:D.i(j+w);return new f(k,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,UE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Zr=f}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jE,Dl,zE,Kc,Sm,BE,HE,qE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in v))break e;v=v[H]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,S=!1,H={next:function(){if(!S&&v<c.length){var K=v++;return{value:g(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,v){return c.call.apply(c.bind,arguments)}function A(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(g,H)}}return function(){return c.apply(g,arguments)}}function x(c,g,v){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,x.apply(null,arguments)}function O(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function U(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,H,K){for(var re=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)re[Ve-2]=arguments[Ve];return g.prototype[H].apply(S,re)}}function Q(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function L(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const H=c.length||0,K=S.length||0;c.length=H+K;for(let re=0;re<K;re++)c[H+re]=S[re]}else c.push(S)}}class G{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var ce=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ne(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function D(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function R(c){const g={};for(const v in c)g[v]=c[v];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let v,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(v in S)c[v]=S[v];for(let K=0;K<w.length;K++)v=w[K],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function k(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function j(c){m.setTimeout(()=>{throw c},0)}function N(){var c=qe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class $e{constructor(){this.h=this.g=null}add(g,v){const S=dt.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var dt=new G(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ge=!1,qe=new $e,M=()=>{const c=m.Promise.resolve(void 0);Ee=()=>{c.then(ie)}};var ie=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){j(v)}var g=dt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ge=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function xe(c,g){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ce){e:{try{ae(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}U(xe,oe);var Ae={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),je=0;function st(c,g,v,S,H){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=H,this.key=++je,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wt(c){this.src=c,this.g={},this.h=0}Wt.prototype.add=function(c,g,v,S,H){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var re=Tn(c,g,S,H);return-1<re?(g=c[re],v||(g.fa=!1)):(g=new st(g,this.src,K,!!S,H),g.fa=v,c.push(g)),g};function Ei(c,g){var v=g.type;if(v in c.g){var S=c.g[v],H=Array.prototype.indexOf.call(S,g,void 0),K;(K=0<=H)&&Array.prototype.splice.call(S,H,1),K&&(Ke(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Tn(c,g,v,S){for(var H=0;H<c.length;++H){var K=c[H];if(!K.da&&K.listener==g&&K.capture==!!v&&K.ha==S)return H}return-1}var sr="closure_lm_"+(1e6*Math.random()|0),ar={};function Ti(c,g,v,S,H){if(Array.isArray(g)){for(var K=0;K<g.length;K++)Ti(c,g[K],v,S,H);return null}return v=fu(v),c&&c[mt]?c.K(g,v,y(S)?!!S.capture:!1,H):_o(c,g,v,!1,S,H)}function _o(c,g,v,S,H,K){if(!g)throw Error("Invalid event type");var re=y(H)?!!H.capture:!!H,Ve=Eo(c);if(Ve||(c[sr]=Ve=new Wt(c)),v=Ve.add(g,v,S,re,K),v.proxy)return v;if(S=na(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)le||(H=re),H===void 0&&(H=!1),c.addEventListener(g.toString(),S,H);else if(c.attachEvent)c.attachEvent(ra(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function na(){function c(v){return g.call(c.src,c.listener,v)}const g=Yh;return c}function ia(c,g,v,S,H){if(Array.isArray(g))for(var K=0;K<g.length;K++)ia(c,g[K],v,S,H);else S=y(S)?!!S.capture:!!S,v=fu(v),c&&c[mt]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],v=Tn(K,v,S,H),-1<v&&(Ke(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=Eo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Tn(g,v,S,H)),(v=-1<c?g[c]:null)&&fs(v))}function fs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[mt])Ei(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(ra(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=Eo(g))?(Ei(v,c),v.h==0&&(v.src=null,g[sr]=null)):Ke(c)}}}function ra(c){return c in ar?ar[c]:ar[c]="on"+c}function Yh(c,g){if(c.da)c=!0;else{g=new xe(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&fs(c),c=v.call(S,g)}return c}function Eo(c){return c=c[sr],c instanceof Wt?c:null}var an="__closure_events_fn_"+(1e9*Math.random()>>>0);function fu(c){return typeof c=="function"?c:(c[an]||(c[an]=function(g){return c.handleEvent(g)}),c[an])}function _t(){de.call(this),this.i=new Wt(this),this.M=this,this.F=null}U(_t,de),_t.prototype[mt]=!0,_t.prototype.removeEventListener=function(c,g,v,S){ia(this,c,g,v,S)};function Ct(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new oe(g,c);else if(g instanceof oe)g.target=g.target||c;else{var H=g;g=new oe(S,c),I(g,H)}if(H=!0,v)for(var K=v.length-1;0<=K;K--){var re=g.g=v[K];H=bi(re,S,!0,g)&&H}if(re=g.g=c,H=bi(re,S,!0,g)&&H,H=bi(re,S,!1,g)&&H,v)for(K=0;K<v.length;K++)re=g.g=v[K],H=bi(re,S,!1,g)&&H}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)Ke(v[S]);delete c.g[g],c.h--}}this.F=null},_t.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},_t.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function bi(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,K=0;K<g.length;++K){var re=g[K];if(re&&!re.da&&re.capture==v){var Ve=re.listener,Tt=re.ha||re.src;re.fa&&Ei(c.i,re),H=Ve.call(Tt,S)!==!1&&H}}return H&&!S.defaultPrevented}function du(c,g,v){if(typeof c=="function")v&&(c=x(c,v));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function To(c){c.g=du(()=>{c.g=null,c.i&&(c.i=!1,To(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class $h extends de{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:To(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){de.call(this),this.h=c,this.g={}}U(ds,de);var or=[];function Ft(c){ne(c.g,function(g,v){this.g.hasOwnProperty(v)&&fs(g)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),Ft(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bo=m.JSON.stringify,Yn=m.JSON.parse,Zt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function wo(){}wo.prototype.h=null;function mu(c){return c.h||(c.h=c.i())}function pu(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){oe.call(this,"d")}U(lr,oe);function jn(){oe.call(this,"c")}U(jn,oe);var bn={},ur=null;function sa(){return ur=ur||new _t}bn.La="serverreachability";function So(c){oe.call(this,bn.La,c)}U(So,oe);function cr(c){const g=sa();Ct(g,new So(g))}bn.STAT_EVENT="statevent";function aa(c,g){oe.call(this,bn.STAT_EVENT,c),this.stat=g}U(aa,oe);function ct(c){const g=sa();Ct(g,new aa(g,c))}bn.Ma="timingevent";function gu(c,g){oe.call(this,bn.Ma,c),this.size=g}U(gu,oe);function hr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function fr(){this.g=!0}fr.prototype.xa=function(){this.g=!1};function yu(c,g,v,S,H,K){c.info(function(){if(c.g)if(K)for(var re="",Ve=K.split("&"),Tt=0;Tt<Ve.length;Tt++){var Pe=Ve[Tt].split("=");if(1<Pe.length){var Dt=Pe[0];Pe=Pe[1];var bt=Dt.split("_");re=2<=bt.length&&bt[1]=="type"?re+(Dt+"="+Pe+"&"):re+(Dt+"=redacted&")}}else re=null;else re=K;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+g+`
`+v+`
`+re})}function vu(c,g,v,S,H,K,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+g+`
`+v+`
`+K+" "+re})}function dr(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+It(c,v)+(S?" "+S:"")})}function Xn(c,g){c.info(function(){return"TIMEOUT: "+g})}fr.prototype.info=function(){};function It(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var K=H[0];if(K!="noop"&&K!="stop"&&K!="close")for(var re=1;re<H.length;re++)H[re]=""}}}}return bo(v)}catch{return g}}var Et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ms;function oa(){}U(oa,wo),oa.prototype.g=function(){return new XMLHttpRequest},oa.prototype.i=function(){return{}},ms=new oa;function Wn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ao}function Ao(){this.i=null,this.g="",this.h=!1}var mr={},ps={};function zn(c,g,v){c.L=1,c.v=vs(at(g)),c.m=v,c.P=!0,Si(c,null)}function Si(c,g){c.F=Date.now(),et(c),c.A=at(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),xi(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Ao,c.g=Ou(c.j,v?g:null,!c.m),0<c.O&&(c.M=new $h(x(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(or[0]=H.toString()),H=or);for(var K=0;K<H.length;K++){var re=Ti(v,H[K],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),cr(),yu(c.i,c.u,c.A,c.l,c.R,c.m)}Wn.prototype.ca=function(c){c=c.target;const g=this.M;g&&xn(c)==3?g.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const bt=xn(this.g);var g=this.g.Ba();const Di=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||bt!=4||g==7||(g==8||0>=Di?cr(3):cr(2)),la(this);var v=this.g.Z();this.X=v;t:if(pr(this)){var S=Su(this.g);c="";var H=S.length,K=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),hn(this);var re="";break t}this.h.i=new m.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(K&&g==H-1)});S.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,vu(this.i,this.u,this.A,this.l,this.R,bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Tt=this.g;if((Ve=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ve)){var Pe=Ve;break t}}Pe=null}if(v=Pe)dr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fn(this,v);else{this.o=!1,this.s=3,ct(12),on(this),hn(this);break e}}if(this.P){v=!0;let Pt;for(;!this.J&&this.C<re.length;)if(Pt=gr(this,re),Pt==ps){bt==4&&(this.s=4,ct(14),v=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==mr){this.s=4,ct(15),dr(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else dr(this.i,this.l,Pt,null),fn(this,Pt);if(pr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||re.length!=0||this.h.h||(this.s=1,ct(16),v=!1),this.o=this.o&&v,!v)dr(this.i,this.l,re,"[Invalid Chunked Response]"),on(this),hn(this);else if(0<re.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),As(Dt),Dt.M=!0,ct(11))}}else dr(this.i,this.l,re,null),fn(this,re);bt==4&&on(this),this.o&&!this.J&&(bt==4?Iu(this.j,this):(this.o=!1,et(this)))}else tf(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),on(this),hn(this)}}}catch{}finally{}};function pr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function gr(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?ps:(v=Number(g.substring(v,S)),isNaN(v)?mr:(S+=1,S+v>g.length?ps:(g=g.slice(S,S+v),c.C=S+v,g)))}Wn.prototype.cancel=function(){this.J=!0,on(this)};function et(c){c.S=Date.now()+c.I,Ro(c,c.I)}function Ro(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=hr(x(c.ba,c),g)}function la(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Wn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Xn(this.i,this.A),this.L!=2&&(cr(),ct(17)),on(this),this.s=2,hn(this)):Ro(this,this.S-c)};function hn(c){c.j.G==0||c.J||Iu(c.j,c)}function on(c){la(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ft(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function fn(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||yr(v.h,c))){if(!c.K&&yr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)va(v),ga(v);else break e;Lo(v),ct(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=hr(x(v.Za,v),6e3));if(1>=_u(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ni(v,11)}else if((c.K||v.g==c)&&va(v),!te(g))for(H=v.Da.g.parse(g),g=0;g<H.length;g++){let Pe=H[g];if(v.T=Pe[0],Pe=Pe[1],v.G==2)if(Pe[0]=="c"){v.K=Pe[1],v.ia=Pe[2];const Dt=Pe[3];Dt!=null&&(v.la=Dt,v.j.info("VER="+v.la));const bt=Pe[4];bt!=null&&(v.Aa=bt,v.j.info("SVER="+v.Aa));const Di=Pe[5];Di!=null&&typeof Di=="number"&&0<Di&&(S=1.5*Di,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Pt=c.g;if(Pt){const ri=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var K=S.h;K.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(vr(K,K.h),K.h=null))}if(S.D){const jo=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(S.ya=jo,ze(S.I,S.D,jo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var re=c;if(S.qa=Du(S,S.J?S.ia:null,S.W),re.K){wn(S.h,re);var Ve=re,Tt=S.L;Tt&&(Ve.I=Tt),Ve.B&&(la(Ve),et(Ve)),S.g=re}else xu(S);0<v.i.length&&ya(v)}else Pe[0]!="stop"&&Pe[0]!="close"||Ni(v,7);else v.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ni(v,7):Vo(v):Pe[0]!="noop"&&v.l&&v.l.ta(Pe),v.v=0)}}cr(4)}catch{}}var Xh=class{constructor(c,g){this.g=c,this.map=g}};function xo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Co(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _u(c){return c.h?1:c.g?c.g.size:0}function yr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function vr(c,g){c.g?c.g.add(g):c.h=g}function wn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}xo.prototype.cancel=function(){if(this.i=Jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return Q(c.i)}function Eu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function Wh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function gs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=Wh(c),S=Eu(c),H=S.length,K=0;K<H;K++)g.call(void 0,S[K],v&&v[K],c)}var Io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),H=null;if(0<=S){var K=c[v].substring(0,S);H=c[v].substring(S+1)}else K=c[v];g(K,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ai(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ai){this.h=c.h,_r(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.s),this.l=c.l;var g=c.i,v=new Zn;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),ca(this,v),this.m=c.m}else c&&(g=String(c).match(Io))?(this.h=!1,_r(this,g[1]||"",!0),this.o=Er(g[2]||""),this.g=Er(g[3]||"",!0),ys(this,g[4]),this.l=Er(g[5]||"",!0),ca(this,g[6]||"",!0),this.m=Er(g[7]||"")):(this.h=!1,this.i=new Zn(null,this.h))}Ai.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Sn(g,No,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Sn(g,No,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Sn(v,v.charAt(0)=="/"?Do:Tu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Sn(v,ef)),c.join("")};function at(c){return new Ai(c)}function _r(c,g,v){c.j=v?Er(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ca(c,g,v){g instanceof Zn?(c.i=g,Oo(c.i,c.h)):(v||(g=Sn(g,Jh)),c.i=new Zn(g,c.h))}function ze(c,g,v){c.i.set(g,v)}function vs(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Er(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sn(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,Zh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Zh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var No=/[#\/\?@]/g,Tu=/[#\?:]/g,Do=/[#\?]/g,Jh=/[#\?@]/g,ef=/#/g;function Zn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Zn.prototype,r.add=function(c,g){An(this),this.i=null,c=Ci(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function ha(c,g){An(c),g=Ci(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ri(c,g){return An(c),g=Ci(c,g),c.g.has(g)}r.forEach=function(c,g){An(this),this.g.forEach(function(v,S){v.forEach(function(H){c.call(g,H,S,this)},this)},this)},r.na=function(){An(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const H=c[S];for(let K=0;K<H.length;K++)v.push(g[S])}return v},r.V=function(c){An(this);let g=[];if(typeof c=="string")Ri(this,c)&&(g=g.concat(this.g.get(Ci(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return An(this),this.i=null,c=Ci(this,c),Ri(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function xi(c,g,v){ha(c,g),0<v.length&&(c.i=null,c.g.set(Ci(c,g),Q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const K=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var H=K;re[S]!==""&&(H+="="+encodeURIComponent(String(re[S]))),c.push(H)}}return this.i=c.join("&")};function Ci(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Oo(c,g){g&&!c.j&&(An(c),c.i=null,c.g.forEach(function(v,S){var H=S.toLowerCase();S!=H&&(ha(this,S),xi(this,H,v))},c)),c.j=g}function bu(c,g){const v=new fr;if(m.Image){const S=new Image;S.onload=O(Rn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=O(Rn,v,"TestLoadImage: error",!1,g,S),S.onabort=O(Rn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=O(Rn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function _s(c,g){const v=new fr,S=new AbortController,H=setTimeout(()=>{S.abort(),Rn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(H),K.ok?Rn(v,"TestPingServer: ok",!0,g):Rn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Rn(v,"TestPingServer: error",!1,g)})}function Rn(c,g,v,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(v)}catch{}}function Es(){this.g=new Zt}function Jn(c,g,v){const S=v||"";try{gs(c,function(H,K){let re=H;y(H)&&(re=bo(H)),g.push(S+K+"="+encodeURIComponent(re))})}catch(H){throw g.push(S+"type="+encodeURIComponent("_badmap")),H}}function Tr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Tr,wo),Tr.prototype.g=function(){return new Ii(this.l,this.j)},Tr.prototype.i=function(c){return function(){return c}}({});function Ii(c,g){_t.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ii,_t),r=Ii.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ti(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ei(this):ti(this),this.readyState==3&&ko(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ei(this))},r.Qa=function(c){this.g&&(this.response=c,ei(this))},r.ga=function(){this.g&&ei(this)};function ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ti(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Mo(c){let g="";return ne(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Nt(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Mo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):ze(c,g,v))}function Fe(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Fe,_t);var fa=/^https?$/i,Ts=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ms.g(),this.v=this.o?mu(this.o):mu(ms),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){wu(this,K);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)v.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ts,g,void 0))||S||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of v)this.g.setRequestHeader(K,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){wu(this,K)}};function wu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,da(c),ni(c)}function da(c){c.A||(c.A=!0,Ct(c,"complete"),Ct(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ct(this,"complete"),Ct(this,"abort"),ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ni(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},r.bb=function(){ma(this)};function ma(c){if(c.h&&typeof f<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)du(c.Ea,0,c);else if(Ct(c,"readystatechange"),xn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=re===0){var H=String(c.D).match(Io)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),S=!fa.test(H?H.toLowerCase():"")}v=S}if(v)Ct(c,"complete"),Ct(c,"success");else{c.m=6;try{var K=2<xn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",da(c)}}finally{ni(c)}}}}function ni(c,g){if(c.g){bs(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ct(c,"ready");try{v.onreadystatechange=S}catch{}}}function bs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Yn(g)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tf(c){const g={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(te(c[S]))continue;var v=k(c[S]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=g[H]||[];g[H]=K,K.push(v)}D(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function pa(c){this.Aa=0,this.i=[],this.j=new fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xo(c&&c.concurrentRequestLimit),this.Da=new Es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=pa.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,S){ct(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Du(this,null,this.W),ya(this)};function Vo(c){if(Au(c),c.G==3){var g=c.U++,v=at(c.I);if(ze(v,"SID",c.K),ze(v,"RID",g),ze(v,"TYPE","terminate"),Ss(c,v),g=new Wn(c,c.j,g),g.L=2,g.v=vs(at(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Ou(g.j,null),g.g.ea(g.v)),g.F=Date.now(),et(g)}Nu(c)}function ga(c){c.g&&(As(c),c.g.cancel(),c.g=null)}function Au(c){ga(c),c.u&&(m.clearTimeout(c.u),c.u=null),va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ya(c){if(!Co(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ee||M(),ge||(Ee(),ge=!0),qe.add(g,c),c.B=0}}function nf(c,g){return _u(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=hr(x(c.Ga,c,g),Uo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new Wn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),I(K,this.S)):K=this.S),this.m!==null||this.O||(H.H=K,K=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Ru(this,H,g),v=at(this.I),ze(v,"RID",c),ze(v,"CVER",22),this.D&&ze(v,"X-HTTP-Session-Id",this.D),Ss(this,v),K&&(this.O?g="headers="+encodeURIComponent(String(Mo(K)))+"&"+g:this.m&&Nt(v,this.m,K)),vr(this.h,H),this.Ua&&ze(v,"TYPE","init"),this.P?(ze(v,"$req",g),ze(v,"SID","null"),H.T=!0,zn(H,v,null)):zn(H,v,g),this.G=2}}else this.G==3&&(c?Po(this,c):this.i.length==0||Co(this.h)||Po(this))};function Po(c,g){var v;g?v=g.l:v=c.U++;const S=at(c.I);ze(S,"SID",c.K),ze(S,"RID",v),ze(S,"AID",c.T),Ss(c,S),c.m&&c.o&&Nt(S,c.m,c.o),v=new Wn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ru(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vr(c.h,v),zn(v,S,g)}function Ss(c,g){c.H&&ne(c.H,function(v,S){ze(g,S,v)}),c.l&&gs({},function(v,S){ze(g,S,v)})}function Ru(c,g,v){v=Math.min(c.i.length,v);var S=c.l?x(c.l.Na,c.l,c):null;e:{var H=c.i;let K=-1;for(;;){const re=["count="+v];K==-1?0<v?(K=H[0].g,re.push("ofs="+K)):K=0:re.push("ofs="+K);let Ve=!0;for(let Tt=0;Tt<v;Tt++){let Pe=H[Tt].g;const Dt=H[Tt].map;if(Pe-=K,0>Pe)K=Math.max(0,H[Tt].g-100),Ve=!1;else try{Jn(Dt,re,"req"+Pe+"_")}catch{S&&S(Dt)}}if(Ve){S=re.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,S}function xu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ee||M(),ge||(Ee(),ge=!0),qe.add(g,c),c.v=0}}function Lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=hr(x(c.Fa,c),Uo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=hr(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),ga(this),Cu(this))};function As(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Cu(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=at(c.qa);ze(g,"RID","rpc"),ze(g,"SID",c.K),ze(g,"AID",c.T),ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(g,"TO",c.ja),ze(g,"TYPE","xmlhttp"),Ss(c,g),c.m&&c.o&&Nt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=vs(at(g)),v.m=null,v.P=!0,Si(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ga(this),Lo(this),ct(19))};function va(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Iu(c,g){var v=null;if(c.g==g){va(c),As(c),c.g=null;var S=2}else if(yr(c.h,g))v=g.D,wn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var H=c.B;S=sa(),Ct(S,new gu(S,v)),ya(c)}else xu(c);else if(H=g.s,H==3||H==0&&0<g.X||!(S==1&&nf(c,g)||S==2&&Lo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),H){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Uo(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Ni(c,g){if(c.j.info("Error code "+g),g==2){var v=x(c.fb,c),S=c.Xa;const H=!S;S=new Ai(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_r(S,"https"),vs(S),H?bu(S.toString(),v):_s(S.toString(),v)}else ct(2);c.G=0,c.l&&c.l.sa(g),Nu(c),Au(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Nu(c){if(c.G=0,c.ka=[],c.l){const g=Jt(c.h);(g.length!=0||c.i.length!=0)&&(L(c.ka,g),L(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Du(c,g,v){var S=v instanceof Ai?at(v):new Ai(v);if(S.g!="")g&&(S.g=g+"."+S.g),ys(S,S.s);else{var H=m.location;S=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var K=new Ai(null);S&&_r(K,S),g&&(K.g=g),H&&ys(K,H),v&&(K.l=v),S=K}return v=c.D,g=c.ya,v&&g&&ze(S,v,g),ze(S,"VER",c.la),Ss(c,S),S}function Ou(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Fe(new Tr({eb:v})):new Fe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function _a(){}_a.prototype.g=function(c,g){return new en(c,g)};function en(c,g){_t.call(this),this.g=new pa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!te(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!te(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ii(this)}U(en,_t),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Vo(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=bo(c),c=v);g.i.push(new Xh(g.Ya++,c)),g.G==3&&ya(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,en.aa.N.call(this)};function Mu(c){lr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}U(Mu,lr);function Vu(){jn.call(this),this.status=1}U(Vu,jn);function ii(c){this.g=c}U(ii,ku),ii.prototype.ua=function(){Ct(this.g,"a")},ii.prototype.ta=function(c){Ct(this.g,new Mu(c))},ii.prototype.sa=function(c){Ct(this.g,new Vu)},ii.prototype.ra=function(){Ct(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,qE=function(){return new _a},HE=function(){return sa()},BE=bn,Sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,Kc=Et,wi.COMPLETE="complete",zE=wi,pu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Dl=pu,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,jE=Fe}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const V_="@firebase/firestore",P_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Km("@firebase/firestore");function Ka(){return Xs.logLevel}function ue(r,...e){if(Xs.logLevel<=De.DEBUG){const n=e.map(rp);Xs.debug(`Firestore (${po}): ${r}`,...n)}}function tr(r,...e){if(Xs.logLevel<=De.ERROR){const n=e.map(rp);Xs.error(`Firestore (${po}): ${r}`,...n)}}function io(r,...e){if(Xs.logLevel<=De.WARN){const n=e.map(rp);Xs.warn(`Firestore (${po}): ${r}`,...n)}}function rp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+r;throw tr(e),new Error(e)}function Ge(r,e){r||Te()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class EC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TC{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new FE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Yt(e)}}class bC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new bC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Un(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new L_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new L_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=AC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function ro(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=-62135596800,j_=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*j_);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<U_)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Rt(0,0))}static max(){return new be(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="__name__";class ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ci.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=ci.isNumericId(e),o=ci.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ci.extractNumericId(e).compare(ci.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zr.fromString(e.substring(4,e.length-2))}}class Je extends ci{construct(e,n,s){return new Je(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const RC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ci{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return RC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z_}static keyField(){return new Bt([z_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function xC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new ns(o,ye.empty(),e)}function CC(r){return new ns(r.readTime,r.key,Fl)}class ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ns(be.min(),ye.empty(),Fl)}static max(){return new ns(be.max(),ye.empty(),Fl)}}function IC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==NC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function OC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=-1;function xh(r){return r==null}function oh(r){return r===0&&1/r==-1/0}function kC(r){return typeof r=="number"&&Number.isInteger(r)&&!oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="";function MC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=B_(e)),e=VC(r.get(n),e);return B_(e)}function VC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case KE:n+="";break;default:n+=u}}return n}function B_(r){return r+KE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function QE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??zt.RED,this.left=o??zt.EMPTY,this.right=u??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new xt(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new YE("Invalid base64 string: "+u):u}}(e);return new qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const PC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(r){if(Ge(!!r),typeof r=="string"){let e=0;const n=PC.exec(r);if(Ge(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ft(r.seconds),nanos:ft(r.nanos)}}function ft(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rs(r){return typeof r=="string"?qt.fromBase64String(r):qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="server_timestamp",XE="__type__",WE="__previous_value__",ZE="__local_write_time__";function ap(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[XE])===null||n===void 0?void 0:n.stringValue)===$E}function Ch(r){const e=r.mapValue.fields[WE];return ap(e)?Ch(e):e}function Gl(r){const e=is(r.mapValue.fields[ZE].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const lh="(default)";class Kl{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="__type__",UC="__max__",Lc={mapValue:{}},eT="__vector__",uh="value";function ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ap(r)?4:zC(r)?9007199254740991:jC(r)?10:11:Te()}function gi(r,e){if(r===e)return!0;const n=ss(r);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gl(r).isEqual(Gl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=is(o.timestampValue),m=is(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return rs(o.bytesValue).isEqual(rs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return ft(o.geoPointValue.latitude)===ft(u.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ft(o.integerValue)===ft(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ft(o.doubleValue),m=ft(u.doubleValue);return f===m?oh(f)===oh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return ro(r.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(H_(f)!==H_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!gi(f[p],m[p])))return!1;return!0}(r,e);default:return Te()}}function Ql(r,e){return(r.values||[]).find(n=>gi(n,e))!==void 0}function so(r,e){if(r===e)return 0;const n=ss(r),s=ss(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ft(u.integerValue||u.doubleValue),p=ft(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return F_(r.timestampValue,e.timestampValue);case 4:return F_(Gl(r),Gl(e));case 5:return Me(r.stringValue,e.stringValue);case 6:return function(u,f){const m=rs(u),p=rs(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Me(m[y],p[y]);if(T!==0)return T}return Me(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Me(ft(u.latitude),ft(f.latitude));return m!==0?m:Me(ft(u.longitude),ft(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return G_(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,T;const A=u.fields||{},x=f.fields||{},O=(m=A[uh])===null||m===void 0?void 0:m.arrayValue,U=(p=x[uh])===null||p===void 0?void 0:p.arrayValue,Q=Me(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((T=U==null?void 0:U.values)===null||T===void 0?void 0:T.length)||0);return Q!==0?Q:G_(O,U)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Lc.mapValue&&f===Lc.mapValue)return 0;if(u===Lc.mapValue)return 1;if(f===Lc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const x=Me(p[A],T[A]);if(x!==0)return x;const O=so(m[p[A]],y[T[A]]);if(O!==0)return O}return Me(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Te()}}function F_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=is(r),s=is(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function G_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=so(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function ao(r){return Am(r)}function Am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=is(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return rs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Am(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Am(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function Qc(r){switch(ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(r);return e?16+Qc(e):16;case 5:return 2*r.stringValue.length;case 6:return rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Qc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return cs(s.fields,(u,f)=>{o+=u.length+Qc(f)}),o}(r.mapValue);default:throw Te()}}function Rm(r){return!!r&&"integerValue"in r}function op(r){return!!r&&"arrayValue"in r}function K_(r){return!!r&&"nullValue"in r}function Q_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yc(r){return!!r&&"mapValue"in r}function jC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[JE])===null||n===void 0?void 0:n.stringValue)===eT}function Pl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return cs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Pl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function zC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===UC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=Bt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Pl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){cs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(Pl(this.value))}}function tT(r){const e=[];return cs(r.fields,(n,s)=>{const o=new Bt([n]);if(Yc(s)){const u=tT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new $t(e,0,be.min(),be.min(),be.min(),cn.empty(),0)}static newFoundDocument(e,n,s,o){return new $t(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new $t(e,2,n,be.min(),be.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,be.min(),be.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.position=e,this.inclusive=n}}function Y_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=so(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!gi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function BC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{}class At extends nT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new qC(e,n,s):n==="array-contains"?new KC(e,s):n==="in"?new QC(e,s):n==="not-in"?new YC(e,s):n==="array-contains-any"?new $C(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new FC(e,s):new GC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(so(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends nT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new yi(e,n)}matches(e){return iT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function iT(r){return r.op==="and"}function rT(r){return HC(r)&&iT(r)}function HC(r){for(const e of r.filters)if(e instanceof yi)return!1;return!0}function xm(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(rT(r))return r.filters.map(e=>xm(e)).join(",");{const e=r.filters.map(n=>xm(n)).join(",");return`${r.op}(${e})`}}function sT(r,e){return r instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&gi(s.value,o.value)}(r,e):r instanceof yi?function(s,o){return o instanceof yi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&sT(f,o.filters[m]),!0):!1}(r,e):void Te()}function aT(r){return r instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`}(r):r instanceof yi?function(n){return n.op.toString()+" {"+n.getFilters().map(aT).join(" ,")+"}"}(r):"Filter"}class qC extends At{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class FC extends At{constructor(e,n){super(e,"in",n),this.keys=oT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GC extends At{constructor(e,n){super(e,"not-in",n),this.keys=oT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class KC extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return op(n)&&Ql(n.arrayValue,this.value)}}class QC extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class YC extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ql(this.value.arrayValue,n)}}class $C extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function X_(r,e=null,n=[],s=[],o=null,u=null,f=null){return new XC(r,e,n,s,o,u,f)}function lp(r){const e=Se(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>xm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ao(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ao(s)).join(",")),e.le=n}return e.le}function up(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!BC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!sT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$_(r.startAt,e.startAt)&&$_(r.endAt,e.endAt)}function Cm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function WC(r,e,n,s,o,u,f,m){return new Ih(r,e,n,s,o,u,f,m)}function Nh(r){return new Ih(r)}function W_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ZC(r){return r.collectionGroup!==null}function Ll(r){const e=Se(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Bt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new hh(u,s))}),n.has(Bt.keyField().canonicalString())||e.he.push(new hh(Bt.keyField(),s))}return e.he}function di(r){const e=Se(r);return e.Pe||(e.Pe=JC(e,Ll(r))),e.Pe}function JC(r,e){if(r.limitType==="F")return X_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new hh(o.field,u)});const n=r.endAt?new ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ch(r.startAt.position,r.startAt.inclusive):null;return X_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Im(r,e,n){return new Ih(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Dh(r,e){return up(di(r),di(e))&&r.limitType===e.limitType}function lT(r){return`${lp(di(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>aT(o)).join(", ")}]`),xh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ao(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ao(o)).join(",")),`Target(${s})`}(di(r))}; limitType=${r.limitType})`}function Oh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ll(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=Y_(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Ll(s),o)||s.endAt&&!function(f,m,p){const y=Y_(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Ll(s),o))}(r,e)}function eI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function uT(r){return(e,n)=>{let s=!1;for(const o of Ll(r)){const u=tI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function tI(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?so(p,y):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return QE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new rt(ye.comparator);function nr(){return nI}const cT=new rt(ye.comparator);function Ol(...r){let e=cT;for(const n of r)e=e.insert(n.key,n);return e}function hT(r){let e=cT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Gs(){return Ul()}function fT(){return Ul()}function Ul(){return new ea(r=>r.toString(),(r,e)=>r.isEqual(e))}const iI=new rt(ye.comparator),rI=new xt(ye.comparator);function Oe(...r){let e=rI;for(const n of r)e=e.add(n);return e}const sI=new xt(Me);function aI(){return sI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function dT(r){return{integerValue:""+r}}function oI(r,e){return kC(e)?dT(e):cp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function lI(r,e,n){return r instanceof Yl?function(o,u){const f={fields:{[XE]:{stringValue:$E},[ZE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ap(u)&&(u=Ch(u)),u&&(f.fields[WE]=u),{mapValue:f}}(n,e):r instanceof $l?pT(r,e):r instanceof Xl?gT(r,e):function(o,u){const f=mT(o,u),m=Z_(f)+Z_(o.Ie);return Rm(f)&&Rm(o.Ie)?dT(m):cp(o.serializer,m)}(r,e)}function uI(r,e,n){return r instanceof $l?pT(r,e):r instanceof Xl?gT(r,e):n}function mT(r,e){return r instanceof fh?function(s){return Rm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Yl extends kh{}class $l extends kh{constructor(e){super(),this.elements=e}}function pT(r,e){const n=yT(e);for(const s of r.elements)n.some(o=>gi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Xl extends kh{constructor(e){super(),this.elements=e}}function gT(r,e){let n=yT(e);for(const s of r.elements)n=n.filter(o=>!gi(o,s));return{arrayValue:{values:n}}}class fh extends kh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Z_(r){return ft(r.integerValue||r.doubleValue)}function yT(r){return op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.field=e,this.transform=n}}function hI(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof $l&&o instanceof $l||s instanceof Xl&&o instanceof Xl?ro(s.elements,o.elements,gi):s instanceof fh&&o instanceof fh?gi(s.Ie,o.Ie):s instanceof Yl&&o instanceof Yl}(r.transform,e.transform)}class fI{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mh{}function vT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ET(r.key,Kn.none()):new au(r.key,r.data,Kn.none());{const n=r.data,s=cn.empty();let o=new xt(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new hs(r.key,s,new _n(o.toArray()),Kn.none())}}function dI(r,e,n){r instanceof au?function(o,u,f){const m=o.value.clone(),p=e0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof hs?function(o,u,f){if(!$c(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=e0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(_T(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function jl(r,e,n,s){return r instanceof au?function(u,f,m,p){if(!$c(u.precondition,f))return m;const y=u.value.clone(),T=t0(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof hs?function(u,f,m,p){if(!$c(u.precondition,f))return m;const y=t0(u.fieldTransforms,p,f),T=f.data;return T.setAll(_T(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,m){return $c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function mI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=mT(s.transform,o||null);u!=null&&(n===null&&(n=cn.empty()),n.set(s.field,u))}return n||null}function J_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ro(s,o,(u,f)=>hI(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends Mh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends Mh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _T(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function e0(r,e,n){const s=new Map;Ge(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,uI(f,m,n[o]))}return s}function t0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,lI(u,f,e))}return s}class ET extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pI extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=fT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=vT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(n,s)=>J_(n,s))&&ro(this.baseMutations,e.baseMutations,(n,s)=>J_(n,s))}}class hp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length);let o=function(){return iI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new hp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function _I(r){switch(r){case ee.OK:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te()}}function TT(r){if(r===void 0)return tr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case vt.OK:return ee.OK;case vt.CANCELLED:return ee.CANCELLED;case vt.UNKNOWN:return ee.UNKNOWN;case vt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case vt.INTERNAL:return ee.INTERNAL;case vt.UNAVAILABLE:return ee.UNAVAILABLE;case vt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case vt.NOT_FOUND:return ee.NOT_FOUND;case vt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case vt.ABORTED:return ee.ABORTED;case vt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case vt.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Zr([4294967295,4294967295],0);function n0(r){const e=EI().encode(r),n=new UE;return n.update(e),new Uint8Array(n.digest())}function i0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zr([n,s],0),new Zr([o,u],0)]}class fp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Zr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Zr.fromNumber(s)));return o.compare(TI)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=n0(e),[s,o]=i0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new fp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=n0(e),[s,o]=i0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Vh(be.min(),o,new rt(Me),nr(),Oe())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class bT{constructor(e,n){this.targetId=e,this.ge=n}}class wT{constructor(e,n,s=qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class r0{constructor(){this.pe=0,this.ye=s0(),this.we=qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Oe(),n=Oe(),s=Oe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new ou(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=s0()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class bI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=nr(),this.$e=Uc(),this.Ke=Uc(),this.Ue=new rt(Me)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Cm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,$t.newNoDocument(f,be.min()))}else Ge(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=rs(s).toUint8Array()}catch(p){if(p instanceof YE)return io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new fp(f,o,u)}catch(p){return io(p instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Cm(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,$t.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Oe();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Vh(e,n,this.Ue,this.Qe,s);return this.Qe=nr(),this.$e=Uc(),this.Ke=Uc(),this.Ue=new rt(Me),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new r0,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new xt(Me),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new xt(Me),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new r0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Uc(){return new rt(ye.comparator)}function s0(){return new rt(ye.comparator)}const wI={asc:"ASCENDING",desc:"DESCENDING"},SI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AI={and:"AND",or:"OR"};class RI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nm(r,e){return r.useProto3Json||xh(e)?e:{value:e}}function dh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ST(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function xI(r,e){return dh(r,e.toTimestamp())}function mi(r){return Ge(!!r),be.fromTimestamp(function(n){const s=is(n);return new Rt(s.seconds,s.nanos)}(r))}function dp(r,e){return Dm(r,e).canonicalString()}function Dm(r,e){const n=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function AT(r){const e=Je.fromString(r);return Ge(NT(e)),e}function Om(r,e){return dp(r.databaseId,e.path)}function lm(r,e){const n=AT(e);if(n.get(1)!==r.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(xT(n))}function RT(r,e){return dp(r.databaseId,e)}function CI(r){const e=AT(r);return e.length===4?Je.emptyPath():xT(e)}function km(r){return new Je(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xT(r){return Ge(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function a0(r,e,n){return{name:Om(r,e),fields:n.value.mapValue.fields}}function II(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Ge(T===void 0||typeof T=="string"),qt.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array),qt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const T=y.code===void 0?ee.UNKNOWN:TT(y.code);return new me(T,y.message||"")}(f);n=new wT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=lm(r,s.document.name),u=mi(s.document.updateTime),f=s.document.createTime?mi(s.document.createTime):be.min(),m=new cn({mapValue:{fields:s.document.fields}}),p=$t.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Xc(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=lm(r,s.document),u=s.readTime?mi(s.readTime):be.min(),f=$t.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Xc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=lm(r,s.document),u=s.removedTargetIds||[];n=new Xc([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new vI(o,u),m=s.targetId;n=new bT(m,f)}}return n}function NI(r,e){let n;if(e instanceof au)n={update:a0(r,e.key,e.value)};else if(e instanceof ET)n={delete:Om(r,e.key)};else if(e instanceof hs)n={update:a0(r,e.key,e.data),updateMask:jI(e.fieldMask)};else{if(!(e instanceof pI))return Te();n={verify:Om(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof fh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:xI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function DI(r,e){return r&&r.length>0?(Ge(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(be.min())&&(f=mi(u)),new fI(f,o.transformResults||[])}(n,e))):[]}function OI(r,e){return{documents:[RT(r,e.path)]}}function kI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=RT(r,o);const u=function(y){if(y.length!==0)return IT(yi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(x){return{field:Ya(x.field),direction:PI(x.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Nm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function MI(r){let e=CI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(A){const x=CT(A);return x instanceof yi&&rT(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(x=>function(U){return new hh($a(U.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(A){let x;return x=typeof A=="object"?A.value:A,xh(x)?null:x}(n.limit));let p=null;n.startAt&&(p=function(A){const x=!!A.before,O=A.values||[];return new ch(O,x)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const x=!A.before,O=A.values||[];return new ch(O,x)}(n.endAt)),WC(e,o,f,u,m,"F",p,y)}function VI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function CT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=$a(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=$a(n.unaryFilter.field);return At.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return At.create($a(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return yi.create(n.compositeFilter.filters.map(s=>CT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function PI(r){return wI[r]}function LI(r){return SI[r]}function UI(r){return AI[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function $a(r){return Bt.fromServerFormat(r.fieldPath)}function IT(r){return r instanceof At?function(n){if(n.op==="=="){if(Q_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(K_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(K_(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:LI(n.op),value:n.value}}}(r):r instanceof yi?function(n){const s=n.getFilters().map(o=>IT(o));return s.length===1?s[0]:{compositeFilter:{op:UI(n.op),filters:s}}}(r):Te()}function jI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,s,o,u=be.min(),f=be.min(),m=qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.Tt=e}}function BI(r){const e=MI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.Tn=new qI}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(ns.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class qI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(Je.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(DT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new oo(0)}static Un(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="LruGarbageCollector",FI=1048576;function u0([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class GI{constructor(e){this.Hn=e,this.buffer=new xt(u0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();u0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class KI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(l0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?ue(l0,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.er(3e5)})}}class QI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Rh.ae);const s=new GI(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(o0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(y=Date.now(),Ka()<=De.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function YI(r,e){return new QI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&jl(s.mutation,o,_n.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Oe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Oe()){const o=Gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ol();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Oe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=nr();const f=Ul(),m=function(){return Ul()}();return n.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof hs)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),jl(T.mutation,y,T.mutation.getFieldMask(),Rt.now())):f.set(y.key,_n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var A;return m.set(y,new XI(T,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ul();let o=new rt((f,m)=>f-m),u=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||_n.empty();T=m.applyToLocalView(y,T),s.set(p,T);const A=(o.get(m.batchId)||Oe()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,A=fT();T.forEach(x=>{if(!u.has(x)){const O=vT(n.get(x),s.get(x));O!==null&&A.set(x,O),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(Gs());let m=Fl,p=u;return f.next(y=>W.forEach(y,(T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next(x=>{p=p.insert(T,x)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Oe())).next(T=>({batchId:m,changes:hT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Ol();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ol();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const y=function(A,x){return new Ih(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((A,x)=>{f=f.insert(A,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,$t.newInvalidDocument(T)))});let m=Ol();return f.forEach((p,y)=>{const T=u.get(p);T!==void 0&&jl(T.mutation,y,_n.empty(),Rt.now()),Oh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:BI(o.bundledQuery),readTime:mi(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.overlays=new rt(ye.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new rt((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Gs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return W.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new yI(n,s));let u=this.Rr.get(n);u===void 0&&(u=Oe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.Vr=new xt(Vt.mr),this.gr=new xt(Vt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Vt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ye(new Je([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new Je([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=Oe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Vt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Me(e.Cr,n.Cr)}static pr(e,n){return Me(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new xt(Vt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new gI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?sp:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Me);return n.forEach(o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new ye(u),0);let m=new xt(Me);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),W.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(n.mutations,o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.kr=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let s=nr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$t.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=nr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||IC(CC(T),s)<=0||(o.has(T.key)||Oh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new i2(this)}getSize(e){return W.resolve(this.size)}}class i2 extends $I{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.persistence=e,this.Qr=new ea(n=>lp(n),up),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new mp,this.targetCount=0,this.Ur=oo.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Rh(0),this.zr=!1,this.zr=!0,this.jr=new e2,this.referenceDelegate=e(this),this.Hr=new r2(this),this.indexManager=new HI,this.remoteDocumentCache=function(o){return new n2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new zI(n),this.Yr=new ZI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new t2(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new s2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class s2 extends DC{constructor(e){super(),this.currentSequenceNumber=e}}class pp{constructor(e){this.persistence=e,this.ti=new mp,this.ni=null}static ri(e){return new pp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class mh{constructor(e,n){this.persistence=e,this.oi=new ea(s=>MC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=YI(this,n)}static ri(e,n){return new mh(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qc(e.data.value)),n}ar(e,n,s){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Oe(),o=Oe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return BA()?8:OC(Xt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new a2;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Ka()<=De.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Ka()<=De.DEBUG&&ue("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ka()<=De.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):W.resolve())}rs(e,n){if(W_(n))return W.resolve(null);let s=di(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Im(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Oe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,Im(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return W_(n)||o.isEqual(be.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?W.resolve(null):(Ka()<=De.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.hs(e,f,n,xC(o,Fl)).next(m=>m))})}cs(e,n){let s=new xt(uT(e));return n.forEach((o,u)=>{Oh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Ka()<=De.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ns.getDocumentsMatchingQuery(e,n,ns.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="LocalStore",l2=3e8;class u2{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new rt(Me),this.Is=new ea(u=>lp(u),up),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function c2(r,e,n,s){return new u2(r,e,n,s)}async function kT(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Oe();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function h2(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const A=y.batch,x=A.keys();let O=W.resolve();return x.forEach(U=>{O=O.next(()=>T.getEntry(p,U)).next(Q=>{const L=y.docVersions.get(U);Ge(L!==null),Q.version.compareTo(L)<0&&(A.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),T.addEntry(Q)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Oe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function MT(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function f2(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,A)=>{const x=o.get(A);if(!x)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,A)));let O=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?O=O.withResumeToken(qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,s)),o=o.insert(A,O),function(Q,L,G){return Q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=l2?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(x,O,T)&&m.push(n.Hr.updateTargetData(u,O))});let p=nr(),y=Oe();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(d2(u,f,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(be.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function d2(r,e,n){let s=Oe(),o=Oe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=nr();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(yp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function m2(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=sp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function p2(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Qr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Mm(r,e,n){const s=Se(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!yo(f))throw f;ue(yp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function c0(r,e,n){const s=Se(r);let o=be.min(),u=Oe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const A=Se(p),x=A.Is.get(T);return x!==void 0?W.resolve(A.Ts.get(x)):A.Hr.getTargetData(y,T)}(s,f,di(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Oe())).next(m=>(g2(s,eI(e),m),{documents:m,gs:u})))}function g2(r,e,n){let s=r.Es.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class h0{constructor(){this.activeTargetIds=aI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y2{constructor(){this.ho=new h0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new h0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="ConnectivityMonitor";class d0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(f0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(f0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function Vm(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",_2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class E2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=Vm(),m=this.So(e,n.toUriEncodedString());ue(um,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(ue(um,`Received RPC '${e}' ${f}: `,y),y),y=>{throw io(um,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=_2[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class b2 extends E2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Vm();return new Promise((f,m)=>{const p=new jE;p.setWithCredentials(!0),p.listenOnce(zE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Kc.NO_ERROR:const T=p.getResponseJson();ue(Qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case Kc.TIMEOUT:ue(Qt,`RPC '${e}' ${u} timed out`),m(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const A=p.getStatus();if(ue(Qt,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const O=x==null?void 0:x.error;if(O&&O.status&&O.message){const U=function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(G)>=0?G:ee.UNKNOWN}(O.status);m(new me(U,O.message))}else m(new me(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ue(Qt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ue(Qt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=Vm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=qE(),m=HE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ue(Qt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const A=f.createWebChannel(T,p);let x=!1,O=!1;const U=new T2({Fo:L=>{O?ue(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(x||(ue(Qt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),x=!0),ue(Qt,`RPC '${e}' stream ${o} sending:`,L),A.send(L))},Mo:()=>A.close()}),Q=(L,G,te)=>{L.listen(G,Z=>{try{te(Z)}catch(ae){setTimeout(()=>{throw ae},0)}})};return Q(A,Dl.EventType.OPEN,()=>{O||(ue(Qt,`RPC '${e}' stream ${o} transport opened.`),U.Qo())}),Q(A,Dl.EventType.CLOSE,()=>{O||(O=!0,ue(Qt,`RPC '${e}' stream ${o} transport closed`),U.Ko())}),Q(A,Dl.EventType.ERROR,L=>{O||(O=!0,io(Qt,`RPC '${e}' stream ${o} transport errored:`,L),U.Ko(new me(ee.UNAVAILABLE,"The operation could not be completed")))}),Q(A,Dl.EventType.MESSAGE,L=>{var G;if(!O){const te=L.data[0];Ge(!!te);const Z=te,ae=(Z==null?void 0:Z.error)||((G=Z[0])===null||G===void 0?void 0:G.error);if(ae){ue(Qt,`RPC '${e}' stream ${o} received error:`,ae);const ce=ae.status;let ne=function(w){const I=vt[w];if(I!==void 0)return TT(I)}(ce),D=ae.message;ne===void 0&&(ne=ee.INTERNAL,D="Unknown error status: "+ce+" with message "+ae.message),O=!0,U.Ko(new me(ne,D)),A.close()}else ue(Qt,`RPC '${e}' stream ${o} received:`,te),U.Uo(te)}}),Q(m,BE.STAT_EVENT,L=>{L.stat===Sm.PROXY?ue(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Sm.NOPROXY&&ue(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(r){return new RI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="PersistentStream";class PT{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new VT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new me(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(m0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(m0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w2 extends PT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=II(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?mi(f.readTime):be.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=km(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Cm(p)?{documents:OI(u,p)}:{query:kI(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ST(u,f.resumeToken);const y=Nm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=dh(u,f.snapshotVersion.toTimestamp());const y=Nm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=VI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=km(this.serializer),n.removeTarget=e,this.I_(n)}}class S2 extends PT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=DI(e.writeResults,e.commitTime),s=mi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=km(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>NI(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{}class R2 extends A2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Dm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ee.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Dm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class x2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(tr(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class C2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ta(this)&&(ue(Ws,"Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.W_.add(4),await lu(y),y.j_.set("Unknown"),y.W_.delete(4),await Lh(y)}(this))})}),this.j_=new x2(s,o)}}async function Lh(r){if(ta(r))for(const e of r.G_)await e(!0)}async function lu(r){for(const e of r.G_)await e(!1)}function LT(r,e){const n=Se(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Tp(n)?Ep(n):vo(n).c_()&&_p(n,e))}function vp(r,e){const n=Se(r),s=vo(n);n.U_.delete(e),s.c_()&&UT(n,e),n.U_.size===0&&(s.c_()?s.P_():ta(n)&&n.j_.set("Unknown"))}function _p(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(r).y_(e)}function UT(r,e){r.H_.Ne(e),vo(r).w_(e)}function Ep(r){r.H_=new bI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.j_.B_()}function Tp(r){return ta(r)&&!vo(r).u_()&&r.U_.size>0}function ta(r){return Se(r).W_.size===0}function jT(r){r.H_=void 0}async function I2(r){r.j_.set("Online")}async function N2(r){r.U_.forEach((e,n)=>{_p(r,e)})}async function D2(r,e){jT(r),Tp(r)?(r.j_.q_(e),Ep(r)):r.j_.set("Unknown")}async function O2(r,e,n){if(r.j_.set("Online"),e instanceof wT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ue(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ph(r,s)}else if(e instanceof Xc?r.H_.We(e):e instanceof bT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(be.min()))try{const s=await MT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(y);T&&u.U_.set(y,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(qt.EMPTY_BYTE_STRING,T.snapshotVersion)),UT(u,p);const A=new Qr(T.target,p,y,T.sequenceNumber);_p(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(Ws,"Failed to raise snapshot:",s),await ph(r,s)}}async function ph(r,e,n){if(!yo(e))throw e;r.W_.add(1),await lu(r),r.j_.set("Offline"),n||(n=()=>MT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(Ws,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Lh(r)})}function zT(r,e){return e().catch(n=>ph(r,n,e))}async function Uh(r){const e=Se(r),n=as(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:sp;for(;k2(e);)try{const o=await m2(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,M2(e,o)}catch(o){await ph(e,o)}BT(e)&&HT(e)}function k2(r){return ta(r)&&r.K_.length<10}function M2(r,e){r.K_.push(e);const n=as(r);n.c_()&&n.b_&&n.S_(e.mutations)}function BT(r){return ta(r)&&!as(r).u_()&&r.K_.length>0}function HT(r){as(r).start()}async function V2(r){as(r).C_()}async function P2(r){const e=as(r);for(const n of r.K_)e.S_(n.mutations)}async function L2(r,e,n){const s=r.K_.shift(),o=hp.from(s,e,n);await zT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Uh(r)}async function U2(r,e){e&&as(r).b_&&await async function(s,o){if(function(f){return _I(f)&&f!==ee.ABORTED}(o.code)){const u=s.K_.shift();as(s).h_(),await zT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Uh(s)}}(r,e),BT(r)&&HT(r)}async function p0(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ue(Ws,"RemoteStore received new credentials");const s=ta(n);n.W_.add(3),await lu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Lh(n)}async function j2(r,e){const n=Se(r);e?(n.W_.delete(2),await Lh(n)):e||(n.W_.add(2),await lu(n),n.j_.set("Unknown"))}function vo(r){return r.J_||(r.J_=function(n,s,o){const u=Se(n);return u.M_(),new w2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:I2.bind(null,r),No:N2.bind(null,r),Lo:D2.bind(null,r),p_:O2.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Tp(r)?Ep(r):r.j_.set("Unknown")):(await r.J_.stop(),jT(r))})),r.J_}function as(r){return r.Y_||(r.Y_=function(n,s,o){const u=Se(n);return u.M_(),new S2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:V2.bind(null,r),Lo:U2.bind(null,r),D_:P2.bind(null,r),v_:L2.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Uh(r)):(await r.Y_.stop(),r.K_.length>0&&(ue(Ws,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new bp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(r,e){if(tr("AsyncQueue",`${e}: ${r}`),yo(r))return new me(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ol(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.Z_=new rt(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class lo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new lo(e,n,eo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class B2{constructor(){this.queries=y0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=y0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function y0(){return new ea(r=>lT(r),Dh)}async function Sp(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new z2,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=wp(f,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Rp(n)}async function Ap(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function H2(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Rp(n)}function q2(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Rp(r){r.ia.forEach(e=>{e.next()})}var Pm,v0;(v0=Pm||(Pm={}))._a="default",v0.Cache="cache";class xp{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.key=e}}class FT{constructor(e){this.key=e}}class F2{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Oe(),this.mutatedKeys=Oe(),this.ya=uT(e),this.wa=new eo(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new g0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,A)=>{const x=o.get(T),O=Oh(this.query,A)?A:null,U=!!x&&this.mutatedKeys.has(x.key),Q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;x&&O?x.data.isEqual(O.data)?U!==Q&&(s.track({type:3,doc:O}),L=!0):this.va(x,O)||(s.track({type:2,doc:O}),L=!0,(p&&this.ya(O,p)>0||y&&this.ya(O,y)<0)&&(m=!0)):!x&&O?(s.track({type:0,doc:O}),L=!0):x&&!O&&(s.track({type:1,doc:x}),L=!0,(p||y)&&(m=!0)),L&&(O?(f=f.add(O),u=Q?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,A)=>function(O,U){const Q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return Q(O)-Q(U)}(T.type,A.type)||this.ya(T.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new lo(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new g0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Oe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new FT(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new qT(s))}),n}Oa(e){this.fa=e.gs,this.pa=Oe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return lo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cp="SyncEngine";class G2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class K2{constructor(e){this.key=e,this.Ba=!1}}class Q2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ea(m=>lT(m),Dh),this.qa=new Map,this.Qa=new Set,this.$a=new rt(ye.comparator),this.Ka=new Map,this.Ua=new mp,this.Wa={},this.Ga=new Map,this.za=oo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Y2(r,e,n=!0){const s=XT(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await GT(s,e,n,!0),o}async function $2(r,e){const n=XT(r);await GT(n,e,!0,!1)}async function GT(r,e,n,s){const o=await p2(r.localStore,di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await X2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&LT(r.remoteStore,o),m}async function X2(r,e,n,s,o){r.Ha=(A,x,O)=>async function(Q,L,G,te){let Z=L.view.Sa(G);Z.ls&&(Z=await c0(Q.localStore,L.query,!1).then(({documents:D})=>L.view.Sa(D,Z)));const ae=te&&te.targetChanges.get(L.targetId),ce=te&&te.targetMismatches.get(L.targetId)!=null,ne=L.view.applyChanges(Z,Q.isPrimaryClient,ae,ce);return E0(Q,L.targetId,ne.Ma),ne.snapshot}(r,A,x,O);const u=await c0(r.localStore,e,!0),f=new F2(e,u.gs),m=f.Sa(u.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);E0(r,n,y.Ma);const T=new G2(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function W2(r,e,n){const s=Se(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Dh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Mm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&vp(s.remoteStore,o.targetId),Lm(s,o.targetId)}).catch(go)):(Lm(s,o.targetId),await Mm(s.localStore,o.targetId,!0))}async function Z2(r,e){const n=Se(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vp(n.remoteStore,s.targetId))}async function J2(r,e,n){const s=aN(r);try{const o=await function(f,m){const p=Se(f),y=Rt.now(),T=m.reduce((O,U)=>O.add(U.key),Oe());let A,x;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let U=nr(),Q=Oe();return p.ds.getEntries(O,T).next(L=>{U=L,U.forEach((G,te)=>{te.isValidDocument()||(Q=Q.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,U)).next(L=>{A=L;const G=[];for(const te of m){const Z=mI(te,A.get(te.key).overlayedDocument);Z!=null&&G.push(new hs(te.key,Z,tT(Z.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,G,m)}).next(L=>{x=L;const G=L.applyToLocalDocumentSet(A,Q);return p.documentOverlayCache.saveOverlays(O,L.batchId,G)})}).then(()=>({batchId:x.batchId,changes:hT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new rt(Me)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await uu(s,o.changes),await Uh(s.remoteStore)}catch(o){const u=wp(o,"Failed to persist write");n.reject(u)}}async function KT(r,e){const n=Se(r);try{const s=await f2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ge(f.Ba):o.removedDocuments.size>0&&(Ge(f.Ba),f.Ba=!1))}),await uu(n,s,e)}catch(s){await go(s)}}function _0(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let y=!1;p.queries.forEach((T,A)=>{for(const x of A.ta)x.sa(m)&&(y=!0)}),y&&Rp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function eN(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new rt(ye.comparator);f=f.insert(u,$t.newNoDocument(u,be.min()));const m=Oe().add(u),p=new Vh(be.min(),new Map,new rt(Me),f,m);await KT(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Ip(s)}else await Mm(s.localStore,e,!1).then(()=>Lm(s,e,n)).catch(go)}async function tN(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await h2(n.localStore,e);YT(n,s,null),QT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await go(o)}}async function nN(r,e,n){const s=Se(r);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(A=>(Ge(A!==null),T=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);YT(s,e,n),QT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uu(s,o)}catch(o){await go(o)}}function QT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function YT(r,e,n){const s=Se(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Lm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||$T(r,s)})}function $T(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(vp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Ip(r))}function E0(r,e,n){for(const s of n)s instanceof qT?(r.Ua.addReference(s.key,e),iN(r,s)):s instanceof FT?(ue(Cp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||$T(r,s.key)):Te()}function iN(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ue(Cp,"New document in limbo: "+n),r.Qa.add(s),Ip(r))}function Ip(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(Je.fromString(e)),s=r.za.next();r.Ka.set(s,new K2(n)),r.$a=r.$a.insert(n,s),LT(r.remoteStore,new Qr(di(Nh(n.path)),s,"TargetPurposeLimboResolution",Rh.ae))}}async function uu(r,e,n){const s=Se(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){o.push(y);const A=gp.Yi(p.targetId,y);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const T=Se(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>W.forEach(y,x=>W.forEach(x.Hi,O=>T.persistence.referenceDelegate.addReference(A,x.targetId,O)).next(()=>W.forEach(x.Ji,O=>T.persistence.referenceDelegate.removeReference(A,x.targetId,O)))))}catch(A){if(!yo(A))throw A;ue(yp,"Failed to update sequence numbers: "+A)}for(const A of y){const x=A.targetId;if(!A.fromCache){const O=T.Ts.get(x),U=O.snapshotVersion,Q=O.withLastLimboFreeSnapshotVersion(U);T.Ts=T.Ts.insert(x,Q)}}}(s.localStore,u))}async function rN(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ue(Cp,"User change. New user:",e.toKey());const s=await kT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new me(ee.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(n,s.Rs)}}function sN(r,e){const n=Se(r),s=n.Ka.get(e);if(s&&s.Ba)return Oe().add(s.key);{let o=Oe();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function XT(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=KT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eN.bind(null,e),e.La.p_=H2.bind(null,e.eventManager),e.La.Ja=q2.bind(null,e.eventManager),e}function aN(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nN.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return c2(this.persistence,new o2,e.initialUser,this.serializer)}Xa(e){return new OT(pp.ri,this.serializer)}Za(e){return new y2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class oN extends gh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ge(this.persistence.referenceDelegate instanceof mh);const s=this.persistence.referenceDelegate.garbageCollector;return new KI(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new OT(s=>mh.ri(s,n),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=rN.bind(null,this.syncEngine),await j2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new B2}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),s=function(u){return new b2(u)}(e.databaseInfo);return function(u,f,m,p){return new R2(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new C2(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>_0(this.syncEngine,n,0),function(){return d0.D()?new d0:new v2}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,T){const A=new Q2(o,u,f,m,p,y);return T&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);ue(Ws,"RemoteStore shutting down."),u.W_.add(5),await lu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class lN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=GE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(os,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(os,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function hm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(os,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await kT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function T0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await uN(r);ue(os,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>p0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>p0(e.remoteStore,o)),r._onlineComponents=e}async function uN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(os,"Using user provided OfflineComponentProvider");try{await hm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await hm(r,new gh)}}else ue(os,"Using default OfflineComponentProvider"),await hm(r,new oN(void 0));return r._offlineComponents}async function WT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(os,"Using user provided OnlineComponentProvider"),await T0(r,r._uninitializedComponentsProvider._online)):(ue(os,"Using default OnlineComponentProvider"),await T0(r,new Um))),r._onlineComponents}function cN(r){return WT(r).then(e=>e.syncEngine)}async function yh(r){const e=await WT(r),n=e.eventManager;return n.onListen=Y2.bind(null,e.syncEngine),n.onUnlisten=W2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Z2.bind(null,e.syncEngine),n}function hN(r,e,n={}){const s=new Zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const T=new Np({next:x=>{T.su(),f.enqueueAndForget(()=>Ap(u,A));const O=x.docs.has(m);!O&&x.fromCache?y.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&x.fromCache&&p&&p.source==="server"?y.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),A=new xp(Nh(m.path),T,{includeMetadataChanges:!0,Ta:!0});return Sp(u,A)}(await yh(r),r.asyncQueue,e,n,s)),s.promise}function fN(r,e,n={}){const s=new Zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const T=new Np({next:x=>{T.su(),f.enqueueAndForget(()=>Ap(u,A)),x.fromCache&&p.source==="server"?y.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),A=new xp(m,T,{includeMetadataChanges:!0,Ta:!0});return Sp(u,A)}(await yh(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(r,e,n){if(!n)throw new me(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function dN(r,e,n,s){if(e===!0&&s===!0)throw new me(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function w0(r){if(!ye.isDocumentKey(r))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function S0(r){if(ye.isDocumentKey(r))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Dp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function En(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dp(r);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="firestore.googleapis.com",A0=!0;class R0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eb,this.ssl=A0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:A0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FI)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _C;switch(s.type){case"firstParty":return new wC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=b0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),b0.delete(n),s.terminate())}(this),Promise.resolve()}}function mN(r,e,n,s={}){var o;const u=(r=En(r,jh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==eb&&u.host!==m&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ks(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Yt.MOCK_USER;else{y=MA(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Yt(A)}r._authCredentials=new EC(new FE(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new cu(this.firestore,e,this._query)}}class sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Jr extends cu{constructor(e,n,s){super(e,n,Nh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new ye(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function Yr(r,e,...n){if(r=Ht(r),JT("collection","path",e),r instanceof jh){const s=Je.fromString(e,...n);return S0(s),new Jr(r,null,s)}{if(!(r instanceof sn||r instanceof Jr))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Je.fromString(e,...n));return S0(s),new Jr(r.firestore,null,s)}}function es(r,e,...n){if(r=Ht(r),arguments.length===1&&(e=GE.newId()),JT("doc","path",e),r instanceof jh){const s=Je.fromString(e,...n);return w0(s),new sn(r,null,new ye(s))}{if(!(r instanceof sn||r instanceof Jr))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Je.fromString(e,...n));return w0(s),new sn(r.firestore,r instanceof Jr?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="AsyncQueue";class C0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new VT(this,"async_queue_retry"),this.bu=()=>{const s=cm();s&&ue(x0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Zi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!yo(e))throw e;ue(x0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw tr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=bp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function I0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class ls extends jh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new C0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C0(e),this._firestoreClient=void 0,await e}}}function pN(r,e){const n=typeof r=="object"?r:eE(),s=typeof r=="string"?r:lh,o=Ym(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=OA("firestore");u&&mN(o,...u)}return o}function zh(r){if(r._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||gN(r),r._firestoreClient}function gN(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,T){return new LC(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,ZT(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new lN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo(qt.fromBase64String(e))}catch(n){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new uo(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/^__.*__$/;class vN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class tb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Mp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(nb(this.Lu)&&yN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class _N{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ph(e)}ju(e,n,s,o=!1){return new Mp({Lu:e,methodName:n,zu:s,path:Bt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vp(r){const e=r._freezeSettings(),n=Ph(r._databaseId);return new _N(r._databaseId,!!e.ignoreUndefinedProperties,n)}function ib(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Lp("Data must be an object, but it was:",f,s);const m=rb(s,f);let p,y;if(u.merge)p=new _n(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const x=jm(e,A,n);if(!f.contains(x))throw new me(ee.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ab(T,x)||T.push(x)}p=new _n(T),y=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=f.fieldTransforms;return new vN(new cn(m),p,y)}class qh extends Hh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qh}}class Pp extends Hh{_toFieldTransform(e){return new cI(e.path,new Yl)}isEqual(e){return e instanceof Pp}}function EN(r,e,n,s){const o=r.ju(1,e,n);Lp("Data must be an object, but it was:",o,s);const u=[],f=cn.empty();cs(s,(p,y)=>{const T=Up(e,p,n);y=Ht(y);const A=o.Ku(T);if(y instanceof qh)u.push(T);else{const x=Fh(y,A);x!=null&&(u.push(T),f.set(T,x))}});const m=new _n(u);return new tb(f,m,o.fieldTransforms)}function TN(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[jm(e,s,n)],p=[o];if(u.length%2!=0)throw new me(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(jm(e,u[x])),p.push(u[x+1]);const y=[],T=cn.empty();for(let x=m.length-1;x>=0;--x)if(!ab(y,m[x])){const O=m[x];let U=p[x];U=Ht(U);const Q=f.Ku(O);if(U instanceof qh)y.push(O);else{const L=Fh(U,Q);L!=null&&(y.push(O),T.set(O,L))}}const A=new _n(y);return new tb(T,A,f.fieldTransforms)}function Fh(r,e){if(sb(r=Ht(r)))return Lp("Unsupported field value:",e,r),rb(r,e);if(r instanceof Hh)return function(s,o){if(!nb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Fh(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:dh(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dh(o.serializer,u)}}if(s instanceof Op)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof uo)return{bytesValue:ST(o.serializer,s._byteString)};if(s instanceof sn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof kp)return function(f,m){return{mapValue:{fields:{[JE]:{stringValue:eT},[uh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return cp(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Dp(s)}`)}(r,e)}function rb(r,e){const n={};return QE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(r,(s,o)=>{const u=Fh(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function sb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Op||r instanceof uo||r instanceof sn||r instanceof Hh||r instanceof kp)}function Lp(r,e,n){if(!sb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Dp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function jm(r,e,n){if((e=Ht(e))instanceof Bh)return e._internalPath;if(typeof e=="string")return Up(r,e);throw vh("Field path arguments must be of type string or ",r,!1,void 0,n)}const bN=new RegExp("[~\\*/\\[\\]]");function Up(r,e,n){if(e.search(bN)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Bh(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function vh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new me(ee.INVALID_ARGUMENT,m+r+p)}function ab(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wN extends ob{data(){return super.data()}}function lb(r,e){return typeof e=="string"?Up(r,e):e instanceof Bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SN{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ft(f.doubleValue));return new kp(u)}convertGeoPoint(e){return new Op(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ch(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=is(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Je.fromString(e);Ge(NT(s));const o=new Kl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hb extends ob{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(lb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Wc extends hb{data(e={}){return super.data(e)}}class fb{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ml(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Wc(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Wc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ml(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Wc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ml(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:AN(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function AN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(r){r=En(r,sn);const e=En(r.firestore,ls);return hN(zh(e),r._key).then(n=>mb(e,r,n))}class jp extends SN{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function fm(r){r=En(r,cu);const e=En(r.firestore,ls),n=zh(e),s=new jp(e);return ub(r._query),fN(n,r._query).then(o=>new fb(e,s,r,o))}function db(r,e,n){r=En(r,sn);const s=En(r.firestore,ls),o=cb(r.converter,e);return zp(s,[ib(Vp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Kn.none())])}function Zc(r,e,n,...s){r=En(r,sn);const o=En(r.firestore,ls),u=Vp(o);let f;return f=typeof(e=Ht(e))=="string"||e instanceof Bh?TN(u,"updateDoc",r._key,e,n,s):EN(u,"updateDoc",r._key,e),zp(o,[f.toMutation(r._key,Kn.exists(!0))])}function Gh(r,e){const n=En(r.firestore,ls),s=es(r),o=cb(r.converter,e);return zp(n,[ib(Vp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then(()=>s)}function xN(r,...e){var n,s,o;r=Ht(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||I0(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(I0(e[f])){const A=e[f];e[f]=(n=A.next)===null||n===void 0?void 0:n.bind(A),e[f+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),e[f+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let p,y,T;if(r instanceof sn)y=En(r.firestore,ls),T=Nh(r._key.path),p={next:A=>{e[f]&&e[f](mb(y,r,A))},error:e[f+1],complete:e[f+2]};else{const A=En(r,cu);y=En(A.firestore,ls),T=A._query;const x=new jp(y);p={next:O=>{e[f]&&e[f](new fb(y,x,A,O))},error:e[f+1],complete:e[f+2]},ub(r._query)}return function(x,O,U,Q){const L=new Np(Q),G=new xp(O,L,U);return x.asyncQueue.enqueueAndForget(async()=>Sp(await yh(x),G)),()=>{L.su(),x.asyncQueue.enqueueAndForget(async()=>Ap(await yh(x),G))}}(zh(y),T,m,p)}function zp(r,e){return function(s,o){const u=new Zi;return s.asyncQueue.enqueueAndForget(async()=>J2(await cN(s),o,u)),u.promise}(zh(r),e)}function mb(r,e,n){const s=n.docs.get(e._key),o=new jp(r);return new hb(r,o,e._key,s,new Ml(n.hasPendingWrites,n.fromCache),e.converter)}function zl(){return new Pp("serverTimestamp")}(function(e,n=!0){(function(o){po=o})(fo),to(new Qs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ls(new TC(s.getProvider("auth-internal")),new SC(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Wr(V_,P_,e),Wr(V_,P_,"esm2017")})();var CN="firebase",IN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(CN,IN,"app");const NN={apiKey:"AIzaSyBVnMUOQrZfcMflWzxX1wwgAJK-ZvrGug8",authDomain:"login-auth-93c70.firebaseapp.com",projectId:"login-auth-93c70",storageBucket:"login-auth-93c70.firebasestorage.app",messagingSenderId:"1091717784485",appId:"1:1091717784485:web:ac7b07b1cd53be5c1b7e4c"},pb=J0(NN),gb=yC(pb),rn=pN(pb),DN=async(r,e,n,s,o,u)=>{try{const m=(await t1(gb,r,e)).user;n&&await r1(m,{displayName:n});const p={uid:m.uid,email:r,displayName:n||r.split("@")[0],grade:s,school:o,locality:u,createdAt:zl(),lastLogin:zl(),role:"student"};return await db(es(rn,"users",m.uid),p),p}catch(f){throw console.error("Error during sign-up:",f.message),f}},ON=async(r,e)=>{try{const s=(await n1(gb,r,e)).user;await Zc(es(rn,"users",s.uid),{lastLogin:zl()});const o=await RN(es(rn,"users",s.uid));if(o.exists())return o.data();{const u={uid:s.uid,email:r,displayName:s.displayName||r.split("@")[0],role:"student",createdAt:zl(),lastLogin:zl()};return await db(es(rn,"users",s.uid),u),u}}catch(n){throw console.error("Error during sign-in:",n.message),n}},hu=B.createContext({user:null,setUser:()=>{}});function kN({children:r}){const[e,n]=B.useState(null);return E.jsx(hu.Provider,{value:{user:e,setUser:n},children:r})}const MN=()=>{const[r,e]=B.useState(!1),[n,s]=B.useState(""),[o,u]=B.useState(""),[f,m]=B.useState(""),[p,y]=B.useState(""),[T,A]=B.useState(""),[x,O]=B.useState(""),[U,Q]=B.useState(""),[L,G]=B.useState(""),[te,Z]=B.useState(!1),ae=Eh(),{user:ce,setUser:ne}=B.useContext(hu),D=()=>{e(!r),G("")},R=async w=>{w.preventDefault(),G(""),Z(!0);try{if(r){if(o!==U){G("Passwords don't match"),Z(!1);return}if(o.length<6){G("Password must be at least 6 characters"),Z(!1);return}const I=await DN(n,o,f,p,T,x);if(!I)throw new Error("Failed to get user data after signup");if(I&&typeof I=="object")ne(I),ae("/dashboard");else throw new Error("Invalid user data received")}else{const I=await ON(n,o);if(!I)throw new Error("Failed to get user data after signin");if(I&&typeof I=="object")ne(I),ae("/dashboard");else throw new Error("Invalid user data received")}}catch(I){console.error(I),G("An error occurred during authentication")}finally{Z(!1)}};return E.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 p-4",style:{backgroundImage:"url(./src/assets/wallpaperflare.com_wallpaper-2.jpg)"},children:E.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-8 w-full max-w-md",children:[E.jsx("h2",{className:"text-2xl font-bold text-center text-gray-700 mb-6",children:r?"Create Account":"Log In"}),L&&E.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:L}),E.jsxs("form",{onSubmit:R,className:"space-y-4",children:[r&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Full Name"}),E.jsx("input",{type:"text",className:"w-full p-2 border rounded-lg",value:f,onChange:w=>m(w.target.value),placeholder:"Enter your full name",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Email"}),E.jsx("input",{type:"email",className:"w-full p-2 border rounded-lg",value:n,onChange:w=>s(w.target.value),placeholder:"Enter your email",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Password"}),E.jsx("input",{type:"password",className:"w-full p-2 border rounded-lg",value:o,onChange:w=>u(w.target.value),placeholder:"Enter your password",required:!0})]}),r&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Confirm Password"}),E.jsx("input",{type:"password",className:"w-full p-2 border rounded-lg",value:U,onChange:w=>Q(w.target.value),placeholder:"Confirm your password",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Grade"}),E.jsx("input",{type:"text",className:"w-full p-2 border rounded-lg",value:p,onChange:w=>y(w.target.value),placeholder:"Enter your grade",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"School"}),E.jsx("input",{type:"text",className:"w-full p-2 border rounded-lg",value:T,onChange:w=>A(w.target.value),placeholder:"Enter your school",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Locality"}),E.jsx("input",{type:"text",className:"w-full p-2 border rounded-lg",value:x,onChange:w=>O(w.target.value),placeholder:"Enter your locality",required:!0})]})]}),E.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition",disabled:te,children:te?"Processing...":r?"Sign Up":"Log In"})]}),E.jsxs("div",{className:"text-center mt-4",children:[r?"Already have an account?":"Don't have an account?",E.jsx("button",{className:"text-blue-600 font-bold ml-2",onClick:D,children:r?"Log In":"Sign Up"})]})]})})};function VN(){const{user:r}=B.useContext(hu),[e,n]=B.useState([]),[s,o]=B.useState([]),[u,f]=B.useState([]),[m,p]=B.useState([]),y=Eh(),[T,A]=B.useState({}),[x,O]=B.useState(""),[U,Q]=B.useState({}),[L,G]=B.useState({});B.useEffect(()=>{const ne=async()=>{try{const R=await fm(Yr(rn,"feedback"));n(R.docs.map(k=>({id:k.id,...k.data()})));const w=await fm(Yr(rn,"issues"));o(w.docs.map(k=>({id:k.id,...k.data()})));const I=await fm(Yr(rn,"complaints"));f(I.docs.map(k=>({id:k.id,...k.data()})))}catch(R){console.error("Error fetching data:",R)}},D=xN(Yr(rn,"showcases"),R=>{p(R.docs.map(w=>({id:w.id,...w.data()})))});return ne(),()=>D()},[]);const te=async(ne,D=0,R=[])=>{if(!U[ne]){Q(w=>({...w,[ne]:!0}));try{const w=es(rn,"showcases",ne),I=R.includes(r==null?void 0:r.uid);let k,j;I?(k=Math.max(0,D-1),j=R.filter(N=>N!==(r==null?void 0:r.uid))):(k=D+1,j=[...R,r==null?void 0:r.uid]),await Zc(w,{likes:k,likedBy:j}),p(N=>N.map($e=>$e.id===ne?{...$e,likes:k,likedBy:j}:$e))}catch(w){console.error("Failed to update likes:",w)}finally{Q(w=>({...w,[ne]:!1}))}}},Z=async(ne,D=0,R=[])=>{if(!L[ne]){G(w=>({...w,[ne]:!0}));try{const w=es(rn,"issues",ne),I=R.includes(r==null?void 0:r.uid);let k,j;I?(k=Math.max(0,D-1),j=R.filter(N=>N!==(r==null?void 0:r.uid))):(k=D+1,j=[...R,r==null?void 0:r.uid]),await Zc(w,{supports:k,supportedBy:j}),o(N=>N.map($e=>$e.id===ne?{...$e,supports:k,supportedBy:j}:$e))}catch(w){console.error("Failed to update support:",w)}finally{G(w=>({...w,[ne]:!1}))}}},ae=ne=>{A(D=>({...D,[ne]:!D[ne]}))},ce=async(ne,D=[])=>{if(x.trim())try{const R=es(rn,"showcases",ne),w={text:x,author:(r==null?void 0:r.displayName)||"Anonymous",timestamp:new Date().toISOString()};await Zc(R,{comments:[...D,w]}),O("")}catch(R){console.error("Failed to add comment:",R)}};return E.jsxs("div",{className:"min-h-screen flex bg-black",children:[E.jsxs("div",{className:"w-1/4 bg-bllack p-6 flex flex-col space-y-6",children:[E.jsx("br",{}),E.jsx("br",{}),E.jsx("br",{}),E.jsx("br",{}),E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg blur opacity-75 group-hover:opacity-100"}),E.jsxs("button",{onClick:()=>y("/feedback"),className:"relative px-7 py-4 bg-black rounded-lg leading-none",children:[E.jsx("h3",{className:"text-indigo-300 text-2xl font-bold mb-4 group-hover:text-gray-100 transition duration-200",children:"Feedback"}),E.jsx("p",{className:"pl-6 text-indigo-300 group-hover:text-gray-100 transition duration-200",children:"Submit feedback or report issues on your problems →"})]})]}),E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg blur opacity-75 group-hover:opacity-100"}),E.jsxs("button",{onClick:()=>y("/complain"),className:"relative px-7 py-4 bg-black rounded-lg leading-none",children:[E.jsx("h3",{className:"text-indigo-300 text-2xl font-bold mb-4 group-hover:text-gray-100 transition duration-200",children:"Complain"}),E.jsx("p",{className:"pl-6 text-indigo-300 group-hover:text-gray-100 transition duration-200",children:"Speak up against bullying and harassment →"})]})]}),E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg blur opacity-75 group-hover:opacity-100"}),E.jsxs("button",{onClick:()=>y("/raise-issue"),className:"relative px-7 py-4 bg-black rounded-lg leading-none",children:[E.jsx("h3",{className:"text-indigo-300 text-2xl font-bold mb-4 group-hover:text-gray-100 transition duration-200",children:"Issues"}),E.jsx("p",{className:"pl-6 text-indigo-300 group-hover:text-gray-100 transition duration-200",children:"Get support from other students for common problems →"})]})]}),E.jsxs("div",{className:"relative group",children:[E.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg blur opacity-75 group-hover:opacity-100"}),E.jsxs("button",{onClick:()=>y("/showcase"),className:"relative px-7 py-4 bg-black rounded-lg leading-none",children:[E.jsx("h3",{className:"text-indigo-300 text-2xl font-bold mb-4 group-hover:text-gray-100 transition duration-200",children:"Showcase"}),E.jsx("p",{className:"pl-6 text-indigo-300 group-hover:text-gray-100 transition duration-200",children:"Share your skills and achievements with others →"})]})]})]}),E.jsxs("div",{className:"bg-black min-h-screen p-4 w-2/5",children:[E.jsx("br",{}),E.jsx("br",{}),E.jsx("br",{}),E.jsx("br",{}),E.jsx("h1",{className:"text-purple-200 text-4xl font-extrabold mb-4 text-center uppercase tracking-wide transition duration-300 hover:drop-shadow-[0_0_20px_#ffd700]",children:"Spotlight"}),E.jsx("br",{}),E.jsx("div",{className:"space-y-4",children:m.map(ne=>{var D,R;return E.jsxs("div",{className:"bg-black shadow-md overflow-hidden",children:[E.jsx("div",{className:"px-2 py-2 border-4 border-purple-500",children:E.jsxs("span",{className:"font-semibold text-lg italic text-white tracking-tight",children:["@ ",ne.author||"Anonymous"]})}),E.jsxs("div",{className:"px-2 py-2 border-4 border-purple-500",children:[E.jsx("h2",{className:"text-2xl font-semibold text-red-400 tracking-tight",children:ne.title}),"                ",E.jsx("p",{className:"text-white mb-3",children:ne.description}),ne.fileUrl&&(ne.fileUrl.includes(".mp4")?E.jsx("video",{controls:!0,className:"w-full h-64 object-cover rounded-lg",children:E.jsx("source",{src:ne.fileUrl,type:"video/mp4"})}):E.jsx("img",{src:ne.fileUrl,alt:"Uploaded",className:"w-full h-64 object-contain rounded-lg"}))]}),E.jsxs("div",{className:"grid grid-cols-2 px-2 py-2 border-4 border-purple-500",children:[E.jsxs("button",{onClick:()=>te(ne.id,ne.likes||0,ne.likedBy||[]),className:`p-4 text-center text-white font-semibold border-r hover:bg-gray-700 ${(ne.likedBy||[]).includes(r==null?void 0:r.uid)?"text-red-500":"text-white"}`,children:["❤️ ",ne.likes||0]}),E.jsxs("button",{onClick:()=>ae(ne.id),className:"p-4 text-center text-white font-semibold hover:bg-gray-700 flex items-center justify-center gap-2",children:["💬 ",((D=ne.comments)==null?void 0:D.length)||0]})]}),T[ne.id]&&E.jsxs("div",{className:"border-t border-gray-200 p-4 bg-gray-900",children:[E.jsxs("div",{className:"flex gap-2 mb-4",children:[E.jsx("input",{type:"text",placeholder:"Add a comment...",value:x,onChange:w=>O(w.target.value),className:"flex-1 p-3 border rounded-lg focus:outline-none"}),E.jsx("button",{onClick:()=>ce(ne.id,ne.comments||[]),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Post"})]}),(R=ne.comments)==null?void 0:R.map((w,I)=>E.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm mb-2",children:[E.jsx("span",{className:"font-semibold text-gray-800",children:w.author}),E.jsx("p",{className:"text-gray-700",children:w.text})]},I))]}),E.jsx("br",{})]},ne.id)})})]}),E.jsxs("div",{className:"bg-black min-h-screen p-4 w-2/6",children:[E.jsx("br",{}),E.jsx("br",{}),E.jsx("br",{}),E.jsx("br",{}),E.jsx("h1",{className:"text-yellow-200 text-4xl font-extrabold mb-4 text-center uppercase tracking-wide transition duration-300 hover:drop-shadow-[0_0_20px_#ffd700]",children:"New Issues"}),E.jsx("br",{}),s.length===0?E.jsx("div",{className:"text-center text-gray-400",children:"No issues found."}):s.map(ne=>{var D;return E.jsxs("div",{className:"bg-black p-5 rounded-xl shadow-md",children:[E.jsx("div",{className:"px-2 py-2 border-4 border-yellow-500",children:E.jsxs("span",{className:"font-semibold text-lg italic text-white tracking-tight",children:["@ ",ne.anonymous?"Anonymous":((D=ne.userData)==null?void 0:D.name)||"Unknown"]})}),E.jsxs("div",{className:"px-2 py-2 border-4 border-yellow-500",children:[E.jsx("br",{}),E.jsx("h2",{className:"text-xl font-bold text-blue-400 capitalize text-center",children:ne.type}),E.jsx("br",{}),E.jsx("p",{className:"text-white text-xl mb-3",children:ne.text})]}),E.jsx("div",{className:"text-center border-4 border-yellow-500",children:E.jsxs("button",{onClick:()=>Z(ne.id,ne.supports||0,ne.supportedBy),className:`p-4 text-center text-white font-semibold  hover:bg-gray-700 ${(ne.supportedBy||[]).includes(r==null?void 0:r.uid)?"text-red-500":"text-white"}`,children:["Support 👍🏻       ",ne.supports]})})]},ne.id)})]})]})}function PN(){return E.jsxs("div",{className:"min-h-screen bg-cover bg-center py-16 px-4 sm:px-6 lg:px-8",style:{backgroundImage:"url(./src/assets/img1.wallspic.com-visual_arts-dark-smartphone-art-the_arts-1620x2880.jpg)"},children:[E.jsx("br",{}),E.jsx("br",{}),E.jsx("br",{}),E.jsxs("div",{className:"max-w-4xl mx-auto bg-white bg-opacity-40 rounded-lg p-8",children:[E.jsxs("div",{className:"text-center mb-16",children:[E.jsx("h2",{className:"text-5xl font-bold text-b-100 mb-4",children:"About Us"}),E.jsx("div",{className:"h-1 w-24 bg-blue-200 mx-auto"})]}),E.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-12",children:[E.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Our Mission"}),E.jsxs("p",{className:"text-lg text-gray-600 leading-relaxed",children:["We are committed to creating an inclusive platform that supports quality education for all students, aligned with Sustainable Development Goal 4. We believe that every student deserves a voice to express concerns, share talents, and stand together against challenges.",E.jsx("br",{}),E.jsx("br",{}),E.jsxs("a",{href:"https://sdgs.un.org/goals/goal4",target:"blank",children:[E.jsx("b",{children:E.jsx("u",{children:"Click here for more information"})})," "]})]})]}),E.jsxs("div",{className:"bg-blue-50 rounded-lg shadow-sm p-8 mb-12",children:[E.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-6",children:"Sustainable Development Goal 4"}),E.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Our platform addresses multiple targets under SDG 4:"}),E.jsx("ul",{className:"space-y-4",children:[{num:"4.1",text:"Ensure all girls and boys complete free, equitable and quality primary and secondary education"},{num:"4.3",text:"Ensure equal access to affordable technical, vocational and higher education"},{num:"4.4",text:"Increase the number of people with relevant skills for financial success"},{num:"4.6",text:"Ensure all youth achieve literacy and numeracy"},{num:"4.c",text:"Increase the supply of qualified teachers"}].map((r,e)=>E.jsxs("li",{className:"flex items-start",children:[E.jsx("span",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-blue-200 flex items-center justify-center mr-3 mt-1",children:E.jsx("span",{className:"text-sm font-medium text-blue-800",children:e+1})}),E.jsxs("div",{children:[E.jsxs("span",{className:"font-semibold text-blue-800",children:[r.num,":"]}),E.jsx("span",{className:"text-gray-600 ml-2",children:r.text})]})]},e))})]}),E.jsxs("div",{className:"mb-16",children:[E.jsx("h3",{className:"text-2xl font-semibold text-gray-700 text-center mb-8",children:"Our Values"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[{title:"Inclusivity",desc:"Creating a platform accessible to all students regardless of background or ability"},{title:"Empowerment",desc:"Giving students the tools to speak up and make positive changes"},{title:"Safety",desc:"Providing a secure environment to express concerns without fear"},{title:"Growth",desc:"Fostering personal and academic development through peer support"}].map((r,e)=>E.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border-l-4 border-blue-200 hover:shadow-md transition-shadow duration-300",children:[E.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-3",children:r.title}),E.jsx("p",{className:"text-gray-600",children:r.desc})]},e))})]}),E.jsxs("div",{className:"mt-16",children:[E.jsx("h3",{className:"text-2xl font-semibold text-gray-700 text-center mb-10",children:"Our Team"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Karthik Vishal",role:"Frontend Developer",bio:"Passionate about creating intuitive and accessible user interfaces."},{name:"Rishiikesh",role:"Backend Engineer",bio:"Dedicated to building robust and scalable backend solutions."},{name:"Chandana",role:"UI/UX Designer",bio:"Committed to crafting beautiful and user-centered design experiences."}].map((r,e)=>E.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow duration-300",children:[E.jsx("div",{className:"h-40 bg-gradient-to-r from-blue-100 to-blue-200 flex items-center justify-center",children:E.jsx("div",{className:"h-24 w-24 rounded-full bg-white flex items-center justify-center",children:E.jsx("span",{className:"text-2xl text-blue-400 font-light",children:r.name.charAt(0)})})}),E.jsxs("div",{className:"p-6",children:[E.jsx("h4",{className:"text-xl font-semibold text-gray-700 mb-1",children:r.name}),E.jsx("p",{className:"text-blue-500 text-sm mb-4",children:r.role}),E.jsx("p",{className:"text-gray-600",children:r.bio})]})]},e))})]})]})]})}function LN(){const r=Eh(),{user:e,setUser:n}=B.useContext(hu);function s(){n(null),r("/login")}return E.jsxs("div",{className:"fixed top-0 left-0 w-full h-20 bg-gradient-to-r from-purple-900 to-black-600 text-white flex justify-between items-center px-8 shadow-lg font-sans z-50",children:[E.jsxs("div",{className:"logo flex items-center space-x-4",children:[E.jsx("div",{className:"bg-white p-1 rounded-lg shadow-md",children:E.jsx("img",{src:"/src/assets/Logo_UnitEd.jpeg",alt:"Logo",className:"w-10 h-10 rounded"})}),E.jsx("div",{children:E.jsx("h1",{className:"font-bold text-xl tracking-wide",children:"UnitEd"})})]}),E.jsx("nav",{className:"nav",children:E.jsx("ul",{className:"flex items-center gap-6",children:e?E.jsxs(E.Fragment,{children:[E.jsx("li",{children:E.jsx(vn,{to:"/profile",children:E.jsx("img",{src:e.profilePic||"./src/assets/user_icon.png",alt:"Profile",className:"w-10 h-10 rounded-full border-2 border-white shadow-md hover:shadow-lg transition-all duration-300 cursor-pointer"})})}),E.jsx("li",{children:E.jsx(vn,{to:"/dashboard",className:"hover:text-yellow-300 transition-colors duration-300 font-medium",children:"Dashboard"})}),E.jsx("li",{children:E.jsx(vn,{to:"/about",className:"hover:text-yellow-300 transition-colors duration-300 font-medium",children:"About Us"})}),E.jsx("li",{children:E.jsx("button",{onClick:s,className:"bg-red-500 px-6 py-2 rounded-lg font-medium hover:bg-red-600 transition-colors duration-300 shadow-md",children:"Log Out"})})]}):E.jsxs(E.Fragment,{children:[E.jsx("li",{children:E.jsx(vn,{to:"/profile",children:E.jsx("img",{src:"./src/assets/user_icon.png",alt:"Profile",className:"w-10 h-10 rounded-full border-2 border-white shadow-md hover:shadow-lg transition-all duration-300 cursor-pointer"})})}),E.jsx("li",{children:E.jsx(vn,{to:"/dashboard",className:"hover:text-yellow-300 transition-colors duration-300 font-medium",children:"Dashboard"})}),E.jsx("li",{children:E.jsx(vn,{to:"/about",className:"hover:text-yellow-300 transition-colors duration-300 font-medium",children:"About Us"})}),E.jsx("li",{children:E.jsx("button",{onClick:s,className:"bg-red-500 px-6 py-2 rounded-lg font-medium hover:bg-red-600 transition-colors duration-300 shadow-md",children:"Log Out"})})]})})})]})}function Cl({title:r,description:e,icon:n}){return E.jsxs("div",{className:"flex flex-col items-center p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 border border-gray-100",children:[E.jsx("div",{className:"text-indigo-600 mb-4",children:n}),E.jsx("h3",{className:"text-xl font-semibold text-indigo-900 mb-3",children:r}),E.jsx("p",{className:"text-gray-600 text-center",children:e})]})}function UN(){return E.jsxs("div",{className:"bg-gray-50 pt-20",children:[E.jsxs("div",{className:"relative h-screen flex items-center justify-center bg-gradient-to-b from-indigo-800 to-blue-600 overflow-hidden",children:[E.jsxs("div",{className:"absolute inset-0 opacity-20",children:[E.jsx("div",{className:"absolute top-10 left-10 w-40 h-40 rounded-full bg-yellow-400"}),E.jsx("div",{className:"absolute bottom-20 right-20 w-60 h-60 rounded-full bg-blue-300"}),E.jsx("div",{className:"absolute top-1/3 right-1/4 w-20 h-20 rounded-full bg-red-400"})]}),E.jsxs("div",{className:"text-center px-4 relative z-10",children:[E.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"A Platform for All Students"}),E.jsx("p",{className:"text-xl md:text-2xl text-blue-100 mb-10 max-w-2xl mx-auto",children:"Empowering students to express, connect, and support each other"}),E.jsx(vn,{to:"/login",className:"px-8 py-4 bg-yellow-500 text-indigo-900 font-bold rounded-full text-lg shadow-lg hover:bg-yellow-400 transition-all duration-300 hover:shadow-xl",children:"Join Now"})]})]}),E.jsxs("div",{className:"py-20 px-6 md:px-16 bg-white",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-indigo-900 mb-12",children:"Addressing Student Challenges"}),E.jsx("div",{className:"max-w-4xl mx-auto",children:E.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["Not able to give feedback publicly on teachers","Not able to stand up against bullies and harassments","Not able to question the edu. facilities publicly","Being a person with disability","Can't able to express their expertise in their skills","Without pre-primary education"].map((r,e)=>E.jsxs("li",{className:"flex items-start p-4 bg-blue-50 rounded-lg shadow-sm",children:[E.jsx("div",{className:"bg-indigo-600 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 mr-3",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),E.jsx("span",{className:"text-indigo-800 font-medium",children:r})]},e))})})]}),E.jsxs("div",{className:"py-20 px-6 md:px-16 bg-gray-50",children:[E.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-indigo-900 mb-14",children:"What We Facilitate"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[E.jsx(Cl,{title:"Individual Login",description:"Secure ID system with password, grade, locality, school, and DOB",icon:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),E.jsx(Cl,{title:"Feedback System",description:"Express concerns about education quality and facilities",icon:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),E.jsx(Cl,{title:"Anti-Bullying Platform",description:"Report and stand up against bullying and harassment",icon:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),E.jsx(Cl,{title:"Talent Showcase",description:"Share your skills and expertise with your peers",icon:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),E.jsx(Cl,{title:"Inclusive Design",description:"Accessible for students with disabilities",icon:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})})]})]})]})}function jN(){return E.jsxs("div",{className:"min-h-screen bg-gray-100",children:[E.jsx(LN,{}),E.jsx(HS,{})]})}function zN(){const{user:r}=B.useContext(hu);return console.log(r),E.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-100 min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:[E.jsx("br",{}),E.jsx("br",{}),E.jsxs("div",{className:"bg-white shadow-2xl rounded-lg p-8 max-w-4xl mx-auto transform hover:scale-105 transition-transform duration-300",children:[E.jsx("h2",{className:"text-4xl font-semibold text-indigo-900 mb-8 text-center",children:"Profile Details"}),E.jsxs("div",{className:"user-info space-y-6",children:[E.jsxs("p",{className:"text-xl text-indigo-800 font-medium",children:[E.jsx("strong",{children:"Name:"})," ",r.displayName]}),E.jsxs("p",{className:"text-xl text-indigo-800 font-medium",children:[E.jsx("strong",{children:"Email:"})," ",r.email]}),E.jsxs("p",{className:"text-xl text-indigo-800 font-medium",children:[E.jsx("strong",{children:"Grade:"})," ",r.grade]}),E.jsxs("p",{className:"text-xl text-indigo-800 font-medium",children:[E.jsx("strong",{children:"School:"})," ",r.school]}),E.jsxs("p",{className:"text-xl text-indigo-800 font-medium",children:[E.jsx("strong",{children:"Locality:"})," ",r.locality]})]})]})]})}/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yb=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>B.createElement("svg",{ref:p,...HN,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:yb("lucide",o),...m},[...f.map(([y,T])=>B.createElement(y,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=(r,e)=>{const n=B.forwardRef(({className:s,...o},u)=>B.createElement(qN,{ref:u,iconNode:e,className:yb(`lucide-${BN(r)}`,s),...o}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Kh=Bp("ArrowLeft",FN);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qh=Bp("CircleCheckBig",GN);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],QN=Bp("Upload",KN);function YN({userData:r}){const[e,n]=B.useState("teacher"),[s,o]=B.useState(""),[u,f]=B.useState(!1),[m,p]=B.useState(!1),[y,T]=B.useState(!1),[A,x]=B.useState(null);console.log("Rendering FeedbackReport component");const O=async L=>{if(L.preventDefault(),!e||!s.trim()){x("Please fill in all fields");return}T(!0),x(null);try{await Gh(Yr(rn,"feedback"),{type:e,text:s,anonymous:u,userData:u?null:r,timestamp:new Date}),p(!0),setTimeout(U,3e3)}catch(G){console.error(G),x("Failed to submit feedback")}finally{T(!1)}},U=()=>{n("teacher"),o(""),f(!1),p(!1),x(null)},Q={teacher:"👨‍🏫",facility:"🏫",curriculum:"📝",other:"🔍"};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black py-12 px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-4xl mx-auto bg-black rounded-2xl shadow-xl overflow-hidden",children:[E.jsx("br",{}),E.jsx("br",{}),E.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-pink-600 px-6 py-4 flex items-center",children:[E.jsxs(vn,{to:"/dashboard",className:"text-white hover:text-grey-300 flex items-center mr-4 transition-all",children:[E.jsx(Kh,{size:20,className:"mr-1"}),E.jsx("span",{children:"Back"})]}),E.jsx("h2",{className:"text-2xl font-bold text-white flex-1 text-center",children:"Feedback & Reporting System"})]}),E.jsx("div",{className:"p-6 md:p-8",children:m?E.jsxs("div",{className:"bg-green-800 p-8 rounded-xl text-center border border-green-600 shadow-sm",children:[E.jsx(Qh,{size:64,className:"mx-auto mb-4 text-green-400"}),E.jsx("h3",{className:"text-2xl font-semibold text-green-300 mb-2",children:"Thank you for your feedback!"}),E.jsx("p",{className:"text-lg text-green-400",children:"Your input helps improve education quality for everyone."})]}):E.jsxs("form",{onSubmit:O,className:"space-y-6",children:[A&&E.jsx("div",{className:"bg-red-800 text-red-300 p-4 rounded-lg border border-red-600 shadow-sm",children:A}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"feedbackType",className:"block text-lg font-medium text-gray-300",children:"Feedback Type"}),E.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(Q).map(([L,G])=>E.jsxs("div",{onClick:()=>n(L),className:`p-3 text-center rounded-lg cursor-pointer border transition-all ${e===L?"bg-purple-500 border-purple-400":"border-gray-600 hover:border-purple-400"}`,children:[E.jsx("div",{className:"text-2xl mb-1",children:G}),E.jsx("div",{className:"text-sm capitalize text-gray-300",children:L})]},L))})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"feedbackText",className:"block text-lg font-medium text-gray-300",children:"Your Feedback"}),E.jsx("textarea",{id:"feedbackText",value:s,onChange:L=>o(L.target.value),placeholder:"Describe your concern or feedback in detail...",rows:"6",required:!0,className:"mt-2 block w-full px-4 py-3 border border-gray-700 bg-gray-700 text-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all"})]}),E.jsxs("div",{className:"flex items-center bg-gray-800 p-4 rounded-lg",children:[E.jsx("input",{type:"checkbox",id:"anonymous",checked:u,onChange:L=>f(L.target.checked),className:"h-5 w-5 text-purple-600 border-gray-700 rounded focus:ring-purple-500"}),E.jsx("label",{htmlFor:"anonymous",className:"ml-3 text-gray-300 text-lg",children:"Submit Anonymously"})]}),E.jsx("button",{type:"submit",disabled:y,className:`w-full py-4 bg-purple-700 text-white font-semibold rounded-lg shadow-md transition-all ${y?"opacity-70 cursor-not-allowed":"hover:bg-purple-600"}`,children:y?"Submitting...":"Submit Feedback"})]})})]})})}function $N(){const[r,e]=B.useState("bullying"),[n,s]=B.useState(""),[o,u]=B.useState(""),[f,m]=B.useState(""),[p,y]=B.useState(!1),[T,A]=B.useState(!1),[x,O]=B.useState(""),U=async G=>{if(G.preventDefault(),!n.trim()||!o||!f.trim()){O("Please fill in all required fields");return}try{await Gh(Yr(rn,"complaints"),{incidentType:r,description:n,date:o,location:f,isAnonymous:p,createdAt:new Date}),A(!0),setTimeout(()=>Q(),4e3)}catch(te){console.error("Error submitting complaint:",te),O("Failed to submit report. Please try again.")}},Q=()=>{e("bullying"),s(""),u(""),m(""),y(!1),A(!1),O("")},L={bullying:"🛑",verbal_harassment:"🗣️",physical_harassment:"👊",cyberbullying:"💻",discrimination:"🚫",other:"❓"};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black py-12 px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-4xl mx-auto bg-black rounded-2xl shadow-xl overflow-hidden",children:[E.jsx("br",{}),E.jsx("br",{}),E.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-pink-600 px-6 py-4 flex items-center",children:[E.jsxs(vn,{to:"/dashboard",className:"text-white hover:text-grey-300 flex items-center mr-4 transition-all",children:[E.jsx(Kh,{size:20,className:"mr-1"}),E.jsx("span",{children:"Back"})]}),E.jsx("h2",{className:"text-2xl font-bold text-white flex-1 text-center",children:"Report an Incident"})]}),E.jsx("div",{className:"p-6 md:p-8",children:T?E.jsxs("div",{className:"bg-green-800 p-8 rounded-xl text-center border border-green-600 shadow-sm",children:[E.jsx(Qh,{size:64,className:"mx-auto mb-4 text-green-400"}),E.jsx("h3",{className:"text-2xl font-semibold text-green-300 mb-2",children:"Thank you for speaking up!"}),E.jsx("p",{className:"text-lg text-green-400",children:"Your report has been submitted and will be reviewed by our team.We've got your back✌🏻"})]}):E.jsxs("form",{onSubmit:U,className:"space-y-6",children:[x&&E.jsx("div",{className:"bg-red-800 text-red-300 p-4 rounded-lg border border-red-600 shadow-sm",children:x}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"incidentType",className:"block text-lg font-medium text-gray-300",children:"Type of Incident"}),E.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(L).map(([G,te])=>E.jsxs("div",{onClick:()=>e(G),className:`p-3 text-center rounded-lg cursor-pointer border transition-all ${r===G?"bg-purple-500 border-purple-400":"border-gray-600 hover:border-purple-400"}`,children:[E.jsx("div",{className:"text-2xl mb-1",children:te}),E.jsx("div",{className:"text-sm capitalize text-gray-300",children:G.replace(/_/g," ")})]},G))})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"description",className:"block text-lg font-medium text-gray-300",children:"Description of Incident"}),E.jsx("textarea",{id:"description",value:n,onChange:G=>s(G.target.value),placeholder:"Describe what happened...",rows:"4",required:!0,className:"mt-2 block w-full px-4 py-3 border border-gray-700 bg-gray-700 text-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"date",className:"block text-lg font-medium text-gray-300",children:"Date of Incident"}),E.jsx("input",{type:"date",id:"date",value:o,onChange:G=>u(G.target.value),required:!0,className:"mt-2 block w-full px-4 py-3 border border-gray-700 bg-gray-700 text-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"location",className:"block text-lg font-medium text-gray-300",children:"Location"}),E.jsx("input",{type:"text",id:"location",value:f,onChange:G=>m(G.target.value),placeholder:"Where did this happen?",required:!0,className:"mt-2 block w-full px-4 py-3 border border-gray-700 bg-gray-700 text-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all"})]}),E.jsxs("div",{className:"flex items-center space-x-3",children:[E.jsx("input",{type:"checkbox",id:"anonymous",checked:p,onChange:G=>y(G.target.checked),className:"h-6 w-6 text-purple-500 focus:ring-purple-500 border-gray-300 rounded-md"}),E.jsx("label",{htmlFor:"anonymous",className:"text-lg text-gray-300",children:"Submit Anonymously"})]}),E.jsx("button",{type:"submit",className:`w-full py-4 bg-purple-700 text-white font-semibold rounded-lg shadow-md transition-all ${T?"opacity-70 cursor-not-allowed":"hover:bg-purple-600"}`,children:T?"Submitting...":"Submit Report"})]})})]})})}function XN({userData:r}){const[e,n]=B.useState("teacher"),[s,o]=B.useState(""),[u,f]=B.useState(!1),[m,p]=B.useState(!1),[y,T]=B.useState(!1),[A,x]=B.useState(""),O=async L=>{if(L.preventDefault(),!s.trim()){x("Please enter your issue description");return}console.log("User Data:",r),T(!0);try{await Gh(Yr(rn,"issues"),{type:e,text:s,anonymous:u,userData:u?null:r,timestamp:new Date}),p(!0),setTimeout(()=>U(),3e3)}catch(G){console.error("Error submitting issue:",G),x("Failed to submit issue")}finally{T(!1)}},U=()=>{n("teacher"),o(""),f(!1),p(!1),x("")},Q={teacher:"👩‍🏫",infrastructure:"🏢",harassment:"⚠️",curriculum:"📚",other:"❓"};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black py-12 px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-4xl mx-auto bg-black rounded-2xl shadow-xl overflow-hidden",children:[E.jsx("br",{}),E.jsx("br",{}),E.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-pink-600 px-6 py-4 flex items-center",children:[E.jsxs(vn,{to:"/dashboard",className:"text-white hover:text-grey-300 flex items-center mr-4 transition-all",children:[E.jsx(Kh,{size:20,className:"mr-1"}),E.jsx("span",{children:"Back"})]}),E.jsx("h2",{className:"text-2xl font-bold text-white flex-1 text-center",children:"Raise an Issue"})]}),E.jsx("div",{className:"p-6 md:p-8",children:m?E.jsxs("div",{className:"bg-green-800 p-8 rounded-xl text-center border border-green-600 shadow-sm",children:[E.jsx(Qh,{size:64,className:"mx-auto mb-4 text-green-400"}),E.jsx("h3",{className:"text-2xl font-semibold text-green-300 mb-2",children:"Your issue has been submitted!"}),E.jsx("p",{className:"text-lg text-green-400",children:"Thank you for bringing this to our attention."})]}):E.jsxs("form",{onSubmit:O,className:"space-y-6",children:[A&&E.jsx("div",{className:"bg-red-800 text-red-300 p-4 rounded-lg border border-red-600 shadow-sm",children:A}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"feedbackType",className:"block text-lg font-medium text-gray-300",children:"Type of Issue"}),E.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(Q).map(([L,G])=>E.jsxs("div",{onClick:()=>n(L),className:`p-3 text-center rounded-lg cursor-pointer border transition-all ${e===L?"bg-purple-500 border-purple-400":"border-gray-600 hover:border-purple-400"}`,children:[E.jsx("div",{className:"text-2xl mb-1",children:G}),E.jsx("div",{className:"text-sm capitalize text-gray-300",children:L})]},L))})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"feedbackText",className:"block text-lg font-medium text-gray-300",children:"Describe the Issue"}),E.jsx("textarea",{id:"feedbackText",value:s,onChange:L=>o(L.target.value),placeholder:"Explain the issue in detail...",rows:"4",required:!0,className:"mt-2 block w-full px-4 py-3 border border-gray-700 bg-gray-700 text-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all"})]}),E.jsxs("div",{className:"flex items-center bg-gray-800 p-4 rounded-lg",children:[E.jsx("input",{type:"checkbox",id:"isAnonymous",checked:u,onChange:L=>f(L.target.checked),className:"h-5 w-5 text-purple-600 border-gray-700 rounded focus:ring-purple-500"}),E.jsx("label",{htmlFor:"isAnonymous",className:"ml-3 text-gray-300 text-lg",children:"Submit Anonymously"})]}),E.jsx("button",{type:"submit",disabled:y,className:`w-full py-4 bg-purple-700 text-white font-semibold rounded-lg shadow-md transition-all ${y?"opacity-70 cursor-not-allowed":"hover:bg-purple-600"}`,children:y?"Submitting...":"Submit Issue"})]})})]})})}function WN({userData:r}){const[e,n]=B.useState(""),[s,o]=B.useState("art"),[u,f]=B.useState(""),[m,p]=B.useState(""),[y,T]=B.useState(""),[A,x]=B.useState(!1),[O,U]=B.useState(!1),[Q,L]=B.useState(""),G=async ae=>{if(ae.preventDefault(),!e||!s||!u||!y||!m){L("Please fill in all fields");return}U(!0);const ce=m.match(/\/d\/(.*)\/view/);if(!ce){L("Invalid Google Drive link"),U(!1);return}const D=`https://drive.google.com/thumbnail?id=${ce[1]}`;try{await Gh(Yr(rn,"showcases"),{title:e,category:s,description:u,fileUrl:D,author:y,likes:0,timestamp:new Date}),x(!0),setTimeout(()=>te(),3e3)}catch(R){console.error("Error submitting showcase:",R),L("Failed to submit showcase")}finally{U(!1)}},te=()=>{n(""),o("art"),f(""),p(""),T(""),x(!1),L("")},Z={art:"🎨",music:"🎵",writing:"✍️",academic:"📚",technology:"💻",sports:"🏆",other:"🌟"};return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black py-12 px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"max-w-4xl mx-auto bg-black rounded-2xl shadow-xl overflow-hidden",children:[E.jsx("br",{}),E.jsx("br",{}),E.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-pink-600 px-6 py-4 flex items-center",children:[E.jsxs(vn,{to:"/dashboard",className:"text-white hover:text-grey-300 flex items-center mr-4 transition-all",children:[E.jsx(Kh,{size:20,className:"mr-1"}),E.jsx("span",{children:"Back"})]}),E.jsx("h2",{className:"text-2xl font-bold text-white flex-1 text-center",children:"Showcase Your Talent"})]}),E.jsx("div",{className:"p-6 md:p-8",children:A?E.jsxs("div",{className:"bg-green-800 p-8 rounded-xl text-center border border-green-600 shadow-sm",children:[E.jsx(Qh,{size:64,className:"mx-auto mb-4 text-green-400"}),E.jsx("h3",{className:"text-2xl font-semibold text-green-300 mb-2",children:"Your talent has been showcased!"}),E.jsx("p",{className:"text-lg text-green-400",children:"Your submission is now visible to other students."})]}):E.jsxs("form",{onSubmit:G,className:"space-y-6",children:[Q&&E.jsx("div",{className:"bg-red-800 text-red-300 p-4 rounded-lg border border-red-600 shadow-sm",children:Q}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"displayName",className:"block text-lg font-medium text-gray-300",children:"Display Name"}),E.jsx("input",{type:"text",id:"displayName",value:y,onChange:ae=>T(ae.target.value),placeholder:"Enter Display Name",required:!0,className:"mt-2 block w-full px-4 py-3 border border-gray-700 bg-gray-700 text-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"title",className:"block text-lg font-medium text-gray-300",children:"Title"}),E.jsx("input",{type:"text",id:"title",value:e,onChange:ae=>n(ae.target.value),placeholder:"Give your work a title",required:!0,className:"mt-2 block w-full px-4 py-3 border border-gray-700 bg-gray-700 text-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"category",className:"block text-lg font-medium text-gray-300",children:"Category"}),E.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(Z).map(([ae,ce])=>E.jsxs("div",{onClick:()=>o(ae),className:`p-3 text-center rounded-lg cursor-pointer border transition-all ${s===ae?"bg-purple-500 border-purple-400":"border-gray-600 hover:border-purple-400"}`,children:[E.jsx("div",{className:"text-2xl mb-1",children:ce}),E.jsx("div",{className:"text-sm capitalize text-gray-300",children:ae})]},ae))})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"description",className:"block text-lg font-medium text-gray-300",children:"Description"}),E.jsx("textarea",{id:"description",value:u,onChange:ae=>f(ae.target.value),placeholder:"Describe your work...",rows:"4",required:!0,className:"mt-2 block w-full px-4 py-3 border border-gray-700 bg-gray-700 text-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all"})]}),E.jsxs("div",{className:"bg-black p-6 rounded-lg ",children:[E.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Upload Your Work"}),E.jsxs("button",{type:"button",onClick:()=>window.open("https://drive.google.com/drive/folders/1-zuFHvIavdIxofwgTLqTuneB-qCTngPu?usp=sharing","_blank"),className:"w-full py-3 bg-white text-purple-700 font-semibold rounded-lg border-2 border-purple-300 hover:bg-purple-100 transition-all duration-300 flex items-center justify-center",children:[E.jsx(QN,{size:20,className:"mr-2"}),"Upload to Google Drive"]}),E.jsxs("div",{className:"mt-4",children:[E.jsx("label",{htmlFor:"fileUrl",className:"block text-sm font-lg text-white",children:"Paste Google Drive link below"}),E.jsx("input",{type:"text",id:"fileUrl",value:m,onChange:ae=>p(ae.target.value),placeholder:"https://drive.google.com/file/d/...",required:!0,className:"mt-2 block w-full px-4 py-3 border border-gray-700 bg-gray-700 text-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all"})]})]}),E.jsx("button",{type:"submit",disabled:O,className:`w-full py-4 bg-purple-700 text-white font-semibold rounded-lg shadow-md transition-all ${O?"opacity-70 cursor-not-allowed":"hover:bg-purple-600"}`,children:O?"Uploading...":"Share Your Talent"})]})})]})})}function ZN(){return E.jsx(mA,{children:E.jsxs(FS,{children:[E.jsxs(Gn,{path:"/",element:E.jsx(jN,{}),children:[E.jsx(Gn,{index:!0,element:E.jsx(UN,{})}),E.jsx(Gn,{path:"dashboard",element:E.jsx(VN,{userData:{grade:"10",school:"XYZ",locality:"City"}})}),E.jsx(Gn,{path:"profile",element:E.jsx(zN,{})}),E.jsx(Gn,{path:"about",element:E.jsx(PN,{})}),E.jsx(Gn,{path:"feedback",element:E.jsx(YN,{})}),E.jsx(Gn,{path:"complain",element:E.jsx($N,{})}),E.jsx(Gn,{path:"raise-issue",element:E.jsx(XN,{})}),E.jsx(Gn,{path:"showcase",element:E.jsx(WN,{})})]}),E.jsx(Gn,{path:"/login",element:E.jsx(MN,{})})]})})}Ww.createRoot(document.getElementById("root")).render(E.jsx(B.StrictMode,{children:E.jsx(kN,{children:E.jsx(ZN,{})})}));
